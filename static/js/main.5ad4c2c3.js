/*! For license information please see main.5ad4c2c3.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},67:(e,t,n)=>{e.exports=n(612)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function _(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=v.prototype;var b=y.prototype=new _;b.constructor=y,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!w.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+R(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(M(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+R(s=e[c],c);l+=A(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,u=o+R(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},k={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:k,ReactCurrentOwner:E};function N(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!w.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=N,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},330:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},461:(e,t,n)=>{e.exports=n(330)},579:(e,t,n)=>{e.exports=n(153)},612:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,k(S);else{var t=r(u);null!==t&&L(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,_(M),M=-1),f=!0;var o=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(x,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,w=!1,C=null,M=-1,T=5,R=-1;function A(){return!(t.unstable_now()-R<T)}function P(){if(null!==C){var e=t.unstable_now();R=e;var n=!0;try{n=C(!0,e)}finally{n?E():(w=!1,C=null)}}else w=!1}if("function"===typeof y)E=function(){y(P)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,I=D.port2;D.port1.onmessage=P,E=function(){I.postMessage(null)}}else E=function(){v(P,0)};function k(e){C=e,w||(w=!0,E())}function L(e,n){M=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,k(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(_(M),M=-1):g=!0,L(x,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,k(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},730:(e,t,n)=>{var r=n(43),i=n(67);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,_);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,_);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,_);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,F=Object.assign;function U(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function H(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case C:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=j(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,we=null;function Ce(e){if(e=yi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Me(e){Ee?we?we.push(e):we=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=we;if(we=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Re(e,t){return e(t)}function Ae(){}var Pe=!1;function De(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Re(e,t,n)}finally{Pe=!1,(null!==Ee||null!==we)&&(Ae(),Te())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ke=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){ke=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){ke=!1}function Ne(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Fe=null,Ue=!1,Be=null,ze={onError:function(e){Oe=!0,Fe=e}};function He(e,t,n,r,i,o,a,s,l){Oe=!1,Fe=null,Ne.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(o(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,Et,wt,Ct,Mt=!1,Tt=[],Rt=null,At=null,Pt=null,Dt=new Map,It=new Map,kt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=_i(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Ut(e)&&n.delete(t)}function zt(){Mt=!1,null!==Rt&&Ut(Rt)&&(Rt=null),null!==At&&Ut(At)&&(At=null),null!==Pt&&Ut(Pt)&&(Pt=null),Dt.forEach(Bt),It.forEach(Bt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Ht(t,e)}if(0<Tt.length){Ht(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Ht(Rt,e),null!==At&&Ht(At,e),null!==Pt&&Ht(Pt,e),Dt.forEach(t),It.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Ft(n),null===n.blockedOn&&kt.shift()}var Wt=b.ReactCurrentBatchConfig,Gt=!0;function jt(e,t,n,r){var i=yt,o=Wt.transition;Wt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,Wt.transition=o}}function Xt(e,t,n,r){var i=yt,o=Wt.transition;Wt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,Wt.transition=o}}function Kt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,qt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Rt=Ot(Rt,e,t,n,r,i),!0;case"dragenter":return At=Ot(At,e,t,n,r,i),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Ot(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Ot(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&Gr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var qt=null;function Yt(e,t,n,r){if(qt=null,null!==(e=_i(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(F({},pn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(_n),bn=on(F({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return wn}var Mn=F({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(Mn),Rn=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(Dn),kn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var On=u&&"TextEvent"in window&&!Nn,Fn=u&&(!Ln||Nn&&8<Nn&&11>=Nn),Un=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function jn(e,t,n,r){Me(r),0<(t=Xr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Kn=null;function qn(e){Ur(e,0)}function Yn(e){if(K(bi(e)))return e}function Zn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),Kn=Xn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];jn(t,Kn,e,xe(e)),De(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,_r=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&lr(_r,r)||(_r=r,0<(r=Xr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},wr={};function Cr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return Er[e]=n[t];return e}u&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Mr=Cr("animationend"),Tr=Cr("animationiteration"),Rr=Cr("animationstart"),Ar=Cr("transitionend"),Pr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Pr.set(e,t),l(t,[e])}for(var kr=0;kr<Dr.length;kr++){var Lr=Dr[kr];Ir(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ir(Mr,"onAnimationEnd"),Ir(Tr,"onAnimationIteration"),Ir(Rr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(He.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var u=Fe;Oe=!1,Fe=null,Ue||(Ue=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}}}if(Ue)throw e=Be,Ue=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Hr]){e[Hr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Zt(t)){case 1:var i=jt;break;case 4:i=Xt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=_i(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}De((function(){var r=o,i=xe(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Mr:case Tr:case Rr:l=vn;break;case Ar:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Ie(f,h))&&u.push(jr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!_i(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?_i(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:bi(l),p=null==c?s:bi(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,_i(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&qr(a,s,l,u,!1),null!==c&&null!==d&&qr(a,d,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(Gn(s))if(Qn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?jn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?bi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,_r=null);break;case"focusout":_r=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var _;if(Ln)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(_=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Vn=!0)),0<(v=Xr(r,y)).length&&(y=new bn(y,e,null,n,i),a.push({event:y,listeners:v}),_?y.data=_:null!==(_=Hn(n))&&(y.data=_))),(_=On?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Un);case"textInput":return(e=t.data)===Un&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&zn(e,t)?(e=en(),$t=Jt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=_))}Ur(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ie(e,n))&&r.unshift(jr(e,o,i)),null!=(o=Ie(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ie(n,o))&&a.unshift(jr(n,l,s)):i||null!=(l=Ie(n,o))&&a.push(jr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Zr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function _i(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[pi]||null}var Si=[],Ei=-1;function wi(e){return{current:e}}function Ci(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Mi(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ti={},Ri=wi(Ti),Ai=wi(!1),Pi=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ki(){Ci(Ai),Ci(Ri)}function Li(e,t,n){if(Ri.current!==Ti)throw Error(o(168));Mi(Ri,t),Mi(Ai,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ri.current,Mi(Ri,e),Mi(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ni(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ai),Ci(Ri),Mi(Ri,e)):Ci(Ai),Mi(Ai,n)}var Ui=null,Bi=!1,zi=!1;function Hi(e){null===Ui?Ui=[e]:Ui.push(e)}function Vi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=yt;try{var n=Ui;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Bi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke($e,Vi),i}finally{yt=t,zi=!1}}return null}var Wi=[],Gi=0,ji=null,Xi=0,Ki=[],qi=0,Yi=null,Zi=1,Qi="";function Ji(e,t){Wi[Gi++]=Xi,Wi[Gi++]=ji,ji=e,Xi=t}function $i(e,t,n){Ki[qi++]=Zi,Ki[qi++]=Qi,Ki[qi++]=Yi,Yi=e;var r=Zi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Zi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function to(e){for(;e===ji;)ji=Wi[--Gi],Wi[Gi]=null,Xi=Wi[--Gi],Wi[Gi]=null;for(;e===Yi;)Yi=Ki[--qi],Ki[qi]=null,Qi=Ki[--qi],Ki[qi]=null,Zi=Ki[--qi],Ki[qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Zi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _o(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=kc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&yo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nc(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case I:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:d(e,t,n,r,null);_o(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,s,l,c){var u=N(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=p(i,m,_.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y,m=v}if(_.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=h(i,_.value,c))&&(s=a(_,s,g),null===d?u=_:d.sibling=_,d=_);return io&&Ji(i,g),u}for(m=r(i,m);!_.done;g++,_=l.next())null!==(_=f(m,i,g,_.value,c))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),s=a(_,s,g),null===d?u=_:d.sibling=_,d=_);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&yo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((o=Nc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,l)).return=r,r=o}return s(r);case I:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(N(a))return g(r,o,a,l);_o(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=bo(!0),So=bo(!1),Eo=wi(null),wo=null,Co=null,Mo=null;function To(){Mo=Co=wo=null}function Ro(e){var t=Eo.current;Ci(Eo),e._currentValue=t}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){wo=e,Mo=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Do(e){var t=e._currentValue;if(Mo!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===wo)throw Error(o(308));Co=e,wo.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Io=null;function ko(e){null===Io?Io=[e]:Io.push(e)}function Lo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ko(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,ko(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Ho(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Vo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=F({},d,h);break e;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ol|=a,e.lanes=a,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var jo={},Xo=wi(jo),Ko=wi(jo),qo=wi(jo);function Yo(e){if(e===jo)throw Error(o(174));return e}function Zo(e,t){switch(Mi(qo,t),Mi(Ko,e),Mi(Xo,jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Xo),Mi(Xo,t)}function Qo(){Ci(Xo),Ci(Ko),Ci(qo)}function Jo(e){Yo(qo.current);var t=Yo(Xo.current),n=le(t,e.type);t!==n&&(Mi(Ko,e),Mi(Xo,n))}function $o(e){Ko.current===e&&(Ci(Xo),Ci(Ko))}var ea=wi(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=b.ReactCurrentDispatcher,oa=b.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,pa=0;function fa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?$a:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ya(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function ba(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ya(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Ol|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ya(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ys=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ea(){}function wa(e,t){var n=sa,r=ya(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ys=!0),r=r.queue,Oa(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Da(9,Ma.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&aa)||Ca(n,t,i)}return i}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&Aa(e)}function Ta(e,t,n){return n((function(){Ra(t)&&Aa(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Aa(e){var t=No(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=qa.bind(null,sa,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return ya().memoizedState}function ka(e,t,n,r){var i=_a();sa.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function La(e,t,n,r){var i=ya();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Da(t,n,o,r))}sa.flags|=e,i.memoizedState=Da(1|t,n,o,r)}function Na(e,t){return ka(8390656,8,e,t)}function Oa(e,t){return La(2048,8,e,t)}function Fa(e,t){return La(4,2,e,t)}function Ua(e,t){return La(4,4,e,t)}function Ba(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4,4,Ba.bind(null,t,e),n)}function Ha(){}function Va(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Ol|=n,e.baseState=!0),t)}function ja(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{yt=n,oa.transition=r}}function Xa(){return ya().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Za(t,n);else if(null!==(n=Lo(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function qa(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Za(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,ko(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Lo(e,t,i,r))&&(nc(n,e,r,i=ec()),Qa(n,t,r))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Za(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var Ja={readContext:Do,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},$a={readContext:Do,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:Do,useEffect:Na,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ka(4194308,4,Ba.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Pa,useDebugValue:Ha,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=ja.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=_a();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&aa)||Ca(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Na(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Al.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Zi&~(1<<32-at(Zi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Do,useCallback:Va,useContext:Do,useEffect:Oa,useImperativeHandle:za,useInsertionEffect:Fa,useLayoutEffect:Ua,useMemo:Wa,useReducer:xa,useRef:Ia,useState:function(){return xa(ba)},useDebugValue:Ha,useDeferredValue:function(e){return Ga(ya(),la.memoizedState,e)},useTransition:function(){return[xa(ba)[0],ya().memoizedState]},useMutableSource:Ea,useSyncExternalStore:wa,useId:Xa,unstable_isNewReconciler:!1},ts={readContext:Do,useCallback:Va,useContext:Do,useEffect:Oa,useImperativeHandle:za,useInsertionEffect:Fa,useLayoutEffect:Ua,useMemo:Wa,useReducer:Sa,useRef:Ia,useState:function(){return Sa(ba)},useDebugValue:Ha,useDeferredValue:function(e){var t=ya();return null===la?t.memoizedState=e:Ga(t,la.memoizedState,e)},useTransition:function(){return[Sa(ba)[0],ya().memoizedState]},useMutableSource:Ea,useSyncExternalStore:wa,useId:Xa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Bo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Bo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Bo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Ho(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Do(o):(i=Ii(t)?Pi:Ri.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Do(o):(o=Ii(t)?Pi:Ri.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,jl=r),ds(0,t)},n}function fs(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Po(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||ys?(io&&n&&eo(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ic(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=kc(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(ys=!0)}}return Ms(e,t,n,r,i)}function ws(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(kl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mi(kl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Mi(kl,Il),Il|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Mi(kl,Il),Il|=r;return bs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var o=Ii(n)?Pi:Ri.current;return o=Di(t,o),Po(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||ys?(io&&r&&eo(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ts(e,t,n,r,i){if(Ii(n)){var o=!0;Oi(t)}else o=!1;if(Po(t,i),null===t.stateNode)Ws(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Do(c):c=Di(t,c=Ii(n)?Pi:Ri.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Oo=!1;var h=t.memoizedState;a.state=h,Wo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ai.current||Oo?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Oo||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Uo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Do(l):l=Di(t,l=Ii(n)?Pi:Ri.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Oo=!1,h=t.memoizedState,a.state=h,Wo(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||Ai.current||Oo?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(c=Oo||os(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,o,i)}function Rs(e,t,n,r,i,o){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Gs(e,t,o);r=t.stateNode,_s.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Zo(e,t.containerInfo)}function Ps(e,t,n,r,i){return fo(),mo(i),t.flags|=256,bs(e,t,n,r),t.child}var Ds,Is,ks,Ls,Ns={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Mi(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Oc(l,i,0,null),e=Nc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Ns,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(a=Nc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Ns,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,No(e,i),nc(r,e,i,-1))}return mc(),Bs(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[qi++]=Zi,Ki[qi++]=Qi,Ki[qi++]=Yi,Zi=e.id,Qi=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=kc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=kc(r,s):(s=Nc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=kc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function Hs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,o);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=kc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function js(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Ii(t.type)&&ki(),Xs(t),null;case 3:return r=t.stateNode,Qo(),Ci(Ai),Ci(Ri),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Is(e,t),Xs(t),null;case 5:$o(t);var i=Yo(qo.current);if(n=t.type,null!==e&&null!=t.stateNode)ks(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Xs(t),null}if(e=Yo(Xo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Br(Nr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Z(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in _e(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":X(r),$(r,a,!0);break;case"textarea":X(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Br(Nr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Z(e,r),i=Y(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in _e(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&y(e,a,u,l))}switch(n){case"input":X(e),$(e,r,!1);break;case"textarea":X(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(qo.current),Yo(Xo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Ci(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return Qo(),Is(e,t),null===e&&Vr(t.stateNode.containerInfo),Xs(t),null;case 10:return Ro(t.type._context),Xs(t),null;case 19:if(Ci(ea),null===(a=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)js(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,js(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Vl&&(t.flags|=128,r=!0,js(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),js(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Xs(t),null}else 2*Qe()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,js(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ea.current,Mi(ea,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qs(e,t){switch(to(t),t.tag){case 1:return Ii(t.type)&&ki(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),Ci(Ai),Ci(Ri),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $o(t),null;case 13:if(Ci(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ea),null;case 4:return Qo(),null;case 10:return Ro(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},ks=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Xo.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in _e(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Zs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){wc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){wc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||$s(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Zs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){wc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){wc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){wc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){wc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),ye(l,s);var u=ye(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):y(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){wc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){wc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){wc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=Qe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(u=Zs)||d,ml(t,e),Zs=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:$s(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){wc(r,n,g)}}break;case 5:$s(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Js=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){wc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){wc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){wc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){Js=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Ys;var c=Zs;if(Ys=a,(Zs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Js=l):Sl(i);for(;null!==o;)Js=o,yl(o,t,n),o=o.sibling;Js=i,Ys=s,Zs=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):bl(e)}}function bl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Go(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Zs||512&t.flags&&il(t)}catch(p){wc(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){wc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){wc(t,i,l)}}var o=t.return;try{il(t)}catch(l){wc(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){wc(t,a,l)}}}catch(l){wc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var El,wl=Math.ceil,Cl=b.ReactCurrentDispatcher,Ml=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Rl=0,Al=null,Pl=null,Dl=0,Il=0,kl=wi(0),Ll=0,Nl=null,Ol=0,Fl=0,Ul=0,Bl=null,zl=null,Hl=0,Vl=1/0,Wl=null,Gl=!1,jl=null,Xl=null,Kl=!1,ql=null,Yl=0,Zl=0,Ql=null,Jl=-1,$l=0;function ec(){return 0!==(6&Rl)?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Dl?Dl&-Dl:null!==go.transition?(0===$l&&($l=mt()),$l):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,r){if(50<Zl)throw Zl=0,Ql=null,Error(o(185));vt(e,n,r),0!==(2&Rl)&&e===Al||(e===Al&&(0===(2&Rl)&&(Fl|=n),4===Ll&&sc(e,Dl)),rc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Vl=Qe()+500,Bi&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Al?Dl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Bi=!0,Hi(e)}(lc.bind(null,e)):Hi(lc.bind(null,e)),ai((function(){0===(6&Rl)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,$l=0,0!==(6&Rl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Rl;Rl|=2;var a=fc();for(Al===e&&Dl===t||(Wl=null,Vl=Qe()+500,hc(e,t));;)try{_c();break}catch(l){pc(e,l)}To(),Cl.current=a,Rl=i,null!==Pl?t=0:(Al=null,Dl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=Nl,hc(e,0),sc(e,r),rc(e,Qe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=ft(e))&&(r=a,t=oc(e,a))),1===t))throw n=Nl,hc(e,0),sc(e,r),rc(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,zl,Wl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Hl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,Wl),t);break}xc(e,zl,Wl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,Wl),r);break}xc(e,zl,Wl);break;default:throw Error(o(329))}}}return rc(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function sc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Rl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Nl,hc(e,0),sc(e,t),rc(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Wl),rc(e,Qe()),null}function cc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Vl=Qe()+500,Bi&&Vi())}}function uc(e){null!==ql&&0===ql.tag&&0===(6&Rl)&&Sc();var t=Rl;Rl|=1;var n=Tl.transition,r=yt;try{if(Tl.transition=null,yt=1,e)return e()}finally{yt=r,Tl.transition=n,0===(6&(Rl=t))&&Vi()}}function dc(){Il=kl.current,Ci(kl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ki();break;case 3:Qo(),Ci(Ai),Ci(Ri),ra();break;case 5:$o(r);break;case 4:Qo();break;case 13:case 19:Ci(ea);break;case 10:Ro(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Pl=e=kc(e.current,null),Dl=Il=t,Ll=0,Nl=null,Ul=Fl=Ol=0,zl=Bl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(To(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Ml.current=null,null===n||null===n.return){Ll=1,Nl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,t),1&f.mode&&ms(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,ps(0,c,t));break e;case 1:l=c;var _=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof _.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Xl||!Xl.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t,Vo(a,fs(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Ja,null===e?Ja:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Ol)&&0===(268435455&Fl)||sc(Al,Dl)}function gc(e,t){var n=Rl;Rl|=2;var r=fc();for(Al===e&&Dl===t||(Wl=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(To(),Rl=n,Cl.current=r,null!==Pl)throw Error(o(261));return Al=null,Dl=0,Ll}function vc(){for(;null!==Pl;)yc(Pl)}function _c(){for(;null!==Pl&&!Ye();)yc(Pl)}function yc(e){var t=El(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Ml.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Il)))return void(Pl=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=yt,i=Tl.transition;try{Tl.transition=null,yt=1,function(e,t,n,r){do{Sc()}while(null!==ql);if(0!==(6&Rl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Al&&(Pl=Al=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ac(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=yt;yt=1;var l=Rl;Rl|=4,Ml.current=null,function(e,t){if(ei=Gt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===a&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(x){wc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Gt=!!ei,ti=ei=null,e.current=n,_l(n,e,i),Ze(),Rl=l,yt=s,Tl.transition=a}else e.current=n;if(Kl&&(Kl=!1,ql=e,Yl=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=jl,jl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Ql?Zl++:(Zl=0,Ql=e):Zl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,yt=r}return null}function Sc(){if(null!==ql){var e=bt(Yl),t=Tl.transition,n=yt;try{if(Tl.transition=null,yt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Yl=0,0!==(6&Rl))throw Error(o(331));var i=Rl;for(Rl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(ol(d),d===u){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var _=a.sibling;if(null!==_){_.return=a.return,Js=_;break e}Js=a.return}}var y=e.current;for(Js=y;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=y;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){wc(l,l.return,S)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Rl=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{yt=n,Tl.transition=t}}return!1}function Ec(e,t,n){e=zo(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function wc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xl||!Xl.has(r))){t=zo(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Dl&n)===n&&(4===Ll||3===Ll&&(130023424&Dl)===Dl&&500>Qe()-Hl?hc(e,0):Ul|=n),rc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=No(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Mc(e,n)}function Ac(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Pc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Nc(n.children,i,a,t);case w:s=8,i|=8;break;case C:return(e=Dc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case A:return(e=Dc(13,n,t,i)).elementType=A,e.lanes=a,e;case P:return(e=Dc(19,n,t,i)).elementType=P,e.lanes=a,e;case k:return Oc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case T:s=9;break e;case R:s=11;break e;case D:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=k,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function Hc(e){if(!e)return Ti;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ni(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,l){return(e=zc(n,r,!0,e,0,o,0,s,l)).context=Hc(null),n=e.current,(o=Bo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(nc(e,i,a,o),Ho(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function jc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:As(t),fo();break;case 5:Jo(t);break;case 1:Ii(t.type)&&Oi(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Mi(Eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Mi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Mi(ea,1&ea.current),null!==(e=Gs(e,t,n))?e.sibling:null);Mi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return Gs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,io&&0!==(1048576&t.flags)&&$i(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Di(t,Ri.current);Po(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Rs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===D)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Uo(e,t),Wo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Gs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Mi(Eo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Bo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ao(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ao(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Po(t,n),r=r(i=Do(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),Ss(e,t,r,i=ns(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Ws(e,t),t.tag=1,Ii(r)?(e=!0,Oi(t)):e=!1,Po(t,n),as(t,r,i),ls(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ws(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function $c(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fi]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(a)}Yc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Yc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[fi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&0!==t&&t<kt[n].priority;n++);kt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(_t(t,1|n),rc(t,Qe()),0===(6&Rl)&&(Vl=Qe()+500,Vi()))}break;case 13:uc((function(){var t=No(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Xc(e,1)}},St=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)nc(t,e,134217728,ec());Xc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=No(e,t);if(null!==n)nc(n,e,t,ec());Xc(e,t)}},wt=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=cc,Ae=uc;var eu={usingClientEntryPoint:!1,Events:[yi,bi,xi,Me,Te,cc]},tu={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=je(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),i=n.t(r,2),o=n(391);function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var s={};function l(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:s}var c=Object.assign,u=Object.getOwnPropertyDescriptor,d=Object.defineProperty,h=Object.prototype,p=[];Object.freeze(p);var f={};Object.freeze(f);var m="undefined"!==typeof Proxy,g=Object.toString();function v(){m||a("Proxy not available")}function _(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var y=function(){};function b(e){return"function"===typeof e}function x(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function S(e){return null!==e&&"object"===typeof e}function E(e){if(!S(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===g}function w(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function C(e,t,n){d(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function M(e,t,n){d(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function T(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return S(e)&&!0===e[n]}}function R(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function A(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var P="undefined"!==typeof Object.getOwnPropertySymbols;var D="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:P?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function I(e){return null===e?null:"object"===typeof e?""+e:e}function k(e,t){return h.hasOwnProperty.call(e,t)}var L=Object.getOwnPropertyDescriptors||function(e){var t={};return D(e).forEach((function(n){t[n]=u(e,n)})),t};function N(e,t){return!!(e&t)}function O(e,t,n){return n?e|=t:e&=~t,e}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}function B(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,W(e,t)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function G(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var j=Symbol("mobx-stored-annotations");function X(e){return Object.assign((function(t,n){if(q(n))return e.decorate_20223_(t,n);K(t,n,e)}),e)}function K(e,t,n){k(e,j)||C(e,j,H({},e[j])),function(e){return e.annotationType_===ne}(n)||(e[j][t]=n)}function q(e){return"object"==typeof e&&"string"==typeof e.kind}var Y=Symbol("mobx administration"),Z=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=et.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return wt(this)},t.reportChanged=function(){St(),Ct(this),Et()},t.toString=function(){return this.name_},B(e,[{key:"isBeingObserved",get:function(){return N(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=O(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return N(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=O(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return N(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();Z.isBeingObservedMask_=1,Z.isPendingUnobservationMask_=2,Z.diffValueMask_=4;var Q=T("Atom",Z);function J(e,t,n){void 0===t&&(t=y),void 0===n&&(n=y);var r,i=new Z(e);return t!==y&&Yt(Xt,i,t,r),n!==y&&qt(i,n),i}var $={identity:function(e,t){return e===t},structural:function(e,t){return gr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return gr(e,t,1)}};function ee(e,t,n){return un(e)?e:Array.isArray(e)?Ue.array(e,{name:n}):E(e)?Ue.object(e,void 0,{name:n}):R(e)?Ue.map(e,{name:n}):A(e)?Ue.set(e,{name:n}):"function"!==typeof e||Vt(e)||ln(e)?e:w(e)?an(e):Ht(n,e)}function te(e){return e}var ne="override";function re(e,t){return{annotationType_:e,options_:t,make_:ie,extend_:oe,decorate_20223_:ae}}function ie(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Vt(n.value))return 1;var o=se(e,this,t,n,!1);return d(r,t,o),2}function oe(e,t,n,r){var i=se(e,this,t,n);return e.defineProperty_(t,i,r)}function ae(e,t){var n,r=t.kind,i=t.name,o=t.addInitializer,s=this,l=function(e){var t,n,r,o;return Ke(null!=(t=null==(n=s.options_)?void 0:n.name)?t:i.toString(),e,null!=(r=null==(o=s.options_)?void 0:o.autoAction)&&r)};return"field"==r?function(e){var t,n=e;return Vt(n)||(n=l(n)),null!=(t=s.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==r?(Vt(e)||(e=l(e)),null!=(n=this.options_)&&n.bound&&o((function(){var e=this,t=e[i].bind(e);t.isMobxAction=!0,e[i]=t})),e):void a("Cannot apply '"+s.annotationType_+"' to '"+String(i)+"' (kind: "+r+"):\n'"+s.annotationType_+"' can only be used on properties with a function value.")}function se(e,t,n,r,i){var o,a,s,l,c,u,d,h;void 0===i&&(i=_t.safeDescriptors),h=r,t.annotationType_,h.value;var p,f=r.value;null!=(o=t.options_)&&o.bound&&(f=f.bind(null!=(p=e.proxy_)?p:e.target_));return{value:Ke(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),f,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function le(e,t){return{annotationType_:e,options_:t,make_:ce,extend_:ue,decorate_20223_:de}}function ce(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!k(e.target_,t)||!ln(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(ln(n.value))return 1;var o=he(e,this,t,n,!1,!1);return d(r,t,o),2}function ue(e,t,n,r){var i,o=he(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function de(e,t){var n;var r=t.name,i=t.addInitializer;return ln(e)||(e=an(e)),null!=(n=this.options_)&&n.bound&&i((function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t})),e}function he(e,t,n,r,i,o){var a;void 0===o&&(o=_t.safeDescriptors),a=r,t.annotationType_,a.value;var s,l=r.value;(ln(l)||(l=an(l)),i)&&((l=l.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:l,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function pe(e,t){return{annotationType_:e,options_:t,make_:fe,extend_:me,decorate_20223_:ge}}function fe(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function me(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,H({},this.options_,{get:n.get,set:n.set}),r)}function ge(e,t){var n=this,r=t.name;return(0,t.addInitializer)((function(){var t=Kn(this)[Y],i=H({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new $e(i))})),function(){return this[Y].getObservablePropValue_(r)}}function ve(e,t){return{annotationType_:e,options_:t,make_:_e,extend_:ye,decorate_20223_:be}}function _e(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ye(e,t,n,r){var i,o;return function(e,t){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:ee,r)}function be(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function a(e,t){var r,a,s=Kn(e)[Y],l=new Je(t,null!=(r=null==(a=n.options_)?void 0:a.enhancer)?r:ee,"ObservableObject."+i.toString(),!1);s.values_.set(i,l),o.add(e)}if("accessor"==r)return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[Y].getObservablePropValue_(i)},set:function(e){return o.has(this)||a(this,e),this[Y].setObservablePropValue_(i,e)},init:function(e){return o.has(this)||a(this,e),e}}}var xe="true",Se=Ee();function Ee(e){return{annotationType_:xe,options_:e,make_:we,extend_:Ce,decorate_20223_:Me}}function we(e,t,n,r){var i,o,a,s;if(n.get)return Ve.make_(e,t,n,r);if(n.set){var l=Ke(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!_t.safeDescriptors||e.isPlainObject_,set:l})?0:2:(d(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"===typeof n.value)return w(n.value)?(null!=(s=this.options_)&&s.autoBind?an.bound:an).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Ht.bound:Ht).make_(e,t,n,r);var c,u=!1===(null==(i=this.options_)?void 0:i.deep)?Ue.ref:Ue;"function"===typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return u.make_(e,t,n,r)}function Ce(e,t,n,r){var i,o,a;if(n.get)return Ve.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!_t.safeDescriptors||e.isPlainObject_,set:Ke(t.toString(),n.set)},r);"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Ue.ref:Ue).extend_(e,t,n,r)}function Me(e,t){a("'"+this.annotationType_+"' cannot be used as a decorator")}var Te={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Re(e){return e||Te}Object.freeze(Te);var Ae=ve("observable"),Pe=ve("observable.ref",{enhancer:te}),De=ve("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||Zn(e)||kn(e)||Un(e)||Vn(e)?e:Array.isArray(e)?Ue.array(e,{name:n,deep:!1}):E(e)?Ue.object(e,void 0,{name:n,deep:!1}):R(e)?Ue.map(e,{name:n,deep:!1}):A(e)?Ue.set(e,{name:n,deep:!1}):void 0}}),Ie=ve("observable.struct",{enhancer:function(e,t){return gr(e,t)?t:e}}),ke=X(Ae);function Le(e){return!0===e.deep?ee:!1===e.deep?te:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:ee}(e.defaultDecorator)}function Ne(e,t,n){return q(t)?Ae.decorate_20223_(e,t):x(t)?void K(e,t,Ae):un(e)?e:E(e)?Ue.object(e,t,n):Array.isArray(e)?Ue.array(e,t):R(e)?Ue.map(e,t):A(e)?Ue.set(e,t):"object"===typeof e&&null!==e?e:Ue.box(e,t)}c(Ne,ke);var Oe,Fe,Ue=c(Ne,{box:function(e,t){var n=Re(t);return new Je(e,Le(n),n.name,!0,n.equals)},array:function(e,t){var n=Re(t);return(!1===_t.useProxies||!1===n.proxy?cr:Mn)(e,Le(n),n.name)},map:function(e,t){var n=Re(t);return new Fn(e,Le(n),n.name)},set:function(e,t){var n=Re(t);return new Hn(e,Le(n),n.name)},object:function(e,t,n){return pr((function(){return Jt(!1===_t.useProxies||!1===(null==n?void 0:n.proxy)?Kn({},n):function(e,t){var n,r;return v(),e=Kn(e,t),null!=(r=(n=e[Y]).proxy_)?r:n.proxy_=new Proxy(e,pn)}({},n),e,t)}))},ref:X(Pe),shallow:X(De),deep:ke,struct:X(Ie)}),Be="computed",ze=pe(Be),He=pe("computed.struct",{equals:$.structural}),Ve=function(e,t){if(q(t))return ze.decorate_20223_(e,t);if(x(t))return K(e,t,ze);if(E(e))return X(pe(Be,e));var n=E(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new $e(n)};Object.assign(Ve,ze),Ve.struct=X(He);var We=0,Ge=1,je=null!=(Oe=null==(Fe=u((function(){}),"name"))?void 0:Fe.configurable)&&Oe,Xe={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ke(e,t,n,r){function i(){return qe(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},je&&(Xe.value=e,d(i,"name",Xe)),i}function qe(e,t,n,r,i){var o=function(e,t){var n=!1,r=0;0;var i=_t.trackingDerivation,o=!t||!i;St();var a=_t.allowStateChanges;o&&(ut(),a=Ze(!0));var s=ht(!0),l={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:s,notifySpy_:n,startTime_:r,actionId_:Ge++,parentActionId_:We};return We=l.actionId_,l}(0,t);try{return n.apply(r,i)}catch(s){throw o.error_=s,s}finally{!function(e){We!==e.actionId_&&a(30);We=e.parentActionId_,void 0!==e.error_&&(_t.suppressReactionErrors=!0);Qe(e.prevAllowStateChanges_),pt(e.prevAllowStateReads_),Et(),e.runAsAction_&&dt(e.prevDerivation_);0;_t.suppressReactionErrors=!1}(o)}}function Ye(e,t){var n=Ze(e);try{return t()}finally{Qe(n)}}function Ze(e){var t=_t.allowStateChanges;return _t.allowStateChanges=e,t}function Qe(e){_t.allowStateChanges=e}var Je=function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=$.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}V(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==_t.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(at(this),fn(this)){var t=gn(this,{object:this,type:En,newValue:e});if(!t)return _t.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?_t.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),vn(this)&&yn(this,{type:En,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return mn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:En,newValue:this.value_,oldValue:void 0}),_n(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return I(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Z),$e=function(){function e(e){this.dependenciesState_=et.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=et.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new rt(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=tt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||a(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Ke("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?$.structural:$.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==et.UP_TO_DATE_)return;e.lowestObserverState_=et.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===et.UP_TO_DATE_&&(e.dependenciesState_=et.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing&&a(32,this.name_,this.derivation),0!==_t.inBatch||0!==this.observers_.size||this.keepAlive_){if(wt(this),ot(this)){var e=_t.trackingContext;this.keepAlive_&&!e&&(_t.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===et.STALE_)return;e.lowestObserverState_=et.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===et.POSSIBLY_STALE_?t.dependenciesState_=et.STALE_:t.dependenciesState_===et.UP_TO_DATE_&&(e.lowestObserverState_=et.UP_TO_DATE_)}))}(this),_t.trackingContext=e}}else ot(this)&&(this.warnAboutUntrackedRead_(),St(),this.value_=this.computeValue_(!1),Et());var t=this.value_;if(it(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&a(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else a(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===et.NOT_TRACKING_,n=this.computeValue_(!0),r=t||it(e)||it(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing=!0;var t,n=Ze(!1);if(e)t=st(this,this.derivation,this.scope_);else if(!0===_t.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(r){t=new rt(r)}return Qe(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(lt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return Wt((function(){var o=n.get();if(!r||t){var a=ut();e({observableKind:"computed",debugObjectName:n.name_,type:En,object:n,newValue:o,oldValue:i}),dt(a)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return I(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},B(e,[{key:"isComputing",get:function(){return N(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=O(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return N(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=O(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return N(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=O(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return N(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=O(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return N(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();$e.isComputingMask_=1,$e.isRunningSetterMask_=2,$e.isBeingObservedMask_=4,$e.isPendingUnobservationMask_=8,$e.diffValueMask_=16;var et,tt,nt=T("ComputedValue",$e);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(et||(et={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(tt||(tt={}));var rt=function(e){this.cause=void 0,this.cause=e};function it(e){return e instanceof rt}function ot(e){switch(e.dependenciesState_){case et.UP_TO_DATE_:return!1;case et.NOT_TRACKING_:case et.STALE_:return!0;case et.POSSIBLY_STALE_:for(var t=ht(!0),n=ut(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(nt(a)){if(_t.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return dt(n),pt(t),!0}if(e.dependenciesState_===et.STALE_)return dt(n),pt(t),!0}}return ft(e),dt(n),pt(t),!1}}function at(e){}function st(e,t,n){var r=ht(!0);ft(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++_t.runId;var i,o=_t.trackingDerivation;if(_t.trackingDerivation=e,_t.inBatch++,!0===_t.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(a){i=new rt(a)}return _t.inBatch--,_t.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=et.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var l=t[o];0===l.diffValue&&bt(l,e),l.diffValue=0}for(;i--;){var c=n[i];1===c.diffValue&&(c.diffValue=0,yt(c,e))}r!==et.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),pt(r),i}function lt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)bt(t[n],e);e.dependenciesState_=et.NOT_TRACKING_}function ct(e){var t=ut();try{return e()}finally{dt(t)}}function ut(){var e=_t.trackingDerivation;return _t.trackingDerivation=null,e}function dt(e){_t.trackingDerivation=e}function ht(e){var t=_t.allowStateReads;return _t.allowStateReads=e,t}function pt(e){_t.allowStateReads=e}function ft(e){if(e.dependenciesState_!==et.UP_TO_DATE_){e.dependenciesState_=et.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=et.UP_TO_DATE_}}var mt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},gt=!0,vt=!1,_t=function(){var e=l();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(gt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new mt).version&&(gt=!1),gt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new mt):(setTimeout((function(){vt||a(35)}),1),new mt)}();function yt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function bt(e,t){e.observers_.delete(t),0===e.observers_.size&&xt(e)}function xt(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,_t.pendingUnobservations.push(e))}function St(){_t.inBatch++}function Et(){if(0===--_t.inBatch){At();for(var e=_t.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof $e&&n.suspend_())}_t.pendingUnobservations=[]}}function wt(e){var t=_t.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&_t.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&_t.inBatch>0&&xt(e),!1)}function Ct(e){e.lowestObserverState_!==et.STALE_&&(e.lowestObserverState_=et.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===et.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=et.STALE_})))}var Mt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=et.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=tt.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,_t.pendingReactions.push(this),At())},t.runReaction_=function(){if(!this.isDisposed){St(),this.isScheduled=!1;var e=_t.trackingContext;if(_t.trackingContext=this,ot(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}_t.trackingContext=e,Et()}},t.track=function(e){if(!this.isDisposed){St();0,this.isRunning=!0;var t=_t.trackingContext;_t.trackingContext=this;var n=st(this,e,void 0);_t.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&lt(this),it(n)&&this.reportExceptionInDerivation_(n.cause),Et()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(_t.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";_t.suppressReactionErrors||console.error(n,e),_t.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(St(),lt(this),Et()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[Y]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},B(e,[{key:"isDisposed",get:function(){return N(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=O(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return N(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=O(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return N(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=O(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return N(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=O(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return N(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=O(this.flags_,e.diffValueMask_,1===t)}}])}();Mt.isDisposedMask_=1,Mt.isScheduledMask_=2,Mt.isTrackPendingMask_=4,Mt.isRunningMask_=8,Mt.diffValueMask_=16;var Tt=100,Rt=function(e){return e()};function At(){_t.inBatch>0||_t.isRunningReactions||Rt(Pt)}function Pt(){_t.isRunningReactions=!0;for(var e=_t.pendingReactions,t=0;e.length>0;){++t===Tt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}_t.isRunningReactions=!1}var Dt=T("Reaction",Mt);var It="action",kt="autoAction",Lt="<unnamed action>",Nt=re(It),Ot=re("action.bound",{bound:!0}),Ft=re(kt,{autoAction:!0}),Ut=re("autoAction.bound",{autoAction:!0,bound:!0});function Bt(e){return function(t,n){return b(t)?Ke(t.name||Lt,t,e):b(n)?Ke(t,n,e):q(n)?(e?Ft:Nt).decorate_20223_(t,n):x(n)?K(t,n,e?Ft:Nt):x(t)?X(re(e?kt:It,{name:t,autoAction:e})):void 0}}var zt=Bt(!1);Object.assign(zt,Nt);var Ht=Bt(!0);function Vt(e){return b(e)&&!0===e.isMobxAction}function Wt(e,t){var n,r,i,o;void 0===t&&(t=f);var a,s=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)a=new Mt(s,(function(){this.track(u)}),t.onError,t.requiresObservable);else{var l=jt(t),c=!1;a=new Mt(s,(function(){c||(c=!0,l((function(){c=!1,a.isDisposed||a.track(u)})))}),t.onError,t.requiresObservable)}function u(){e(a)}return null!=(i=t)&&null!=(i=i.signal)&&i.aborted||a.schedule_(),a.getDisposer_(null==(o=t)?void 0:o.signal)}Object.assign(Ht,Ft),zt.bound=X(Ot),Ht.bound=X(Ut);var Gt=function(e){return e()};function jt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Gt}var Xt="onBO",Kt="onBUO";function qt(e,t,n){return Yt(Kt,e,t,n)}function Yt(e,t,n,r){var i="function"===typeof r?ur(t,n):ur(t),o=b(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var Zt="always";function Qt(e){!0===e.isolateGlobalState&&function(){if((_t.pendingReactions.length||_t.inBatch||_t.isRunningReactions)&&a(36),vt=!0,gt){var e=l();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),_t=new mt}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(_t.useProxies=t===Zt||"never"!==t&&"undefined"!==typeof Proxy),"ifavailable"===t&&(_t.verifyProxies=!0),void 0!==n){var r=n===Zt?Zt:"observed"===n;_t.enforceActions=r,_t.allowStateChanges=!0!==r&&r!==Zt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(_t[t]=!!e[t])})),_t.allowStateReads=!_t.observableRequiresReaction,e.reactionScheduler&&function(e){var t=Rt;Rt=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function Jt(e,t,n,r){var i=L(t);return pr((function(){var t=Kn(e,r)[Y];D(i).forEach((function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))}))})),e}function $t(e,t){return en(ur(e,t))}function en(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(en)),n}var tn=0;function nn(){this.message="FLOW_CANCELLED"}nn.prototype=Object.create(Error.prototype);var rn=le("flow"),on=le("flow.bound",{bound:!0}),an=Object.assign((function(e,t){if(q(t))return rn.decorate_20223_(e,t);if(x(t))return K(e,t,rn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++tn,o=zt(r+" - runid: "+i+" - init",n).apply(this,t),a=void 0,s=new Promise((function(t,n){var s=0;function l(e){var t;a=void 0;try{t=zt(r+" - runid: "+i+" - yield "+s++,o.next).call(o,e)}catch(l){return n(l)}u(t)}function c(e){var t;a=void 0;try{t=zt(r+" - runid: "+i+" - yield "+s++,o.throw).call(o,e)}catch(l){return n(l)}u(t)}function u(e){if(!b(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(l,c);e.then(u,n)}e=n,l(void 0)}));return s.cancel=zt(r+" - runid: "+i+" - cancel",(function(){try{a&&sn(a);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(y,y),sn(n),e(new nn)}catch(r){e(r)}})),s};return i.isMobXFlow=!0,i}),rn);function sn(e){b(e.cancel)&&e.cancel()}function ln(e){return!0===(null==e?void 0:e.isMobXFlow)}function cn(e,t){return!!e&&(void 0!==t?!!Zn(e)&&e[Y].values_.has(t):Zn(e)||!!e[Y]||Q(e)||Dt(e)||nt(e))}function un(e){return cn(e)}function dn(e,t){void 0===t&&(t=void 0),St();try{return e.apply(t)}finally{Et()}}function hn(e){return e[Y]}an.bound=X(on);var pn={has:function(e,t){return hn(e).has_(t)},get:function(e,t){return hn(e).get_(t)},set:function(e,t,n){var r;return!!x(t)&&(null==(r=hn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!x(t)&&(null==(n=hn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=hn(e).defineProperty_(t,n))||r},ownKeys:function(e){return hn(e).ownKeys_()},preventExtensions:function(e){a(13)}};function fn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function mn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),_((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function gn(e,t){var n=ut();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&a(14),t);i++);return t}finally{dt(n)}}function vn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function _n(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),_((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function yn(e,t){var n=ut(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);dt(n)}}function bn(e,t,n){return pr((function(){var r=Kn(e,n)[Y];null!=t||(t=function(e){return k(e,j)||C(e,j,H({},e[j])),e[j]}(e)),D(t).forEach((function(e){return r.make_(e,t[e])}))})),e}var xn=Symbol("mobx-keys");var Sn="splice",En="update",wn={get:function(e,t){var n=e[Y];return t===Y?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?k(Tn,t)?Tn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[Y];return"length"===t&&r.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){a(15)}},Cn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Z(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return mn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),_n(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&a("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&a(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&lr(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=p),fn(this)){var o=gn(this,{object:this.proxy_,type:Sn,index:e,removedCount:t,added:n});if(!o)return p;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=vn(this),o=i||r?{observableKind:"array",object:this.proxy_,type:En,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&yn(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=vn(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Sn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&yn(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&a(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(fn(this)){var i=gn(this,{type:En,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var o=new Array(e+1-n.length),s=0;s<o.length-1;s++)o[s]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function Mn(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),v(),pr((function(){var i=new Cn(n,t,r,!1);M(i.values_,Y,i);var o=new Proxy(i.values_,wn);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o}))}var Tn={clear:function(){return this.splice(0)},replace:function(e){var t=this[Y];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[Y];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[Y].spliceWithArray_(e,t,n)},push:function(){for(var e=this[Y],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[Y].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Y],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return _t.trackingDerivation&&a(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){_t.trackingDerivation&&a(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Y],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Rn(e,t){"function"===typeof Array.prototype[e]&&(Tn[e]=t(e))}function An(e){return function(){var t=this[Y];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pn(e){return function(t,n){var r=this,i=this[Y];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Dn(e){return function(){var t=this,n=this[Y];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Rn("at",An),Rn("concat",An),Rn("flat",An),Rn("includes",An),Rn("indexOf",An),Rn("join",An),Rn("lastIndexOf",An),Rn("slice",An),Rn("toString",An),Rn("toLocaleString",An),Rn("toSorted",An),Rn("toSpliced",An),Rn("with",An),Rn("every",Pn),Rn("filter",Pn),Rn("find",Pn),Rn("findIndex",Pn),Rn("findLast",Pn),Rn("findLastIndex",Pn),Rn("flatMap",Pn),Rn("forEach",Pn),Rn("map",Pn),Rn("some",Pn),Rn("toReversed",Pn),Rn("reduce",Dn),Rn("reduceRight",Dn);var In=T("ObservableArrayAdministration",Cn);function kn(e){return S(e)&&In(e[Y])}var Ln={},Nn="add",On="delete",Fn=function(){function e(e,t,n){var r=this;void 0===t&&(t=ee),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Y]=Ln,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,b(Map)||a(18),pr((function(){r.keysAtom_=J("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!_t.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Je(this.has_(e),te,"ObservableMap.key?",!1);this.hasMap_.set(e,r),qt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(fn(this)){var r=gn(this,{type:n?En:Nn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,fn(this))&&!gn(this,{type:On,object:this,name:e}))return!1;if(this.has_(e)){var n=vn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:On,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return dn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&yn(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==_t.UNCHANGED){var r=vn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:En,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&yn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,dn((function(){var r,i=new Je(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=vn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Nn,object:this,name:e,newValue:t}:null;r&&yn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Bn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Bn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=z(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return Un(e)&&(e=new Map(e)),dn((function(){E(e)?function(e){var t=Object.keys(e);if(!P)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return h.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):R(e)?(function(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t);return null===Object.getPrototypeOf(n)}(e)||a(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&a(20,e)})),this},t.clear=function(){var e=this;dn((function(){ct((function(){for(var t,n=z(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return dn((function(){for(var n,r=function(e){if(R(e)||Un(e))return e;if(Array.isArray(e))return new Map(e);if(E(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return a(21,e)}(e),i=new Map,o=!1,s=z(t.data_.keys());!(n=s()).done;){var l=n.value;if(!r.has(l))if(t.delete(l))o=!0;else{var c=t.data_.get(l);i.set(l,c)}}for(var u,d=z(r.entries());!(u=d()).done;){var h=u.value,p=h[0],f=h[1],m=t.data_.has(p);if(t.set(p,f),t.data_.has(p)){var g=t.data_.get(p);i.set(p,g),m||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),_=i.keys(),y=v.next(),b=_.next();!y.done;){if(y.value!==b.value){t.keysAtom_.reportChanged();break}y=v.next(),b=_.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return _n(this,e)},t.intercept_=function(e){return mn(this,e)},B(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Un=T("ObservableMap",Fn);function Bn(e){return e[Symbol.toStringTag]="MapIterator",br(e)}var zn={},Hn=function(){function e(e,t,n){var r=this;void 0===t&&(t=ee),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[Y]=zn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,b(Set)||a(22),this.enhancer_=function(e,r){return t(e,r,n)},pr((function(){r.atom_=J(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;dn((function(){ct((function(){for(var t,n=z(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=z(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,fn(this)){var n=gn(this,{type:Nn,object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){dn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var r=!1,i=vn(this),o=i?{observableKind:"set",debugObjectName:this.name_,type:Nn,object:this,newValue:e}:null;r,i&&yn(this,o)}return this},t.delete=function(e){var t=this;if(fn(this)&&!gn(this,{type:On,object:this,oldValue:e}))return!1;if(this.has(e)){var n=vn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:On,object:this,oldValue:e}:null;return dn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&yn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return Wn({next:function(){var t=e.next(),n=t.value,r=t.done;return r?{value:void 0,done:r}:{value:[n,n],done:r}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return Wn({next:function(){var n=t.next(),r=n.value,i=n.done;return i?{value:void 0,done:i}:{value:e.dehanceValue_(r),done:i}}})},t.intersection=function(e){return A(e)&&!Vn(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return A(e)&&!Vn(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return A(e)&&!Vn(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return A(e)&&!Vn(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return Vn(e)&&(e=new Set(e)),dn((function(){Array.isArray(e)||A(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&a("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return _n(this,e)},t.intercept_=function(e){return mn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},B(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Vn=T("ObservableSet",Hn);function Wn(e){return e[Symbol.toStringTag]="SetIterator",br(e)}var Gn=Object.create(null),jn="remove",Xn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=Se),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Z("ObservableObject.keys"),this.isPlainObject_=E(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof $e)return n.set(t),!0;if(fn(this)){var r=gn(this,{type:En,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==_t.UNCHANGED){var i=vn(this),o=i?{type:En,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&yn(this,o)}return!0},t.get_=function(e){return _t.trackingDerivation&&!k(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),k(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!_t.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Je(e in this.target_,te,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(Jn(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[j])&&n[e])return;a(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==h;){var i=u(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}Qn(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);Jn(this,n,e);var i=n.extend_(this,e,t,r);return i&&Qn(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{St();var r=this.delete_(e);if(!r)return r;if(fn(this)){var i=gn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=H({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else d(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Et()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{St();var i=this.delete_(e);if(!i)return i;if(fn(this)){var o=gn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:t});if(!o)return null;t=o.newValue}var a=Yn(e),s={configurable:!_t.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else d(this.target_,e,s);var l=new Je(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{Et()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{St();var r=this.delete_(e);if(!r)return r;if(fn(this))if(!gn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Yn(e),o={configurable:!_t.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else d(this.target_,e,o);this.values_.set(e,new $e(t)),this.notifyPropertyAddition_(e,void 0)}finally{Et()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!k(this.target_,e))return!0;if(fn(this)&&!gn(this,{object:this.proxy_||this.target_,name:e,type:jn}))return null;try{var n;St();var r,i=vn(this),o=this.values_.get(e),a=void 0;if(!o&&i)a=null==(r=u(this.target_,e))?void 0:r.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof Je&&(a=o.value_),Ct(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),i){var s={type:jn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};0,i&&yn(this,s)}}finally{Et()}return!0},t.observe_=function(e,t){return _n(this,e)},t.intercept_=function(e){return mn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r=vn(this);if(r){var i=r?{type:Nn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,r&&yn(this,i)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),D(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Kn(e,t){var n;if(k(e,Y))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Xn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ee(e):void 0}(t));return C(e,Y,i),e}var qn=T("ObservableObjectAdministration",Xn);function Yn(e){return Gn[e]||(Gn[e]={get:function(){return this[Y].getObservablePropValue_(e)},set:function(t){return this[Y].setObservablePropValue_(e,t)}})}function Zn(e){return!!S(e)&&qn(e[Y])}function Qn(e,t,n){var r;null==(r=e.target_[j])||delete r[n]}function Jn(e,t,n){}var $n,er,tr=ar(0),nr=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),rr=0,ir=function(){};$n=ir,er=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf($n.prototype,er):void 0!==$n.prototype.__proto__?$n.prototype.__proto__=er:$n.prototype=er;var or=function(e){function t(t,n,r,i){var o;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this,pr((function(){var e=new Cn(r,n,i,!0);e.proxy_=o,M(o,Y,e),t&&t.length&&o.spliceWithArray(0,0,t),nr&&Object.defineProperty(o,"0",tr)})),o}V(t,e);var n=t.prototype;return n.concat=function(){this[Y].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return kn(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return br({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},B(t,[{key:"length",get:function(){return this[Y].getArrayLength_()},set:function(e){this[Y].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(ir);function ar(e){return{enumerable:!1,configurable:!0,get:function(){return this[Y].get_(e)},set:function(t){this[Y].set_(e,t)}}}function sr(e){d(or.prototype,""+e,ar(e))}function lr(e){if(e>rr){for(var t=rr;t<e+100;t++)sr(t);rr=e}}function cr(e,t,n){return new or(e,t,n)}function ur(e,t){if("object"===typeof e&&null!==e){if(kn(e))return void 0!==t&&a(23),e[Y].atom_;if(Vn(e))return e.atom_;if(Un(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||a(25,t,hr(e)),n}if(Zn(e)){if(!t)return a(26);var r=e[Y].values_.get(t);return r||a(27,t,hr(e)),r}if(Q(e)||nt(e)||Dt(e))return e}else if(b(e)&&Dt(e[Y]))return e[Y];a(28)}function dr(e,t){return e||a(29),void 0!==t?dr(ur(e,t)):Q(e)||nt(e)||Dt(e)||Un(e)||Vn(e)?e:e[Y]?e[Y]:void a(24,e)}function hr(e,t){var n;if(void 0!==t)n=ur(e,t);else{if(Vt(e))return e.name;n=Zn(e)||Un(e)||Vn(e)?dr(e):ur(e)}return n.name_}function pr(e){var t=ut(),n=Ze(!0);St();try{return e()}finally{Et(),Qe(n),dt(t)}}Object.entries(Tn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&C(or.prototype,t,n)})),lr(1e3);var fr,mr=h.toString;function gr(e,t,n){return void 0===n&&(n=-1),vr(e,t,n)}function vr(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=mr.call(e);if(a!==mr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=_r(e),t=_r(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(b(l)&&l instanceof l&&b(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!vr(e[u],t[u],n-1,r,i))return!1}else{var d=Object.keys(e),h=d.length;if(Object.keys(t).length!==h)return!1;for(var p=0;p<h;p++){var f=d[p];if(!k(t,f)||!vr(e[f],t[f],n-1,r,i))return!1}}return r.pop(),i.pop(),!0}function _r(e){return kn(e)?e.slice():R(e)||Un(e)||A(e)||Vn(e)?Array.from(e.entries()):e}var yr=(null==(fr=l().Iterator)?void 0:fr.prototype)||{};function br(e){return e[Symbol.iterator]=xr,Object.assign(Object.create(yr),e)}function xr(){return this}if(["Symbol","Map","Set"].forEach((function(e){"undefined"===typeof l()[e]&&a("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:hr},$mobx:Y}),!r.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!bn)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var Sr=n(950);function Er(e){e()}function wr(e){return $t(e)}var Cr=!1;function Mr(){return Cr}var Tr,Rr,Ar=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),Pr=new("undefined"!==typeof FinalizationRegistry?FinalizationRegistry:Ar)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),Dr=n(461);function Ir(e){e.reaction=new Mt("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function kr(e,t){if(void 0===t&&(t="observed"),Mr())return e();var n=r.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return Pr.unregister(i),i.onStoreChange=e,i.reaction||(Ir(i),i.stateVersion=Symbol()),function(){var e;i.onStoreChange=null,null===(e=i.reaction)||void 0===e||e.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var o,a,s=n.current;if(s.reaction||(Ir(s),Pr.register(n,s,s)),r.useDebugValue(s.reaction,wr),(0,Dr.useSyncExternalStore)(s.subscribe,s.getSnapshot,s.getSnapshot),s.reaction.track((function(){try{o=e()}catch(t){a=t}})),a)throw a;return o}var Lr="function"===typeof Symbol&&Symbol.for,Nr=null!==(Rr=null===(Tr=Object.getOwnPropertyDescriptor((function(){}),"name"))||void 0===Tr?void 0:Tr.configurable)&&void 0!==Rr&&Rr,Or=Lr?Symbol.for("react.forward_ref"):"function"===typeof r.forwardRef&&(0,r.forwardRef)((function(e){return null})).$$typeof,Fr=Lr?Symbol.for("react.memo"):"function"===typeof r.memo&&(0,r.memo)((function(e){return null})).$$typeof;function Ur(e,t){var n;if(Fr&&e.$$typeof===Fr)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(Mr())return e;var i=null!==(n=null===t||void 0===t?void 0:t.forwardRef)&&void 0!==n&&n,o=e,a=e.displayName||e.name;if(Or&&e.$$typeof===Or&&(i=!0,"function"!==typeof(o=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,l,c=function(e,t){return kr((function(){return o(e,t)}),a)};return c.displayName=e.displayName,Nr&&Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(c.contextTypes=e.contextTypes),i&&(c=(0,r.forwardRef)(c)),c=(0,r.memo)(c),s=e,l=c,Object.keys(s).forEach((function(e){zr[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))})),c}var Br,zr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(function(e){e||(e=Er),Qt({reactionScheduler:e})})(Sr.unstable_batchedUpdates);Br=Pr.finalizeAllImmediately;function Hr(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var Vr=Symbol("patchMixins"),Wr=Symbol("patchedDefinition");function Gr(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var a;return void 0!==e&&null!==e&&(a=e.apply(this,i)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function jr(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Gr.call.apply(Gr,[this,e,t].concat(r))}}function Xr(e,t,n){var r=function(e,t){var n=e[Vr]=e[Vr]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[Wr]){var o=e[t],a=Kr(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,a)}}function Kr(e,t,n,r,i){var o,a=jr(i,r);return(o={})[Wr]=!0,o.get=function(){return a},o.set=function(i){if(this===e)a=jr(i,r);else{var o=Kr(this,t,n,r,i);Object.defineProperty(this,t,o)}},o.configurable=!0,o.enumerable=n,o}var qr=Symbol("ObserverAdministration"),Yr=Symbol("isMobXReactObserver");function Zr(e){var t;return null!=(t=e[qr])?t:e[qr]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:Qr(e.constructor),state:void 0,props:void 0,context:void 0}}function Qr(e){return e.displayName||e.name||"<component>"}function Jr(e){var t=e.bind(this),n=Zr(this);return function(){n.reaction||(n.reaction=function(t){return new Mt(t.name+".render()",(function(){if(t.mounted)try{null==t.forceUpdate||t.forceUpdate()}catch(e){var n;null==(n=t.reaction)||n.dispose(),t.reaction=null}else t.reactionInvalidatedBeforeMount=!0}))}(n),n.mounted||Pr.register(this,n,this));var e=void 0,r=void 0;if(n.reaction.track((function(){try{r=Ye(!1,t)}catch(n){e=n}})),e)throw e;return r}}function $r(e,t){return Mr()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!function(e,t){if(Hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!Hr(e[n[i]],t[n[i]]))return!1;return!0}(this.props,e)}function ei(e,t){if(t&&"class"!==t.kind)throw new Error("The @observer decorator can be used on classes only");return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(r.Component,e)||Object.prototype.isPrototypeOf.call(r.PureComponent,e)?function(e){var t=e.prototype;if(e[Yr]){var n=Qr(e);throw new Error("The provided component class ("+n+") has already been declared as an observer component.")}if(e[Yr]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==r.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==$r)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=$r;var i=t.render;if("function"!==typeof i){var o=Qr(e);throw new Error("[mobx-react] class component ("+o+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}t.render=function(){return Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:Mr()?i:Jr.call(this,i)}),this.render()};var a=t.componentDidMount;return t.componentDidMount=function(){var e=this,t=Zr(this);return t.mounted=!0,Pr.unregister(this),t.forceUpdate=function(){return e.forceUpdate()},t.reaction&&!t.reactionInvalidatedBeforeMount||t.forceUpdate(),null==a?void 0:a.apply(this,arguments)},Xr(t,"componentWillUnmount",(function(){var e;if(!Mr()){var t=Zr(this);null==(e=t.reaction)||e.dispose(),t.reaction=null,t.forceUpdate=null,t.mounted=!1,t.reactionInvalidatedBeforeMount=!1}})),e}(e):Ur(e)}r.version.split(".")[0];if(!r.Component)throw new Error("mobx-react requires React to be available");if(!Ue)throw new Error("mobx-react requires mobx to be available");var ti,ni="__global__",ri="__shadow_dom_stylesheet__",ii={stylesheetKey:ni,inShadow:!1,window:void 0,__isShadowConfig__:!0},oi=function(e){return!(!e||!function(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}(e))&&!0===e.__isShadowConfig__};function ai(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[],i=[],o=e;return function e(t){for(var n=0,a=t;n<a.length;n++){var s=a[n];if(s&&!oi(s))if("string"===typeof s)if(s.indexOf(" ")>=0)e(s.split(" "));else{var l=o.argsFromClassName(s);l?e(l):-1===r.indexOf(s)&&r.push(s)}else Array.isArray(s)?e(s):"object"===typeof s&&i.push(s)}}(t),{classes:r,objects:i}}function si(e){ti!==e&&(ti=e)}function li(){return void 0===ti&&(ti="undefined"!==typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),ti}function ci(){return{rtl:li(),shadowConfig:ii}}ti=li();var ui=function(e,t){return ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ui(e,t)};function di(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ui(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var hi=function(){return hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hi.apply(this,arguments)};function pi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function fi(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}Object.create;function mi(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var gi,vi=0,_i=1,yi=2,bi="__stylesheet__",xi="undefined"!==typeof navigator&&/rv:11.0/.test(navigator.userAgent),Si={};try{Si=window||{}}catch(Tr){}var Ei,wi=function(){function e(e,t){var n,r,i,o,a,s;this._rules=[],this._preservedRules=[],this._counter=0,this._keyToClassName={},this._onInsertRuleCallbacks=[],this._onResetCallbacks=[],this._classNameToArgs={},this._config=hi({injectionMode:"undefined"===typeof document?vi:_i,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e),this._classNameToArgs=null!==(n=null===t||void 0===t?void 0:t.classNameToArgs)&&void 0!==n?n:this._classNameToArgs,this._counter=null!==(r=null===t||void 0===t?void 0:t.counter)&&void 0!==r?r:this._counter,this._keyToClassName=null!==(o=null!==(i=this._config.classNameCache)&&void 0!==i?i:null===t||void 0===t?void 0:t.keyToClassName)&&void 0!==o?o:this._keyToClassName,this._preservedRules=null!==(a=null===t||void 0===t?void 0:t.preservedRules)&&void 0!==a?a:this._preservedRules,this._rules=null!==(s=null===t||void 0===t?void 0:t.rules)&&void 0!==s?s:this._rules}return e.getInstance=function(t){if(gi=Si[bi],Si[ri])return Si[ri].getInstance(t);if(!gi||gi._lastStyleElement&&gi._lastStyleElement.ownerDocument!==document){var n=(null===Si||void 0===Si?void 0:Si.FabricConfig)||{},r=new e(n.mergeStyles,n.serializedStylesheet);gi=r,Si[bi]=r}return gi},e.prototype.serialize=function(){return JSON.stringify({classNameToArgs:this._classNameToArgs,counter:this._counter,keyToClassName:this._keyToClassName,preservedRules:this._preservedRules,rules:this._rules})},e.prototype.setConfig=function(e){this._config=hi(hi({},this._config),e)},e.prototype.onReset=function(e){var t=this;return this._onResetCallbacks.push(e),function(){t._onResetCallbacks=t._onResetCallbacks.filter((function(t){return t!==e}))}},e.prototype.onInsertRule=function(e){var t=this;return this._onInsertRuleCallbacks.push(e),function(){t._onInsertRuleCallbacks=t._onInsertRuleCallbacks.filter((function(t){return t!==e}))}},e.prototype.getClassName=function(e){var t=this._config.namespace,n=e||this._config.defaultPrefix;return"".concat(t?t+"-":"").concat(n,"-").concat(this._counter++)},e.prototype.cacheClassName=function(e,t,n,r){this._keyToClassName[this._getCacheKey(t)]=e,this._classNameToArgs[e]={args:n,rules:r}},e.prototype.classNameFromKey=function(e){return this._keyToClassName[this._getCacheKey(e)]},e.prototype.getClassNameCache=function(){return this._keyToClassName},e.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},e.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},e.prototype.insertRule=function(e,t,n){void 0===n&&(n=ni);var r=this._config.injectionMode,i=r!==vi?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),i)switch(r){case _i:this._insertRuleIntoSheet(i.sheet,e);break;case yi:i.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e),this._onInsertRuleCallbacks.forEach((function(t){return t({key:n,sheet:i?i.sheet:void 0,rule:e})}))},e.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")},e.prototype.reset=function(){this._rules=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(e){return e()}))},e.prototype.resetKeys=function(){this._keyToClassName={}},e.prototype._createStyleElement=function(){var e,t=(null===(e=this._config.window)||void 0===e?void 0:e.document)||document,n=t.head,r=t.createElement("style"),i=null;r.setAttribute("data-merge-styles","true");var o=this._config.cspSettings;if(o&&o.nonce&&r.setAttribute("nonce",o.nonce),this._lastStyleElement)i=this._lastStyleElement.nextElementSibling;else{var a=this._findPlaceholderStyleTag();i=a?a.nextElementSibling:n.childNodes[0]}return n.insertBefore(r,n.contains(i)?i:null),this._lastStyleElement=r,r},e.prototype._insertRuleIntoSheet=function(e,t){if(!e)return!1;try{return e.insertRule(t,e.cssRules.length),!0}catch(n){}return!1},e.prototype._getCacheKey=function(e){return e},e.prototype._getStyleElement=function(){var e=this;this._styleElement||(this._styleElement=this._createStyleElement(),xi||(this._config.window||window).requestAnimationFrame((function(){e._styleElement=void 0})));return this._styleElement},e.prototype._findPlaceholderStyleTag=function(){var e=document.head;return e?e.querySelector("style[data-merge-styles]"):null},e}(),Ci={};function Mi(e,t){var n=e[t];"-"!==n.charAt(0)&&(e[t]=Ci[n]=Ci[n]||n.replace(/([A-Z])/g,"-$1").toLowerCase())}var Ti={"user-select":1};function Ri(e,t){var n=function(){var e;if(!Ei){var t="undefined"!==typeof document?document:void 0,n="undefined"!==typeof navigator?navigator:void 0,r=null===(e=null===n||void 0===n?void 0:n.userAgent)||void 0===e?void 0:e.toLowerCase();Ei=t?{isWebkit:!(!t||!("WebkitAppearance"in t.documentElement.style)),isMoz:!!(r&&r.indexOf("firefox")>-1),isOpera:!!(r&&r.indexOf("opera")>-1),isMs:!(!n||!/rv:11.0/i.test(n.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}}return Ei}(),r=e[t];if(Ti[r]){var i=e[t+1];Ti[r]&&(n.isWebkit&&e.push("-webkit-"+r,i),n.isMoz&&e.push("-moz-"+r,i),n.isMs&&e.push("-ms-"+r,i),n.isOpera&&e.push("-o-"+r,i))}}var Ai,Pi=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function Di(e,t){var n=e[t],r=e[t+1];if("number"===typeof r){var i=Pi.indexOf(n)>-1,o=n.indexOf("--")>-1,a=i||o?"":"px";e[t+1]="".concat(r).concat(a)}}var Ii="left",ki="right",Li=((Ai={})[Ii]=ki,Ai[ki]=Ii,Ai),Ni={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function Oi(e,t,n){if(e.rtl){var r=t[n];if(!r)return;var i=t[n+1];if("string"===typeof i&&i.indexOf("@noflip")>=0)t[n+1]=i.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(r.indexOf(Ii)>=0)t[n]=r.replace(Ii,ki);else if(r.indexOf(ki)>=0)t[n]=r.replace(ki,Ii);else if(String(i).indexOf(Ii)>=0)t[n+1]=i.replace(Ii,ki);else if(String(i).indexOf(ki)>=0)t[n+1]=i.replace(ki,Ii);else if(Li[r])t[n]=Li[r];else if(Ni[i])t[n+1]=Ni[i];else switch(r){case"margin":case"padding":t[n+1]=function(e){if("string"===typeof e){var t=e.split(" ");if(4===t.length)return"".concat(t[0]," ").concat(t[3]," ").concat(t[2]," ").concat(t[1])}return e}(i);break;case"box-shadow":t[n+1]=function(e,t){var n=e.split(" "),r=parseInt(n[t],10);return n[0]=n[0].replace(String(r),String(-1*r)),n.join(" ")}(i,0)}}}var Fi=/\:global\((.+?)\)/g;function Ui(e,t){return e.indexOf(":global(")>=0?e.replace(Fi,"$1"):0===e.indexOf(":host(")?e:0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function Bi(e,t,n,r,i){void 0===t&&(t={__order:[]}),0===n.indexOf("@")?zi([r],t,n=n+"{"+e,i):n.indexOf(",")>-1?function(e){if(!Fi.test(e))return e;for(var t=[],n=/\:global\((.+?)\)/g,r=null;r=n.exec(e);)r[1].indexOf(",")>-1&&t.push([r.index,r.index+r[0].length,r[1].split(",").map((function(e){return":global(".concat(e.trim(),")")})).join(", ")]);return t.reverse().reduce((function(e,t){var n=t[0],r=t[1],i=t[2];return e.slice(0,n)+i+e.slice(r)}),e)}(n).split(",").map((function(e){return e.trim()})).forEach((function(n){return zi([r],t,Ui(n,e),i)})):zi([r],t,Ui(n,e),i)}function zi(e,t,n,r){void 0===t&&(t={__order:[]}),void 0===n&&(n="&");var i,o=t[n];o||(o={},t[n]=o,t.__order.push(n));for(var a=0,s=e;a<s.length;a++){var l=s[a];if("string"===typeof l){var c=r.argsFromClassName(l);c&&zi(c,t,n,r)}else if(Array.isArray(l))zi(l,t,n,r);else for(var u in l)if(l.hasOwnProperty(u)){var d=l[u];if("selectors"===u){var h=l.selectors;for(var p in h)h.hasOwnProperty(p)&&Bi(n,t,p,h[p],r)}else"object"===typeof d||((i=u).indexOf(":global(")>=0||0===i.indexOf(":"))?null!==d&&void 0!==d&&Bi(n,t,u,d,r):void 0!==d&&("margin"===u||"padding"===u?Hi(o,u,d):o[u]=d)}}return t}function Hi(e,t,n){var r="string"===typeof n?function(e){for(var t=[],n=0,r=0,i=0;i<e.length;i++)switch(e[i]){case"(":r++;break;case")":r&&r--;break;case"\t":case" ":r||(i>n&&t.push(e.substring(n,i)),n=i+1)}return n<e.length&&t.push(e.substring(n)),t}(n):[n];0===r.length&&r.push(n),"!important"===r[r.length-1]&&(r=r.slice(0,-1).map((function(e){return e+" !important"}))),e[t+"Top"]=r[0],e[t+"Right"]=r[1]||r[0],e[t+"Bottom"]=r[2]||r[0],e[t+"Left"]=r[3]||r[1]||r[0]}function Vi(e,t){return t<=0?"":1===t?e:e+Vi(e,t-1)}function Wi(e,t){if(!t)return"";var n=[];for(var r in t)t.hasOwnProperty(r)&&"displayName"!==r&&void 0!==t[r]&&n.push(r,t[r]);for(var i=0;i<n.length;i+=2)Mi(n,i),Di(n,i),Oi(e,n,i),Ri(n,i);for(i=1;i<n.length;i+=4)n.splice(i,1,":",n[i],";");return n.join("")}function Gi(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=null!==(t=e.stylesheet)&&void 0!==t?t:wi.getInstance(e.shadowConfig),o=zi(n,void 0,void 0,i),a=function(e,t){for(var n=[e.rtl?"rtl":"ltr"],r=!1,i=0,o=t.__order;i<o.length;i++){var a=o[i];n.push(a);var s=t[a];for(var l in s)s.hasOwnProperty(l)&&void 0!==s[l]&&(r=!0,n.push(l,s[l]))}return r?n.join(""):void 0}(e,o);if(a){var s={className:i.classNameFromKey(a),key:a,args:n};if(!s.className){s.className=i.getClassName(function(e){var t=e&&e["&"];return t?t.displayName:void 0}(o));for(var l=[],c=0,u=o.__order;c<u.length;c++){var d=u[c];l.push(d,Wi(e,o[d]))}s.rulesToInsert=l}return s}}function ji(e,t,n,r){void 0===t&&(t=1);var i=null!==r&&void 0!==r?r:wi.getInstance(n),o=e.className,a=e.key,s=e.args,l=e.rulesToInsert;if(l){for(var c=0;c<l.length;c+=2){var u=l[c+1];if(u){var d=l[c];d=d.replace(/&/g,Vi(".".concat(e.className),t));var h="".concat(d,"{").concat(u,"}").concat(0===d.indexOf("@")?"}":"");i.insertRule(h)}}i.cacheClassName(o,a,s,l)}}function Xi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ki(e,ci())}function Ki(e,t){var n=e instanceof Array?e:[e],r=t||{};oi(n[0])&&(r.shadowConfig=n[0]),r.stylesheet=wi.getInstance(r.shadowConfig);var i=ai(r.stylesheet,n),o=i.classes,a=i.objects;return a.length&&o.push(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Gi.apply(void 0,mi([e],t,!1));return r?(ji(r,e.specificityMultiplier,e.shadowConfig,e.stylesheet),r.className):""}(r,a)),o.join(" ")}function qi(e){var t=wi.getInstance(),n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(r,"{",Wi(ci(),e[r]),"}");var i=n.join(""),o=t.classNameFromKey(i);if(o)return o;var a=t.getClassName();return t.insertRule("@keyframes ".concat(a,"{").concat(i,"}"),!0),t.cacheClassName(a,i,[],["keyframes",i]),a}var Yi="cubic-bezier(.1,.9,.2,1)",Zi="cubic-bezier(.1,.25,.75,.9)",Qi="0.167s",Ji="0.267s",$i="0.367s",eo="0.467s",to=qi({from:{opacity:0},to:{opacity:1}}),no=qi({from:{opacity:1},to:{opacity:0,visibility:"hidden"}}),ro=Ho(-10),io=Ho(-20),oo=Ho(-40),ao=Ho(-400),so=Ho(10),lo=Ho(20),co=Ho(40),uo=Ho(400),ho=Vo(10),po=Vo(20),fo=Vo(-10),mo=Vo(-20),go=Wo(10),vo=Wo(20),_o=Wo(40),yo=Wo(400),bo=Wo(-10),xo=Wo(-20),So=Wo(-40),Eo=Wo(-400),wo=Go(-10),Co=Go(-20),Mo=Go(10),To=Go(20),Ro=qi({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),Ao=qi({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),Po=qi({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),Do=qi({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),Io=qi({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),ko=qi({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),Lo=Zi,No=Qi,Oo=Ji,Fo=$i,Uo=eo,Bo={slideRightIn10:zo("".concat(to,",").concat(ro),$i,Yi),slideRightIn20:zo("".concat(to,",").concat(io),$i,Yi),slideRightIn40:zo("".concat(to,",").concat(oo),$i,Yi),slideRightIn400:zo("".concat(to,",").concat(ao),$i,Yi),slideLeftIn10:zo("".concat(to,",").concat(so),$i,Yi),slideLeftIn20:zo("".concat(to,",").concat(lo),$i,Yi),slideLeftIn40:zo("".concat(to,",").concat(co),$i,Yi),slideLeftIn400:zo("".concat(to,",").concat(uo),$i,Yi),slideUpIn10:zo("".concat(to,",").concat(ho),$i,Yi),slideUpIn20:zo("".concat(to,",").concat(po),$i,Yi),slideDownIn10:zo("".concat(to,",").concat(fo),$i,Yi),slideDownIn20:zo("".concat(to,",").concat(mo),$i,Yi),slideRightOut10:zo("".concat(no,",").concat(go),$i,Yi),slideRightOut20:zo("".concat(no,",").concat(vo),$i,Yi),slideRightOut40:zo("".concat(no,",").concat(_o),$i,Yi),slideRightOut400:zo("".concat(no,",").concat(yo),$i,Yi),slideLeftOut10:zo("".concat(no,",").concat(bo),$i,Yi),slideLeftOut20:zo("".concat(no,",").concat(xo),$i,Yi),slideLeftOut40:zo("".concat(no,",").concat(So),$i,Yi),slideLeftOut400:zo("".concat(no,",").concat(Eo),$i,Yi),slideUpOut10:zo("".concat(no,",").concat(wo),$i,Yi),slideUpOut20:zo("".concat(no,",").concat(Co),$i,Yi),slideDownOut10:zo("".concat(no,",").concat(Mo),$i,Yi),slideDownOut20:zo("".concat(no,",").concat(To),$i,Yi),scaleUpIn100:zo("".concat(to,",").concat(Ro),$i,Yi),scaleDownIn100:zo("".concat(to,",").concat(Po),$i,Yi),scaleUpOut103:zo("".concat(no,",").concat(Do),Qi,Zi),scaleDownOut98:zo("".concat(no,",").concat(Ao),Qi,Zi),fadeIn100:zo(to,Qi,Zi),fadeIn200:zo(to,Ji,Zi),fadeIn400:zo(to,$i,Zi),fadeIn500:zo(to,eo,Zi),fadeOut100:zo(no,Qi,Zi),fadeOut200:zo(no,Ji,Zi),fadeOut400:zo(no,$i,Zi),fadeOut500:zo(no,eo,Zi),rotate90deg:zo(Io,"0.1s",Zi),rotateN90deg:zo(ko,"0.1s",Zi)};function zo(e,t,n){return{animationName:e,animationDuration:t,animationTimingFunction:n,animationFillMode:"both"}}function Ho(e){return qi({from:{transform:"translate3d(".concat(e,"px,0,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function Vo(e){return qi({from:{transform:"translate3d(0,".concat(e,"px,0)"),pointerEvents:"none"},to:{transform:"translate3d(0,0,0)",pointerEvents:"auto"}})}function Wo(e){return qi({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(".concat(e,"px,0,0)")}})}function Go(e){return qi({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,".concat(e,"px,0)")}})}var jo,Xo,Ko,qo,Yo,Zo=function(e){var t={},n=function(n){var r;e.hasOwnProperty(n)&&Object.defineProperty(t,n,{get:function(){return void 0===r&&(r=Xi(e[n]).toString()),r},enumerable:!0,configurable:!0})};for(var r in e)n(r);return t}(Bo);!function(e){e.Arabic="Segoe UI Web (Arabic)",e.Cyrillic="Segoe UI Web (Cyrillic)",e.EastEuropean="Segoe UI Web (East European)",e.Greek="Segoe UI Web (Greek)",e.Hebrew="Segoe UI Web (Hebrew)",e.Thai="Leelawadee UI Web",e.Vietnamese="Segoe UI Web (Vietnamese)",e.WestEuropean="Segoe UI Web (West European)",e.Selawik="Selawik Web",e.Armenian="Segoe UI Web (Armenian)",e.Georgian="Segoe UI Web (Georgian)"}(jo||(jo={})),function(e){e.Arabic="'".concat(jo.Arabic,"'"),e.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",e.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",e.Cyrillic="'".concat(jo.Cyrillic,"'"),e.EastEuropean="'".concat(jo.EastEuropean,"'"),e.Greek="'".concat(jo.Greek,"'"),e.Hebrew="'".concat(jo.Hebrew,"'"),e.Hindi="'Nirmala UI'",e.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",e.Korean="'Malgun Gothic', Gulim",e.Selawik="'".concat(jo.Selawik,"'"),e.Thai="'Leelawadee UI Web', 'Kmer UI'",e.Vietnamese="'".concat(jo.Vietnamese,"'"),e.WestEuropean="'".concat(jo.WestEuropean,"'"),e.Armenian="'".concat(jo.Armenian,"'"),e.Georgian="'".concat(jo.Georgian,"'")}(Xo||(Xo={})),function(e){e.size10="10px",e.size12="12px",e.size14="14px",e.size16="16px",e.size18="18px",e.size20="20px",e.size24="24px",e.size28="28px",e.size32="32px",e.size42="42px",e.size68="68px",e.mini="10px",e.xSmall="10px",e.small="12px",e.smallPlus="12px",e.medium="14px",e.mediumPlus="16px",e.icon="16px",e.large="18px",e.xLarge="20px",e.xLargePlus="24px",e.xxLarge="28px",e.xxLargePlus="32px",e.superLarge="42px",e.mega="68px"}(Ko||(Ko={})),function(e){e.light=100,e.semilight=300,e.regular=400,e.semibold=600,e.bold=700}(qo||(qo={})),function(e){e.xSmall="10px",e.small="12px",e.medium="16px",e.large="20px"}(Yo||(Yo={}));var Qo={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden",whiteSpace:"nowrap"},Jo=!1,$o=0,ea={empty:!0},ta={},na="undefined"===typeof WeakMap?null:WeakMap;function ra(){$o++}function ia(e,t,n){if(void 0===t&&(t=100),void 0===n&&(n=!1),!na)return e;if(!Jo){var r=wi.getInstance();r&&r.onReset&&wi.getInstance().onReset(ra),Jo=!0}var i,o=0,a=$o;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var l=i;(void 0===i||a!==$o||t>0&&o>t)&&(i=sa(),o=0,a=$o),l=i;for(var c=0;c<r.length;c++){var u=aa(r[c]);l.map.has(u)||l.map.set(u,sa()),l=l.map.get(u)}return l.hasOwnProperty("value")||(l.value=e.apply(void 0,r),o++),!n||null!==l.value&&void 0!==l.value||(l.value=e.apply(void 0,r)),l.value}}function oa(e){if(!na)return e;var t=new na;return function(n){if(!n||"function"!==typeof n&&"object"!==typeof n)return e(n);if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}function aa(e){return e?"object"===typeof e||"function"===typeof e?e:(ta[e]||(ta[e]={val:e}),ta[e]):ea}function sa(){return{map:na?new na:null}}var la=ia((function(e,t){var n=wi.getInstance();return t?Object.keys(e).reduce((function(t,r){return t[r]=n.getClassName(e[r]),t}),{}):e}));function ca(e,t,n){return la(e,void 0!==n?n:t.disableGlobalClassNames)}var ua="@media screen and (-ms-high-contrast: active), screen and (forced-colors: active)",da=480,ha=1366;function pa(e,t){var n="number"===typeof e?" and (min-width: ".concat(e,"px)"):"",r="number"===typeof t?" and (max-width: ".concat(t,"px)"):"";return"@media only screen".concat(n).concat(r)}function fa(){return"undefined"!==typeof window&&!(!window.document||!window.document.createElement)}var ma=void 0;try{ma=window}catch(AT){}function ga(e){if(fa()&&"undefined"!==typeof ma){var t=e;return t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:ma}}var va,_a="ms-Fabric--isFocusVisible",ya="ms-Fabric--isFocusHidden";function ba(e,t){e&&(e.classList.add(t?_a:ya),e.classList.remove(t?ya:_a))}function xa(e,t,n){var r;n?n.forEach((function(t){return ba(t.current,e)})):ba(null===(r=ga(t))||void 0===r?void 0:r.document.body,e)}function Sa(e,t,n,r,i,o,a,s){return Ea(e,"number"!==typeof t&&t?t:{inset:t,position:n,highContrastStyle:r,borderColor:i,outlineColor:o,isFocusedOnly:a,borderRadius:s})}function Ea(e,t){var n,r;void 0===t&&(t={});var i=t.borderRadius,o=t.inset,a=void 0===o?0:o,s=t.width,l=void 0===s?1:s,c=t.position,u=void 0===c?"relative":c,d=t.highContrastStyle,h=t.borderColor,p=void 0===h?e.palette.white:h,f=t.outlineColor,m=void 0===f?e.palette.neutralSecondary:f,g=t.isFocusedOnly,v=void 0===g||g,_=t.pointerEvents;return{outline:"transparent",position:u,selectors:(n={"::-moz-focus-inner":{border:"0"}},n[".".concat(_a," &").concat(v?":focus":"",":after, :host(.").concat(_a,") &").concat(v?":focus":"",":after")]={content:'""',position:"absolute",pointerEvents:_,left:a+1,top:a+1,bottom:a+1,right:a+1,border:"".concat(l,"px solid ").concat(p),outline:"".concat(l,"px solid ").concat(m),zIndex:va.FocusStyle,borderRadius:i,selectors:(r={},r[ua]=d,r)},n)}}!function(e){e.Nav=1,e.ScrollablePane=1,e.FocusStyle=1,e.Coachmark=1e3,e.Layer=1e6,e.KeytipLayer=1000001}(va||(va={}));var wa="__globalSettings__",Ca="__callbacks__",Ma=0,Ta=function(){function e(){}return e.getValue=function(e,t){var n=Ra();return void 0===n[e]&&(n[e]="function"===typeof t?t():t),n[e]},e.setValue=function(e,t){var n=Ra(),r=n[Ca],i=n[e];if(t!==i){n[e]=t;var o={oldValue:i,value:t,key:e};for(var a in r)r.hasOwnProperty(a)&&r[a](o)}return t},e.addChangeListener=function(e){var t=e.__id__,n=Aa();t||(t=e.__id__=String(Ma++)),n[t]=e},e.removeChangeListener=function(e){delete Aa()[e.__id__]},e}();function Ra(){var e,t=ga()||{};return t[wa]||(t[wa]=((e={})[Ca]={},e)),t[wa]}function Aa(){return Ra()[Ca]}var Pa={settings:{},scopedSettings:{},inCustomizerContext:!1},Da=Ta.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),Ia=[],ka=function(){function e(){}return e.reset=function(){Da.settings={},Da.scopedSettings={}},e.applySettings=function(t){Da.settings=hi(hi({},Da.settings),t),e._raiseChange()},e.applyScopedSettings=function(t,n){Da.scopedSettings[t]=hi(hi({},Da.scopedSettings[t]),n),e._raiseChange()},e.getSettings=function(e,t,n){void 0===n&&(n=Pa);for(var r={},i=t&&n.scopedSettings[t]||{},o=t&&Da.scopedSettings[t]||{},a=0,s=e;a<s.length;a++){var l=s[a];r[l]=i[l]||n.settings[l]||o[l]||Da.settings[l]}return r},e.applyBatchedUpdates=function(t,n){e._suppressUpdates=!0;try{t()}catch(Tr){}e._suppressUpdates=!1,n||e._raiseChange()},e.observe=function(e){Ia.push(e)},e.unobserve=function(e){Ia=Ia.filter((function(t){return t!==e}))},e._raiseChange=function(){e._suppressUpdates||Ia.forEach((function(e){return e()}))},e}(),La=function(){return La=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},La.apply(this,arguments)},Na="undefined"===typeof window?n.g:window,Oa=Na&&Na.CSPSettings&&Na.CSPSettings.nonce,Fa=function(){var e=Na.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};e.runState||(e=La(La({},e),{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}}));e.registeredThemableStyles||(e=La(La({},e),{registeredThemableStyles:[]}));return Na.__themeState__=e,e}();function Ua(e,t){Fa.loadStyles?Fa.loadStyles(Ha(e).styleString,e):function(e){if("undefined"===typeof document)return;var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),r=Ha(e),i=r.styleString,o=r.themable;n.setAttribute("data-load-themed-styles","true"),Oa&&n.setAttribute("nonce",Oa);n.appendChild(document.createTextNode(i)),Fa.perf.count++,t.appendChild(n);var a=document.createEvent("HTMLEvents");a.initEvent("styleinsert",!0,!1),a.args={newStyle:n},document.dispatchEvent(a);var s={styleElement:n,themableStyle:e};o?Fa.registeredThemableStyles.push(s):Fa.registeredStyles.push(s)}(e)}function Ba(e){Fa.theme=e,function(){if(Fa.theme){for(var e=[],t=0,n=Fa.registeredThemableStyles;t<n.length;t++){var r=n[t];e.push(r.themableStyle)}e.length>0&&(!function(e){void 0===e&&(e=3);3!==e&&2!==e||(za(Fa.registeredStyles),Fa.registeredStyles=[]);3!==e&&1!==e||(za(Fa.registeredThemableStyles),Fa.registeredThemableStyles=[])}(1),Ua([].concat.apply([],e)))}}()}function za(e){e.forEach((function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)}))}function Ha(e){var t=Fa.theme,n=!1;return{styleString:(e||[]).map((function(e){var r=e.theme;if(r){n=!0;var i=t?t[r]:void 0,o=e.defaultValue||"inherit";return t&&!i&&console&&!(r in t)&&"undefined"!==typeof DEBUG&&DEBUG&&console.warn('Theming value not provided for "'.concat(r,'". Falling back to "').concat(o,'".')),i||o}return e.rawString})).join(""),themable:n}}var Va,Wa={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"};!function(e){e.depth0="0 0 0 0 transparent",e.depth4="0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",e.depth8="0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",e.depth16="0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",e.depth64="0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)"}(Va||(Va={}));var Ga={elevation4:Va.depth4,elevation8:Va.depth8,elevation16:Va.depth16,elevation64:Va.depth64,roundedCorner2:"2px",roundedCorner4:"4px",roundedCorner6:"6px"};function ja(e){var t=wi.getInstance(),n=Wi(ci(),e);if(!t.classNameFromKey(n)){var r=t.getClassName();t.insertRule("@font-face{".concat(n,"}"),!0),t.cacheClassName(r,n,[],["font-face",n])}}var Xa,Ka="'Segoe UI', '".concat(jo.WestEuropean,"'"),qa={ar:Xo.Arabic,bg:Xo.Cyrillic,cs:Xo.EastEuropean,el:Xo.Greek,et:Xo.EastEuropean,he:Xo.Hebrew,hi:Xo.Hindi,hr:Xo.EastEuropean,hu:Xo.EastEuropean,ja:Xo.Japanese,kk:Xo.EastEuropean,ko:Xo.Korean,lt:Xo.EastEuropean,lv:Xo.EastEuropean,pl:Xo.EastEuropean,ru:Xo.Cyrillic,sk:Xo.EastEuropean,"sr-latn":Xo.EastEuropean,th:Xo.Thai,tr:Xo.EastEuropean,uk:Xo.Cyrillic,vi:Xo.Vietnamese,"zh-hans":Xo.ChineseSimplified,"zh-hant":Xo.ChineseTraditional,hy:Xo.Armenian,ka:Xo.Georgian};function Ya(e,t,n){return{fontFamily:n,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:t}}function Za(e){if(fa()&&"undefined"!==typeof document){var t=e;return t&&t.ownerDocument?t.ownerDocument:document}}function Qa(e){var t=null;try{var n=ga();t=n?n.sessionStorage.getItem(e):null}catch(AT){}return t}var Ja="language";var $a=function(e){var t=function(e){for(var t in qa)if(qa.hasOwnProperty(t)&&e&&0===t.indexOf(e))return qa[t];return Ka}(e),n="".concat(t,", ").concat("'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif");return{tiny:Ya(Ko.mini,qo.regular,n),xSmall:Ya(Ko.xSmall,qo.regular,n),small:Ya(Ko.small,qo.regular,n),smallPlus:Ya(Ko.smallPlus,qo.regular,n),medium:Ya(Ko.medium,qo.regular,n),mediumPlus:Ya(Ko.mediumPlus,qo.regular,n),large:Ya(Ko.large,qo.regular,n),xLarge:Ya(Ko.xLarge,qo.semibold,n),xLargePlus:Ya(Ko.xLargePlus,qo.semibold,n),xxLarge:Ya(Ko.xxLarge,qo.semibold,n),xxLargePlus:Ya(Ko.xxLargePlus,qo.semibold,n),superLarge:Ya(Ko.superLarge,qo.semibold,n),mega:Ya(Ko.mega,qo.semibold,n)}}(function(e){if(void 0===e&&(e="sessionStorage"),void 0===Xa){var t=Za(),n="localStorage"===e?function(e){var t=null;try{var n=ga();t=n?n.localStorage.getItem(e):null}catch(AT){}return t}(Ja):"sessionStorage"===e?Qa(Ja):void 0;n&&(Xa=n),void 0===Xa&&t&&(Xa=t.documentElement.getAttribute("lang")),void 0===Xa&&(Xa="en")}return Xa}());function es(e,t,n,r){ja({fontFamily:e="'".concat(e,"'"),src:(void 0!==r?"local('".concat(r,"'),"):"")+"url('".concat(t,".woff2') format('woff2'),")+"url('".concat(t,".woff') format('woff')"),fontWeight:n,fontStyle:"normal",fontDisplay:"swap"})}function ts(e,t,n,r,i){void 0===r&&(r="segoeui");var o="".concat(e,"/").concat(n,"/").concat(r);es(t,o+"-light",qo.light,i&&i+" Light"),es(t,o+"-semilight",qo.semilight,i&&i+" SemiLight"),es(t,o+"-regular",qo.regular,i),es(t,o+"-semibold",qo.semibold,i&&i+" SemiBold"),es(t,o+"-bold",qo.bold,i&&i+" Bold")}function ns(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){rs(e||{},i[r])}return e}function rs(e,t,n){for(var r in void 0===n&&(n=[]),n.push(t),t)if(t.hasOwnProperty(r)&&"__proto__"!==r&&"constructor"!==r&&"prototype"!==r){var i=t[r];if("object"!==typeof i||null===i||Array.isArray(i))e[r]=i;else{var o=n.indexOf(i)>-1;e[r]=o?i:rs(e[r]||{},i,n)}}return n.pop(),e}function is(e,t,n,r,i){return void 0===i&&(i=!1),function(e,t){var n="";!0===t&&(n=" /* @deprecated */");return e.listTextColor=e.listText+n,e.menuItemBackgroundChecked+=n,e.warningHighlight+=n,e.warningText=e.messageText+n,e.successText+=n,e}(os(e,t,hi({primaryButtonBorder:"transparent",errorText:r?"#F1707B":"#a4262c",messageText:r?"#F3F2F1":"#323130",messageLink:r?"#6CB8F6":"#005A9E",messageLinkHovered:r?"#82C7FF":"#004578",infoIcon:r?"#C8C6C4":"#605e5c",errorIcon:r?"#F1707B":"#A80000",blockingIcon:r?"#442726":"#FDE7E9",warningIcon:r?"#C8C6C4":"#797775",severeWarningIcon:r?"#FCE100":"#D83B01",successIcon:r?"#92C353":"#107C10",infoBackground:r?"#323130":"#f3f2f1",errorBackground:r?"#442726":"#FDE7E9",blockingBackground:r?"#442726":"#FDE7E9",warningBackground:r?"#433519":"#FFF4CE",severeWarningBackground:r?"#4F2A0F":"#FED9CC",successBackground:r?"#393D1B":"#DFF6DD",warningHighlight:r?"#fff100":"#ffb900",successText:r?"#92c353":"#107C10"},n),r),i)}function os(e,t,n,r,i){void 0===i&&(i=!1);var o={},a=e||{},s=a.white,l=a.black,c=a.themePrimary,u=a.themeDark,d=a.themeDarker,h=a.themeDarkAlt,p=a.themeLighter,f=a.neutralLight,m=a.neutralLighter,g=a.neutralDark,v=a.neutralQuaternary,_=a.neutralQuaternaryAlt,y=a.neutralPrimary,b=a.neutralSecondary,x=a.neutralSecondaryAlt,S=a.neutralTertiary,E=a.neutralTertiaryAlt,w=a.neutralLighterAlt,C=a.accent;return s&&(o.bodyBackground=s,o.bodyFrameBackground=s,o.accentButtonText=s,o.buttonBackground=s,o.primaryButtonText=s,o.primaryButtonTextHovered=s,o.primaryButtonTextPressed=s,o.inputBackground=s,o.inputForegroundChecked=s,o.listBackground=s,o.menuBackground=s,o.cardStandoutBackground=s),l&&(o.bodyTextChecked=l,o.buttonTextCheckedHovered=l),c&&(o.link=c,o.primaryButtonBackground=c,o.inputBackgroundChecked=c,o.inputIcon=c,o.inputFocusBorderAlt=c,o.menuIcon=c,o.menuHeader=c,o.accentButtonBackground=c),u&&(o.primaryButtonBackgroundPressed=u,o.inputBackgroundCheckedHovered=u,o.inputIconHovered=u),d&&(o.linkHovered=d),h&&(o.primaryButtonBackgroundHovered=h),p&&(o.inputPlaceholderBackgroundChecked=p),f&&(o.bodyBackgroundChecked=f,o.bodyFrameDivider=f,o.bodyDivider=f,o.variantBorder=f,o.buttonBackgroundCheckedHovered=f,o.buttonBackgroundPressed=f,o.listItemBackgroundChecked=f,o.listHeaderBackgroundPressed=f,o.menuItemBackgroundPressed=f,o.menuItemBackgroundChecked=f),m&&(o.bodyBackgroundHovered=m,o.buttonBackgroundHovered=m,o.buttonBackgroundDisabled=m,o.buttonBorderDisabled=m,o.primaryButtonBackgroundDisabled=m,o.disabledBackground=m,o.listItemBackgroundHovered=m,o.listHeaderBackgroundHovered=m,o.menuItemBackgroundHovered=m),v&&(o.primaryButtonTextDisabled=v,o.disabledSubtext=v),_&&(o.listItemBackgroundCheckedHovered=_),S&&(o.disabledBodyText=S,o.variantBorderHovered=(null===n||void 0===n?void 0:n.variantBorderHovered)||S,o.buttonTextDisabled=S,o.inputIconDisabled=S,o.disabledText=S),y&&(o.bodyText=y,o.actionLink=y,o.buttonText=y,o.inputBorderHovered=y,o.inputText=y,o.listText=y,o.menuItemText=y),w&&(o.bodyStandoutBackground=w,o.defaultStateBackground=w),g&&(o.actionLinkHovered=g,o.buttonTextHovered=g,o.buttonTextChecked=g,o.buttonTextPressed=g,o.inputTextHovered=g,o.menuItemTextHovered=g),b&&(o.bodySubtext=b,o.focusBorder=b,o.inputBorder=b,o.smallInputBorder=b,o.inputPlaceholderText=b),x&&(o.buttonBorder=x),E&&(o.disabledBodySubtext=E,o.disabledBorder=E,o.buttonBackgroundChecked=E,o.menuDivider=E),C&&(o.accentButtonBackground=C),(null===t||void 0===t?void 0:t.elevation4)&&(o.cardShadow=t.elevation4),!r&&(null===t||void 0===t?void 0:t.elevation8)?o.cardShadowHovered=t.elevation8:o.variantBorderHovered&&(o.cardShadowHovered="0 0 1px "+o.variantBorderHovered),o=hi(hi({},o),n)}function as(e,t){var n,r,i;void 0===t&&(t={});var o=ns({},e,t,{semanticColors:os(t.palette,t.effects,t.semanticColors,void 0===t.isInverted?e.isInverted:t.isInverted)});if((null===(n=t.palette)||void 0===n?void 0:n.themePrimary)&&!(null===(r=t.palette)||void 0===r?void 0:r.accent)&&(o.palette.accent=t.palette.themePrimary),t.defaultFontStyle)for(var a=0,s=Object.keys(o.fonts);a<s.length;a++){var l=s[a];o.fonts[l]=ns(o.fonts[l],t.defaultFontStyle,null===(i=null===t||void 0===t?void 0:t.fonts)||void 0===i?void 0:i[l])}return o}!function(e){if(e){var t="".concat(e,"/fonts");ts(t,jo.Thai,"leelawadeeui-thai","leelawadeeui"),ts(t,jo.Arabic,"segoeui-arabic"),ts(t,jo.Cyrillic,"segoeui-cyrillic"),ts(t,jo.EastEuropean,"segoeui-easteuropean"),ts(t,jo.Greek,"segoeui-greek"),ts(t,jo.Hebrew,"segoeui-hebrew"),ts(t,jo.Vietnamese,"segoeui-vietnamese"),ts(t,jo.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),ts(t,Xo.Selawik,"selawik","selawik"),ts(t,jo.Armenian,"segoeui-armenian"),ts(t,jo.Georgian,"segoeui-georgian"),es("Leelawadee UI Web","".concat(t,"/leelawadeeui-thai/leelawadeeui-semilight"),qo.light),es("Leelawadee UI Web","".concat(t,"/leelawadeeui-thai/leelawadeeui-bold"),qo.semibold)}}(function(){var e,t,n=null===(e=ga())||void 0===e?void 0:e.FabricConfig;return null!==(t=null===n||void 0===n?void 0:n.fontBaseUrl)&&void 0!==t?t:"https://res-1.cdn.office.net/files/fabric-cdn-prod_20230815.002/assets"}());var ss={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"};function ls(e,t){void 0===e&&(e={}),void 0===t&&(t=!1);var n=!!e.isInverted;return as({palette:Wa,effects:Ga,fonts:$a,spacing:ss,isInverted:n,disableGlobalClassNames:!1,semanticColors:is(Wa,Ga,void 0,n,t),rtl:void 0},e)}var cs=ls({}),us=[],ds="theme";function hs(){var e,t,n,r=ga();(null===(t=null===r||void 0===r?void 0:r.FabricConfig)||void 0===t?void 0:t.legacyTheme)?function(e,t){var n;void 0===t&&(t=!1);cs=ls(e,t),Ba(hi(hi(hi(hi({},cs.palette),cs.semanticColors),cs.effects),function(e){for(var t={},n=0,r=Object.keys(e.fonts);n<r.length;n++)for(var i=r[n],o=e.fonts[i],a=0,s=Object.keys(o);a<s.length;a++){var l=s[a],c=i+l.charAt(0).toUpperCase()+l.slice(1),u=o[l];"fontSize"===l&&"number"===typeof u&&(u+="px"),t[c]=u}return t}(cs))),ka.applySettings((n={},n[ds]=cs,n)),us.forEach((function(e){try{e(cs)}catch(AT){}}))}(r.FabricConfig.legacyTheme):ka.getSettings([ds]).theme||((null===(n=null===r||void 0===r?void 0:r.FabricConfig)||void 0===n?void 0:n.theme)&&(cs=ls(r.FabricConfig.theme)),ka.applySettings(((e={})[ds]=cs,e)))}hs();var ps={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"};function fs(e){console&&console.warn&&console.warn(e)}var ms=Ta.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),gs=wi.getInstance();gs&&gs.onReset&&gs.onReset((function(){for(var e in ms)ms.hasOwnProperty(e)&&ms[e].subset&&(ms[e].subset.className=void 0)}));var vs=function(e){return e.toLowerCase()};function _s(e,t){var n=hi(hi({},e),{isRegistered:!1,className:void 0}),r=e.icons;for(var i in t=t?hi(hi({},ms.__options),t):ms.__options,r)if(r.hasOwnProperty(i)){var o=r[i],a=vs(i);ms[a]?Ss(i):ms[a]={code:o,subset:n}}}function ys(e,t){ms.__remapped[vs(e)]=vs(t)}var bs=[],xs=void 0;function Ss(e){var t=ms.__options;t.disableWarnings||(bs.push(e),void 0===xs&&(xs=setTimeout((function(){fs("Some icons were re-registered. Applications should only call registerIcons for any given icon once. Redefining what an icon is may have unintended consequences. Duplicates include: \n"+bs.slice(0,10).join(", ")+(bs.length>10?" (+ ".concat(bs.length-10," more)"):"")),xs=void 0,bs=[]}),2e3)))}function Es(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&1===e.length&&e[0]&&!e[0].subComponentStyles&&!oi(e[0]))return e[0];for(var n={},r={},i=0,o=e;i<o.length;i++){var a=o[i];if(a&&!oi(a))for(var s in a)if(a.hasOwnProperty(s)){if("subComponentStyles"===s&&void 0!==a.subComponentStyles){var l=a.subComponentStyles;for(var c in l)l.hasOwnProperty(c)&&(r.hasOwnProperty(c)?r[c].push(l[c]):r[c]=[l[c]]);continue}var u=n[s],d=a[s];n[s]=void 0===u?d:mi(mi([],Array.isArray(u)?u:[u],!0),Array.isArray(d)?d:[d],!0)}}if(Object.keys(r).length>0){n.subComponentStyles={};var h=n.subComponentStyles,p=function(e){if(r.hasOwnProperty(e)){var t=r[e];h[e]=function(e){return Es.apply(void 0,t.map((function(t){return"function"===typeof t?t(e):t})))}}};for(var c in r)p(c)}return n}function ws(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];a&&r.push("function"===typeof a?a(e):a)}return 1===r.length?r[0]:r.length?Es.apply(void 0,r):{}}function Cs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ms(e,ci())}function Ms(e,t){var n,r={subComponentStyles:{}},i=void 0;oi(e[0])?(i=e[0],n=e[1]):n=e[0],null!==i&&void 0!==i||(i=null===t||void 0===t?void 0:t.shadowConfig);var o=hi(hi({},t),{shadowConfig:i});if(!n&&e.length<=1)return{subComponentStyles:{}};var a=wi.getInstance(i);o.stylesheet=a;var s=Es.apply(void 0,e),l=[];for(var c in s)if(s.hasOwnProperty(c)){if("subComponentStyles"===c){r.subComponentStyles=s.subComponentStyles||{};continue}if("__shadowConfig__"===c)continue;var u=ai(a,s[c]),d=u.classes,h=u.objects;if(null===h||void 0===h?void 0:h.length)(m=Gi(o||{},{displayName:c},h))&&(l.push(m),r[c]=d.concat([m.className]).join(" "));else r[c]=d.join(" ")}for(var p=0,f=l;p<f.length;p++){var m;(m=f[p])&&ji(m,null===t||void 0===t?void 0:t.specificityMultiplier,i)}return r}var Ts={},Rs=void 0;try{Rs=window}catch(AT){}function As(e,t){if("undefined"!==typeof Rs){var n=Rs.__packages__=Rs.__packages__||{};if(!n[e]||!Ts[e])Ts[e]=t,(n[e]=n[e]||[]).push(t)}}function Ps(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons"',src:"url('".concat(e,"fabric-icons-a13498cf.woff') format('woff')")},icons:{GlobalNavButton:"\ue700",ChevronDown:"\ue70d",ChevronUp:"\ue70e",Edit:"\ue70f",Add:"\ue710",Cancel:"\ue711",More:"\ue712",Settings:"\ue713",Mail:"\ue715",Filter:"\ue71c",Search:"\ue721",Share:"\ue72d",BlockedSite:"\ue72f",FavoriteStar:"\ue734",FavoriteStarFill:"\ue735",CheckMark:"\ue73e",Delete:"\ue74d",ChevronLeft:"\ue76b",ChevronRight:"\ue76c",Calendar:"\ue787",Megaphone:"\ue789",Undo:"\ue7a7",Flag:"\ue7c1",Page:"\ue7c3",Pinned:"\ue840",View:"\ue890",Clear:"\ue894",Download:"\ue896",Upload:"\ue898",Folder:"\ue8b7",Sort:"\ue8cb",AlignRight:"\ue8e2",AlignLeft:"\ue8e4",Tag:"\ue8ec",AddFriend:"\ue8fa",Info:"\ue946",SortLines:"\ue9d0",List:"\uea37",CircleRing:"\uea3a",Heart:"\ueb51",HeartFill:"\ueb52",Tiles:"\ueca5",Embed:"\uecce",Glimmer:"\uecf4",Ascending:"\uedc0",Descending:"\uedc1",SortUp:"\uee68",SortDown:"\uee69",SyncToPC:"\uee6e",LargeGrid:"\ueecb",SkypeCheck:"\uef80",SkypeClock:"\uef81",SkypeMinus:"\uef82",ClearFilter:"\uef8f",Flow:"\uef90",StatusCircleCheckmark:"\uf13e",MoreVertical:"\uf2bc"}},t)}function Ds(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-0"',src:"url('".concat(e,"fabric-icons-0-467ee27f.woff') format('woff')")},icons:{PageLink:"\ue302",CommentSolid:"\ue30e",ChangeEntitlements:"\ue310",Installation:"\ue311",WebAppBuilderModule:"\ue313",WebAppBuilderFragment:"\ue314",WebAppBuilderSlot:"\ue315",BullseyeTargetEdit:"\ue319",WebAppBuilderFragmentCreate:"\ue31b",PageData:"\ue31c",PageHeaderEdit:"\ue31d",ProductList:"\ue31e",UnpublishContent:"\ue31f",DependencyAdd:"\ue344",DependencyRemove:"\ue345",EntitlementPolicy:"\ue346",EntitlementRedemption:"\ue347",SchoolDataSyncLogo:"\ue34c",PinSolid12:"\ue352",PinSolidOff12:"\ue353",AddLink:"\ue35e",SharepointAppIcon16:"\ue365",DataflowsLink:"\ue366",TimePicker:"\ue367",UserWarning:"\ue368",ComplianceAudit:"\ue369",InternetSharing:"\ue704",Brightness:"\ue706",MapPin:"\ue707",Airplane:"\ue709",Tablet:"\ue70a",QuickNote:"\ue70b",Video:"\ue714",People:"\ue716",Phone:"\ue717",Pin:"\ue718",Shop:"\ue719",Stop:"\ue71a",Link:"\ue71b",AllApps:"\ue71d",Zoom:"\ue71e",ZoomOut:"\ue71f",Microphone:"\ue720",Camera:"\ue722",Attach:"\ue723",Send:"\ue724",FavoriteList:"\ue728",PageSolid:"\ue729",Forward:"\ue72a",Back:"\ue72b",Refresh:"\ue72c",Lock:"\ue72e",ReportHacked:"\ue730",EMI:"\ue731",MiniLink:"\ue732",Blocked:"\ue733",ReadingMode:"\ue736",Favicon:"\ue737",Remove:"\ue738",Checkbox:"\ue739",CheckboxComposite:"\ue73a",CheckboxFill:"\ue73b",CheckboxIndeterminate:"\ue73c",CheckboxCompositeReversed:"\ue73d",BackToWindow:"\ue73f",FullScreen:"\ue740",Print:"\ue749",Up:"\ue74a",Down:"\ue74b",OEM:"\ue74c",Save:"\ue74e",ReturnKey:"\ue751",Cloud:"\ue753",Flashlight:"\ue754",CommandPrompt:"\ue756",Sad:"\ue757",RealEstate:"\ue758",SIPMove:"\ue759",EraseTool:"\ue75c",GripperTool:"\ue75e",Dialpad:"\ue75f",PageLeft:"\ue760",PageRight:"\ue761",MultiSelect:"\ue762",KeyboardClassic:"\ue765",Play:"\ue768",Pause:"\ue769",InkingTool:"\ue76d",Emoji2:"\ue76e",GripperBarHorizontal:"\ue76f",System:"\ue770",Personalize:"\ue771",SearchAndApps:"\ue773",Globe:"\ue774",EaseOfAccess:"\ue776",ContactInfo:"\ue779",Unpin:"\ue77a",Contact:"\ue77b",Memo:"\ue77c",IncomingCall:"\ue77e"}},t)}function Is(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-1"',src:"url('".concat(e,"fabric-icons-1-4d521695.woff') format('woff')")},icons:{Paste:"\ue77f",WindowsLogo:"\ue782",Error:"\ue783",GripperBarVertical:"\ue784",Unlock:"\ue785",Slideshow:"\ue786",Trim:"\ue78a",AutoEnhanceOn:"\ue78d",AutoEnhanceOff:"\ue78e",Color:"\ue790",SaveAs:"\ue792",Light:"\ue793",Filters:"\ue795",AspectRatio:"\ue799",Contrast:"\ue7a1",Redo:"\ue7a6",Crop:"\ue7a8",PhotoCollection:"\ue7aa",Album:"\ue7ab",Rotate:"\ue7ad",PanoIndicator:"\ue7b0",Translate:"\ue7b2",RedEye:"\ue7b3",ViewOriginal:"\ue7b4",ThumbnailView:"\ue7b6",Package:"\ue7b8",Telemarketer:"\ue7b9",Warning:"\ue7ba",Financial:"\ue7bb",Education:"\ue7be",ShoppingCart:"\ue7bf",Train:"\ue7c0",Move:"\ue7c2",TouchPointer:"\ue7c9",Merge:"\ue7d5",TurnRight:"\ue7db",Ferry:"\ue7e3",Highlight:"\ue7e6",PowerButton:"\ue7e8",Tab:"\ue7e9",Admin:"\ue7ef",TVMonitor:"\ue7f4",Speakers:"\ue7f5",Game:"\ue7fc",HorizontalTabKey:"\ue7fd",UnstackSelected:"\ue7fe",StackIndicator:"\ue7ff",Nav2DMapView:"\ue800",StreetsideSplitMinimize:"\ue802",Car:"\ue804",Bus:"\ue806",EatDrink:"\ue807",SeeDo:"\ue808",LocationCircle:"\ue80e",Home:"\ue80f",SwitcherStartEnd:"\ue810",ParkingLocation:"\ue811",IncidentTriangle:"\ue814",Touch:"\ue815",MapDirections:"\ue816",CaretHollow:"\ue817",CaretSolid:"\ue818",History:"\ue81c",Location:"\ue81d",MapLayers:"\ue81e",SearchNearby:"\ue820",Work:"\ue821",Recent:"\ue823",Hotel:"\ue824",Bank:"\ue825",LocationDot:"\ue827",Dictionary:"\ue82d",ChromeBack:"\ue830",FolderOpen:"\ue838",PinnedFill:"\ue842",RevToggleKey:"\ue845",USB:"\ue88e",Previous:"\ue892",Next:"\ue893",Sync:"\ue895",Help:"\ue897",Emoji:"\ue899",MailForward:"\ue89c",ClosePane:"\ue89f",OpenPane:"\ue8a0",PreviewLink:"\ue8a1",ZoomIn:"\ue8a3",Bookmarks:"\ue8a4",Document:"\ue8a5",ProtectedDocument:"\ue8a6",OpenInNewWindow:"\ue8a7",MailFill:"\ue8a8",ViewAll:"\ue8a9",Switch:"\ue8ab",Rename:"\ue8ac",Go:"\ue8ad",Remote:"\ue8af",SelectAll:"\ue8b3",Orientation:"\ue8b4",Import:"\ue8b5"}},t)}function ks(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-2"',src:"url('".concat(e,"fabric-icons-2-63c99abf.woff') format('woff')")},icons:{Picture:"\ue8b9",ChromeClose:"\ue8bb",ShowResults:"\ue8bc",Message:"\ue8bd",CalendarDay:"\ue8bf",CalendarWeek:"\ue8c0",MailReplyAll:"\ue8c2",Read:"\ue8c3",Cut:"\ue8c6",PaymentCard:"\ue8c7",Copy:"\ue8c8",Important:"\ue8c9",MailReply:"\ue8ca",GotoToday:"\ue8d1",Font:"\ue8d2",FontColor:"\ue8d3",FolderFill:"\ue8d5",Permissions:"\ue8d7",DisableUpdates:"\ue8d8",Unfavorite:"\ue8d9",Italic:"\ue8db",Underline:"\ue8dc",Bold:"\ue8dd",MoveToFolder:"\ue8de",Dislike:"\ue8e0",Like:"\ue8e1",AlignCenter:"\ue8e3",OpenFile:"\ue8e5",ClearSelection:"\ue8e6",FontDecrease:"\ue8e7",FontIncrease:"\ue8e8",FontSize:"\ue8e9",CellPhone:"\ue8ea",RepeatOne:"\ue8ed",RepeatAll:"\ue8ee",Calculator:"\ue8ef",Library:"\ue8f1",PostUpdate:"\ue8f3",NewFolder:"\ue8f4",CalendarReply:"\ue8f5",UnsyncFolder:"\ue8f6",SyncFolder:"\ue8f7",BlockContact:"\ue8f8",Accept:"\ue8fb",BulletedList:"\ue8fd",Preview:"\ue8ff",News:"\ue900",Chat:"\ue901",Group:"\ue902",World:"\ue909",Comment:"\ue90a",DockLeft:"\ue90c",DockRight:"\ue90d",Repair:"\ue90f",Accounts:"\ue910",Street:"\ue913",RadioBullet:"\ue915",Stopwatch:"\ue916",Clock:"\ue917",WorldClock:"\ue918",AlarmClock:"\ue919",Photo:"\ue91b",ActionCenter:"\ue91c",Hospital:"\ue91d",Timer:"\ue91e",FullCircleMask:"\ue91f",LocationFill:"\ue920",ChromeMinimize:"\ue921",ChromeRestore:"\ue923",Annotation:"\ue924",Fingerprint:"\ue928",Handwriting:"\ue929",ChromeFullScreen:"\ue92d",Completed:"\ue930",Label:"\ue932",FlickDown:"\ue935",FlickUp:"\ue936",FlickLeft:"\ue937",FlickRight:"\ue938",MiniExpand:"\ue93a",MiniContract:"\ue93b",Streaming:"\ue93e",MusicInCollection:"\ue940",OneDriveLogo:"\ue941",CompassNW:"\ue942",Code:"\ue943",LightningBolt:"\ue945",CalculatorMultiply:"\ue947",CalculatorAddition:"\ue948",CalculatorSubtract:"\ue949",CalculatorPercentage:"\ue94c",CalculatorEqualTo:"\ue94e",PrintfaxPrinterFile:"\ue956",StorageOptical:"\ue958",Communications:"\ue95a",Headset:"\ue95b",Health:"\ue95e",Webcam2:"\ue960",FrontCamera:"\ue96b",ChevronUpSmall:"\ue96d"}},t)}function Ls(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-3"',src:"url('".concat(e,"fabric-icons-3-089e217a.woff') format('woff')")},icons:{ChevronDownSmall:"\ue96e",ChevronLeftSmall:"\ue96f",ChevronRightSmall:"\ue970",ChevronUpMed:"\ue971",ChevronDownMed:"\ue972",ChevronLeftMed:"\ue973",ChevronRightMed:"\ue974",Devices2:"\ue975",PC1:"\ue977",PresenceChickletVideo:"\ue979",Reply:"\ue97a",HalfAlpha:"\ue97e",ConstructionCone:"\ue98f",DoubleChevronLeftMed:"\ue991",Volume0:"\ue992",Volume1:"\ue993",Volume2:"\ue994",Volume3:"\ue995",Chart:"\ue999",Robot:"\ue99a",Manufacturing:"\ue99c",LockSolid:"\ue9a2",FitPage:"\ue9a6",FitWidth:"\ue9a7",BidiLtr:"\ue9aa",BidiRtl:"\ue9ab",RightDoubleQuote:"\ue9b1",Sunny:"\ue9bd",CloudWeather:"\ue9be",Cloudy:"\ue9bf",PartlyCloudyDay:"\ue9c0",PartlyCloudyNight:"\ue9c1",ClearNight:"\ue9c2",RainShowersDay:"\ue9c3",Rain:"\ue9c4",Thunderstorms:"\ue9c6",RainSnow:"\ue9c7",Snow:"\ue9c8",BlowingSnow:"\ue9c9",Frigid:"\ue9ca",Fog:"\ue9cb",Squalls:"\ue9cc",Duststorm:"\ue9cd",Unknown:"\ue9ce",Precipitation:"\ue9cf",Ribbon:"\ue9d1",AreaChart:"\ue9d2",Assign:"\ue9d3",FlowChart:"\ue9d4",CheckList:"\ue9d5",Diagnostic:"\ue9d9",Generate:"\ue9da",LineChart:"\ue9e6",Equalizer:"\ue9e9",BarChartHorizontal:"\ue9eb",BarChartVertical:"\ue9ec",Freezing:"\ue9ef",FunnelChart:"\ue9f1",Processing:"\ue9f5",Quantity:"\ue9f8",ReportDocument:"\ue9f9",StackColumnChart:"\ue9fc",SnowShowerDay:"\ue9fd",HailDay:"\uea00",WorkFlow:"\uea01",HourGlass:"\uea03",StoreLogoMed20:"\uea04",TimeSheet:"\uea05",TriangleSolid:"\uea08",UpgradeAnalysis:"\uea0b",VideoSolid:"\uea0c",RainShowersNight:"\uea0f",SnowShowerNight:"\uea11",Teamwork:"\uea12",HailNight:"\uea13",PeopleAdd:"\uea15",Glasses:"\uea16",DateTime2:"\uea17",Shield:"\uea18",Header1:"\uea19",PageAdd:"\uea1a",NumberedList:"\uea1c",PowerBILogo:"\uea1e",Info2:"\uea1f",MusicInCollectionFill:"\uea36",Asterisk:"\uea38",ErrorBadge:"\uea39",CircleFill:"\uea3b",Record2:"\uea3f",AllAppsMirrored:"\uea40",BookmarksMirrored:"\uea41",BulletedListMirrored:"\uea42",CaretHollowMirrored:"\uea45",CaretSolidMirrored:"\uea46",ChromeBackMirrored:"\uea47",ClearSelectionMirrored:"\uea48",ClosePaneMirrored:"\uea49",DockLeftMirrored:"\uea4c",DoubleChevronLeftMedMirrored:"\uea4d",GoMirrored:"\uea4f"}},t)}function Ns(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-4"',src:"url('".concat(e,"fabric-icons-4-a656cc0a.woff') format('woff')")},icons:{HelpMirrored:"\uea51",ImportMirrored:"\uea52",ImportAllMirrored:"\uea53",ListMirrored:"\uea55",MailForwardMirrored:"\uea56",MailReplyMirrored:"\uea57",MailReplyAllMirrored:"\uea58",MiniContractMirrored:"\uea59",MiniExpandMirrored:"\uea5a",OpenPaneMirrored:"\uea5b",ParkingLocationMirrored:"\uea5e",SendMirrored:"\uea63",ShowResultsMirrored:"\uea65",ThumbnailViewMirrored:"\uea67",Media:"\uea69",Devices3:"\uea6c",Focus:"\uea6f",VideoLightOff:"\uea74",Lightbulb:"\uea80",StatusTriangle:"\uea82",VolumeDisabled:"\uea85",Puzzle:"\uea86",EmojiNeutral:"\uea87",EmojiDisappointed:"\uea88",HomeSolid:"\uea8a",Ringer:"\uea8f",PDF:"\uea90",HeartBroken:"\uea92",StoreLogo16:"\uea96",MultiSelectMirrored:"\uea98",Broom:"\uea99",AddToShoppingList:"\uea9a",Cocktails:"\uea9d",Wines:"\ueabf",Articles:"\ueac1",Cycling:"\ueac7",DietPlanNotebook:"\ueac8",Pill:"\ueacb",ExerciseTracker:"\ueacc",HandsFree:"\uead0",Medical:"\uead4",Running:"\ueada",Weights:"\ueadb",Trackers:"\ueadf",AddNotes:"\ueae3",AllCurrency:"\ueae4",BarChart4:"\ueae7",CirclePlus:"\ueaee",Coffee:"\ueaef",Cotton:"\ueaf3",Market:"\ueafc",Money:"\ueafd",PieDouble:"\ueb04",PieSingle:"\ueb05",RemoveFilter:"\ueb08",Savings:"\ueb0b",Sell:"\ueb0c",StockDown:"\ueb0f",StockUp:"\ueb11",Lamp:"\ueb19",Source:"\ueb1b",MSNVideos:"\ueb1c",Cricket:"\ueb1e",Golf:"\ueb1f",Baseball:"\ueb20",Soccer:"\ueb21",MoreSports:"\ueb22",AutoRacing:"\ueb24",CollegeHoops:"\ueb25",CollegeFootball:"\ueb26",ProFootball:"\ueb27",ProHockey:"\ueb28",Rugby:"\ueb2d",SubstitutionsIn:"\ueb31",Tennis:"\ueb33",Arrivals:"\ueb34",Design:"\ueb3c",Website:"\ueb41",Drop:"\ueb42",HistoricalWeather:"\ueb43",SkiResorts:"\ueb45",Snowflake:"\ueb46",BusSolid:"\ueb47",FerrySolid:"\ueb48",AirplaneSolid:"\ueb4c",TrainSolid:"\ueb4d",Ticket:"\ueb54",WifiWarning4:"\ueb63",Devices4:"\ueb66",AzureLogo:"\ueb6a",BingLogo:"\ueb6b",MSNLogo:"\ueb6c",OutlookLogoInverse:"\ueb6d",OfficeLogo:"\ueb6e",SkypeLogo:"\ueb6f",Door:"\ueb75",EditMirrored:"\ueb7e",GiftCard:"\ueb8e",DoubleBookmark:"\ueb8f",StatusErrorFull:"\ueb90"}},t)}function Os(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-5"',src:"url('".concat(e,"fabric-icons-5-f95ba260.woff') format('woff')")},icons:{Certificate:"\ueb95",FastForward:"\ueb9d",Rewind:"\ueb9e",Photo2:"\ueb9f",OpenSource:"\uebc2",Movers:"\uebcd",CloudDownload:"\uebd3",Family:"\uebda",WindDirection:"\uebe6",Bug:"\uebe8",SiteScan:"\uebec",BrowserScreenShot:"\uebed",F12DevTools:"\uebee",CSS:"\uebef",JS:"\uebf0",DeliveryTruck:"\uebf4",ReminderPerson:"\uebf7",ReminderGroup:"\uebf8",ReminderTime:"\uebf9",TabletMode:"\uebfc",Umbrella:"\uec04",NetworkTower:"\uec05",CityNext:"\uec06",CityNext2:"\uec07",Section:"\uec0c",OneNoteLogoInverse:"\uec0d",ToggleFilled:"\uec11",ToggleBorder:"\uec12",SliderThumb:"\uec13",ToggleThumb:"\uec14",Documentation:"\uec17",Badge:"\uec1b",Giftbox:"\uec1f",VisualStudioLogo:"\uec22",HomeGroup:"\uec26",ExcelLogoInverse:"\uec28",WordLogoInverse:"\uec29",PowerPointLogoInverse:"\uec2a",Cafe:"\uec32",SpeedHigh:"\uec4a",Commitments:"\uec4d",ThisPC:"\uec4e",MusicNote:"\uec4f",MicOff:"\uec54",PlaybackRate1x:"\uec57",EdgeLogo:"\uec60",CompletedSolid:"\uec61",AlbumRemove:"\uec62",MessageFill:"\uec70",TabletSelected:"\uec74",MobileSelected:"\uec75",LaptopSelected:"\uec76",TVMonitorSelected:"\uec77",DeveloperTools:"\uec7a",Shapes:"\uec7c",InsertTextBox:"\uec7d",LowerBrightness:"\uec8a",WebComponents:"\uec8b",OfflineStorage:"\uec8c",DOM:"\uec8d",CloudUpload:"\uec8e",ScrollUpDown:"\uec8f",DateTime:"\uec92",Event:"\ueca3",Cake:"\ueca4",Org:"\ueca6",PartyLeader:"\ueca7",DRM:"\ueca8",CloudAdd:"\ueca9",AppIconDefault:"\uecaa",Photo2Add:"\uecab",Photo2Remove:"\uecac",Calories:"\uecad",POI:"\uecaf",AddTo:"\uecc8",RadioBtnOff:"\uecca",RadioBtnOn:"\ueccb",ExploreContent:"\ueccd",Product:"\uecdc",ProgressLoopInner:"\uecde",ProgressLoopOuter:"\uecdf",Blocked2:"\uece4",FangBody:"\ueceb",Toolbox:"\ueced",PageHeader:"\uecee",ChatInviteFriend:"\uecfe",Brush:"\uecff",Shirt:"\ued00",Crown:"\ued01",Diamond:"\ued02",ScaleUp:"\ued09",QRCode:"\ued14",Feedback:"\ued15",SharepointLogoInverse:"\ued18",YammerLogo:"\ued19",Hide:"\ued1a",Uneditable:"\ued1d",ReturnToSession:"\ued24",OpenFolderHorizontal:"\ued25",CalendarMirrored:"\ued28"}},t)}function Fs(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-6"',src:"url('".concat(e,"fabric-icons-6-ef6fd590.woff') format('woff')")},icons:{SwayLogoInverse:"\ued29",OutOfOffice:"\ued34",Trophy:"\ued3f",ReopenPages:"\ued50",EmojiTabSymbols:"\ued58",AADLogo:"\ued68",AccessLogo:"\ued69",AdminALogoInverse32:"\ued6a",AdminCLogoInverse32:"\ued6b",AdminDLogoInverse32:"\ued6c",AdminELogoInverse32:"\ued6d",AdminLLogoInverse32:"\ued6e",AdminMLogoInverse32:"\ued6f",AdminOLogoInverse32:"\ued70",AdminPLogoInverse32:"\ued71",AdminSLogoInverse32:"\ued72",AdminYLogoInverse32:"\ued73",DelveLogoInverse:"\ued76",ExchangeLogoInverse:"\ued78",LyncLogo:"\ued79",OfficeVideoLogoInverse:"\ued7a",SocialListeningLogo:"\ued7c",VisioLogoInverse:"\ued7d",Balloons:"\ued7e",Cat:"\ued7f",MailAlert:"\ued80",MailCheck:"\ued81",MailLowImportance:"\ued82",MailPause:"\ued83",MailRepeat:"\ued84",SecurityGroup:"\ued85",Table:"\ued86",VoicemailForward:"\ued87",VoicemailReply:"\ued88",Waffle:"\ued89",RemoveEvent:"\ued8a",EventInfo:"\ued8b",ForwardEvent:"\ued8c",WipePhone:"\ued8d",AddOnlineMeeting:"\ued8e",JoinOnlineMeeting:"\ued8f",RemoveLink:"\ued90",PeopleBlock:"\ued91",PeopleRepeat:"\ued92",PeopleAlert:"\ued93",PeoplePause:"\ued94",TransferCall:"\ued95",AddPhone:"\ued96",UnknownCall:"\ued97",NoteReply:"\ued98",NoteForward:"\ued99",NotePinned:"\ued9a",RemoveOccurrence:"\ued9b",Timeline:"\ued9c",EditNote:"\ued9d",CircleHalfFull:"\ued9e",Room:"\ued9f",Unsubscribe:"\ueda0",Subscribe:"\ueda1",HardDrive:"\ueda2",RecurringTask:"\uedb2",TaskManager:"\uedb7",TaskManagerMirrored:"\uedb8",Combine:"\uedbb",Split:"\uedbc",DoubleChevronUp:"\uedbd",DoubleChevronLeft:"\uedbe",DoubleChevronRight:"\uedbf",TextBox:"\uedc2",TextField:"\uedc3",NumberField:"\uedc4",Dropdown:"\uedc5",PenWorkspace:"\uedc6",BookingsLogo:"\uedc7",ClassNotebookLogoInverse:"\uedc8",DelveAnalyticsLogo:"\uedca",DocsLogoInverse:"\uedcb",Dynamics365Logo:"\uedcc",DynamicSMBLogo:"\uedcd",OfficeAssistantLogo:"\uedce",OfficeStoreLogo:"\uedcf",OneNoteEduLogoInverse:"\uedd0",PlannerLogo:"\uedd1",PowerApps:"\uedd2",Suitcase:"\uedd3",ProjectLogoInverse:"\uedd4",CaretLeft8:"\uedd5",CaretRight8:"\uedd6",CaretUp8:"\uedd7",CaretDown8:"\uedd8",CaretLeftSolid8:"\uedd9",CaretRightSolid8:"\uedda",CaretUpSolid8:"\ueddb",CaretDownSolid8:"\ueddc",ClearFormatting:"\ueddd",Superscript:"\uedde",Subscript:"\ueddf",Strikethrough:"\uede0",Export:"\uede1",ExportMirrored:"\uede2"}},t)}function Us(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-7"',src:"url('".concat(e,"fabric-icons-7-2b97bb99.woff') format('woff')")},icons:{SingleBookmark:"\uedff",SingleBookmarkSolid:"\uee00",DoubleChevronDown:"\uee04",FollowUser:"\uee05",ReplyAll:"\uee0a",WorkforceManagement:"\uee0f",RecruitmentManagement:"\uee12",Questionnaire:"\uee19",ManagerSelfService:"\uee23",ProductionFloorManagement:"\uee29",ProductRelease:"\uee2e",ProductVariant:"\uee30",ReplyMirrored:"\uee35",ReplyAllMirrored:"\uee36",Medal:"\uee38",AddGroup:"\uee3d",QuestionnaireMirrored:"\uee4b",CloudImportExport:"\uee55",TemporaryUser:"\uee58",CaretSolid16:"\uee62",GroupedDescending:"\uee66",GroupedAscending:"\uee67",AwayStatus:"\uee6a",MyMoviesTV:"\uee6c",GenericScan:"\uee6f",AustralianRules:"\uee70",WifiEthernet:"\uee77",TrackersMirrored:"\uee92",DateTimeMirrored:"\uee93",StopSolid:"\uee95",DoubleChevronUp12:"\uee96",DoubleChevronDown12:"\uee97",DoubleChevronLeft12:"\uee98",DoubleChevronRight12:"\uee99",CalendarAgenda:"\uee9a",ConnectVirtualMachine:"\uee9d",AddEvent:"\ueeb5",AssetLibrary:"\ueeb6",DataConnectionLibrary:"\ueeb7",DocLibrary:"\ueeb8",FormLibrary:"\ueeb9",FormLibraryMirrored:"\ueeba",ReportLibrary:"\ueebb",ReportLibraryMirrored:"\ueebc",ContactCard:"\ueebd",CustomList:"\ueebe",CustomListMirrored:"\ueebf",IssueTracking:"\ueec0",IssueTrackingMirrored:"\ueec1",PictureLibrary:"\ueec2",OfficeAddinsLogo:"\ueec7",OfflineOneDriveParachute:"\ueec8",OfflineOneDriveParachuteDisabled:"\ueec9",TriangleSolidUp12:"\ueecc",TriangleSolidDown12:"\ueecd",TriangleSolidLeft12:"\ueece",TriangleSolidRight12:"\ueecf",TriangleUp12:"\ueed0",TriangleDown12:"\ueed1",TriangleLeft12:"\ueed2",TriangleRight12:"\ueed3",ArrowUpRight8:"\ueed4",ArrowDownRight8:"\ueed5",DocumentSet:"\ueed6",GoToDashboard:"\ueeed",DelveAnalytics:"\ueeee",ArrowUpRightMirrored8:"\ueeef",ArrowDownRightMirrored8:"\ueef0",CompanyDirectory:"\uef0d",OpenEnrollment:"\uef1c",CompanyDirectoryMirrored:"\uef2b",OneDriveAdd:"\uef32",ProfileSearch:"\uef35",Header2:"\uef36",Header3:"\uef37",Header4:"\uef38",RingerSolid:"\uef3a",Eyedropper:"\uef3c",MarketDown:"\uef42",CalendarWorkWeek:"\uef51",SidePanel:"\uef52",GlobeFavorite:"\uef53",CaretTopLeftSolid8:"\uef54",CaretTopRightSolid8:"\uef55",ViewAll2:"\uef56",DocumentReply:"\uef57",PlayerSettings:"\uef58",ReceiptForward:"\uef59",ReceiptReply:"\uef5a",ReceiptCheck:"\uef5b",Fax:"\uef5c",RecurringEvent:"\uef5d",ReplyAlt:"\uef5e",ReplyAllAlt:"\uef5f",EditStyle:"\uef60",EditMail:"\uef61",Lifesaver:"\uef62",LifesaverLock:"\uef63",InboxCheck:"\uef64",FolderSearch:"\uef65"}},t)}function Bs(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-8"',src:"url('".concat(e,"fabric-icons-8-6fdf1528.woff') format('woff')")},icons:{CollapseMenu:"\uef66",ExpandMenu:"\uef67",Boards:"\uef68",SunAdd:"\uef69",SunQuestionMark:"\uef6a",LandscapeOrientation:"\uef6b",DocumentSearch:"\uef6c",PublicCalendar:"\uef6d",PublicContactCard:"\uef6e",PublicEmail:"\uef6f",PublicFolder:"\uef70",WordDocument:"\uef71",PowerPointDocument:"\uef72",ExcelDocument:"\uef73",GroupedList:"\uef74",ClassroomLogo:"\uef75",Sections:"\uef76",EditPhoto:"\uef77",Starburst:"\uef78",ShareiOS:"\uef79",AirTickets:"\uef7a",PencilReply:"\uef7b",Tiles2:"\uef7c",SkypeCircleCheck:"\uef7d",SkypeCircleClock:"\uef7e",SkypeCircleMinus:"\uef7f",SkypeMessage:"\uef83",ClosedCaption:"\uef84",ATPLogo:"\uef85",OfficeFormsLogoInverse:"\uef86",RecycleBin:"\uef87",EmptyRecycleBin:"\uef88",Hide2:"\uef89",Breadcrumb:"\uef8c",BirthdayCake:"\uef8d",TimeEntry:"\uef95",CRMProcesses:"\uefb1",PageEdit:"\uefb6",PageArrowRight:"\uefb8",PageRemove:"\uefba",Database:"\uefc7",DataManagementSettings:"\uefc8",CRMServices:"\uefd2",EditContact:"\uefd3",ConnectContacts:"\uefd4",AppIconDefaultAdd:"\uefda",AppIconDefaultList:"\uefde",ActivateOrders:"\uefe0",DeactivateOrders:"\uefe1",ProductCatalog:"\uefe8",ScatterChart:"\uefeb",AccountActivity:"\ueff4",DocumentManagement:"\ueffc",CRMReport:"\ueffe",KnowledgeArticle:"\uf000",Relationship:"\uf003",HomeVerify:"\uf00e",ZipFolder:"\uf012",SurveyQuestions:"\uf01b",TextDocument:"\uf029",TextDocumentShared:"\uf02b",PageCheckedOut:"\uf02c",PageShared:"\uf02d",SaveAndClose:"\uf038",Script:"\uf03a",Archive:"\uf03f",ActivityFeed:"\uf056",Compare:"\uf057",EventDate:"\uf059",ArrowUpRight:"\uf069",CaretRight:"\uf06b",SetAction:"\uf071",ChatBot:"\uf08b",CaretSolidLeft:"\uf08d",CaretSolidDown:"\uf08e",CaretSolidRight:"\uf08f",CaretSolidUp:"\uf090",PowerAppsLogo:"\uf091",PowerApps2Logo:"\uf092",SearchIssue:"\uf09a",SearchIssueMirrored:"\uf09b",FabricAssetLibrary:"\uf09c",FabricDataConnectionLibrary:"\uf09d",FabricDocLibrary:"\uf09e",FabricFormLibrary:"\uf09f",FabricFormLibraryMirrored:"\uf0a0",FabricReportLibrary:"\uf0a1",FabricReportLibraryMirrored:"\uf0a2",FabricPublicFolder:"\uf0a3",FabricFolderSearch:"\uf0a4",FabricMovetoFolder:"\uf0a5",FabricUnsyncFolder:"\uf0a6",FabricSyncFolder:"\uf0a7",FabricOpenFolderHorizontal:"\uf0a8",FabricFolder:"\uf0a9",FabricFolderFill:"\uf0aa",FabricNewFolder:"\uf0ab",FabricPictureLibrary:"\uf0ac",PhotoVideoMedia:"\uf0b1",AddFavorite:"\uf0c8"}},t)}function zs(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-9"',src:"url('".concat(e,"fabric-icons-9-c6162b42.woff') format('woff')")},icons:{AddFavoriteFill:"\uf0c9",BufferTimeBefore:"\uf0cf",BufferTimeAfter:"\uf0d0",BufferTimeBoth:"\uf0d1",PublishContent:"\uf0d4",ClipboardList:"\uf0e3",ClipboardListMirrored:"\uf0e4",CannedChat:"\uf0f2",SkypeForBusinessLogo:"\uf0fc",TabCenter:"\uf100",PageCheckedin:"\uf104",PageList:"\uf106",ReadOutLoud:"\uf112",CaretBottomLeftSolid8:"\uf121",CaretBottomRightSolid8:"\uf122",FolderHorizontal:"\uf12b",MicrosoftStaffhubLogo:"\uf130",GiftboxOpen:"\uf133",StatusCircleOuter:"\uf136",StatusCircleInner:"\uf137",StatusCircleRing:"\uf138",StatusTriangleOuter:"\uf139",StatusTriangleInner:"\uf13a",StatusTriangleExclamation:"\uf13b",StatusCircleExclamation:"\uf13c",StatusCircleErrorX:"\uf13d",StatusCircleInfo:"\uf13f",StatusCircleBlock:"\uf140",StatusCircleBlock2:"\uf141",StatusCircleQuestionMark:"\uf142",StatusCircleSync:"\uf143",Toll:"\uf160",ExploreContentSingle:"\uf164",CollapseContent:"\uf165",CollapseContentSingle:"\uf166",InfoSolid:"\uf167",GroupList:"\uf168",ProgressRingDots:"\uf16a",CaloriesAdd:"\uf172",BranchFork:"\uf173",MuteChat:"\uf17a",AddHome:"\uf17b",AddWork:"\uf17c",MobileReport:"\uf18a",ScaleVolume:"\uf18c",HardDriveGroup:"\uf18f",FastMode:"\uf19a",ToggleLeft:"\uf19e",ToggleRight:"\uf19f",TriangleShape:"\uf1a7",RectangleShape:"\uf1a9",CubeShape:"\uf1aa",Trophy2:"\uf1ae",BucketColor:"\uf1b6",BucketColorFill:"\uf1b7",Taskboard:"\uf1c2",SingleColumn:"\uf1d3",DoubleColumn:"\uf1d4",TripleColumn:"\uf1d5",ColumnLeftTwoThirds:"\uf1d6",ColumnRightTwoThirds:"\uf1d7",AccessLogoFill:"\uf1db",AnalyticsLogo:"\uf1de",AnalyticsQuery:"\uf1df",NewAnalyticsQuery:"\uf1e0",AnalyticsReport:"\uf1e1",WordLogo:"\uf1e3",WordLogoFill:"\uf1e4",ExcelLogo:"\uf1e5",ExcelLogoFill:"\uf1e6",OneNoteLogo:"\uf1e7",OneNoteLogoFill:"\uf1e8",OutlookLogo:"\uf1e9",OutlookLogoFill:"\uf1ea",PowerPointLogo:"\uf1eb",PowerPointLogoFill:"\uf1ec",PublisherLogo:"\uf1ed",PublisherLogoFill:"\uf1ee",ScheduleEventAction:"\uf1ef",FlameSolid:"\uf1f3",ServerProcesses:"\uf1fe",Server:"\uf201",SaveAll:"\uf203",LinkedInLogo:"\uf20a",Decimals:"\uf218",SidePanelMirrored:"\uf221",ProtectRestrict:"\uf22a",Blog:"\uf22b",UnknownMirrored:"\uf22e",PublicContactCardMirrored:"\uf230",GridViewSmall:"\uf232",GridViewMedium:"\uf233",GridViewLarge:"\uf234",Step:"\uf241",StepInsert:"\uf242",StepShared:"\uf243",StepSharedAdd:"\uf244",StepSharedInsert:"\uf245",ViewDashboard:"\uf246",ViewList:"\uf247"}},t)}function Hs(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-10"',src:"url('".concat(e,"fabric-icons-10-c4ded8e4.woff') format('woff')")},icons:{ViewListGroup:"\uf248",ViewListTree:"\uf249",TriggerAuto:"\uf24a",TriggerUser:"\uf24b",PivotChart:"\uf24c",StackedBarChart:"\uf24d",StackedLineChart:"\uf24e",BuildQueue:"\uf24f",BuildQueueNew:"\uf250",UserFollowed:"\uf25c",ContactLink:"\uf25f",Stack:"\uf26f",Bullseye:"\uf272",VennDiagram:"\uf273",FiveTileGrid:"\uf274",FocalPoint:"\uf277",Insert:"\uf278",RingerRemove:"\uf279",TeamsLogoInverse:"\uf27a",TeamsLogo:"\uf27b",TeamsLogoFill:"\uf27c",SkypeForBusinessLogoFill:"\uf27d",SharepointLogo:"\uf27e",SharepointLogoFill:"\uf27f",DelveLogo:"\uf280",DelveLogoFill:"\uf281",OfficeVideoLogo:"\uf282",OfficeVideoLogoFill:"\uf283",ExchangeLogo:"\uf284",ExchangeLogoFill:"\uf285",Signin:"\uf286",DocumentApproval:"\uf28b",CloneToDesktop:"\uf28c",InstallToDrive:"\uf28d",Blur:"\uf28e",Build:"\uf28f",ProcessMetaTask:"\uf290",BranchFork2:"\uf291",BranchLocked:"\uf292",BranchCommit:"\uf293",BranchCompare:"\uf294",BranchMerge:"\uf295",BranchPullRequest:"\uf296",BranchSearch:"\uf297",BranchShelveset:"\uf298",RawSource:"\uf299",MergeDuplicate:"\uf29a",RowsGroup:"\uf29b",RowsChild:"\uf29c",Deploy:"\uf29d",Redeploy:"\uf29e",ServerEnviroment:"\uf29f",VisioDiagram:"\uf2a0",HighlightMappedShapes:"\uf2a1",TextCallout:"\uf2a2",IconSetsFlag:"\uf2a4",VisioLogo:"\uf2a7",VisioLogoFill:"\uf2a8",VisioDocument:"\uf2a9",TimelineProgress:"\uf2aa",TimelineDelivery:"\uf2ab",Backlog:"\uf2ac",TeamFavorite:"\uf2ad",TaskGroup:"\uf2ae",TaskGroupMirrored:"\uf2af",ScopeTemplate:"\uf2b0",AssessmentGroupTemplate:"\uf2b1",NewTeamProject:"\uf2b2",CommentAdd:"\uf2b3",CommentNext:"\uf2b4",CommentPrevious:"\uf2b5",ShopServer:"\uf2b6",LocaleLanguage:"\uf2b7",QueryList:"\uf2b8",UserSync:"\uf2b9",UserPause:"\uf2ba",StreamingOff:"\uf2bb",ArrowTallUpLeft:"\uf2bd",ArrowTallUpRight:"\uf2be",ArrowTallDownLeft:"\uf2bf",ArrowTallDownRight:"\uf2c0",FieldEmpty:"\uf2c1",FieldFilled:"\uf2c2",FieldChanged:"\uf2c3",FieldNotChanged:"\uf2c4",RingerOff:"\uf2c5",PlayResume:"\uf2c6",BulletedList2:"\uf2c7",BulletedList2Mirrored:"\uf2c8",ImageCrosshair:"\uf2c9",GitGraph:"\uf2ca",Repo:"\uf2cb",RepoSolid:"\uf2cc",FolderQuery:"\uf2cd",FolderList:"\uf2ce",FolderListMirrored:"\uf2cf",LocationOutline:"\uf2d0",POISolid:"\uf2d1",CalculatorNotEqualTo:"\uf2d2",BoxSubtractSolid:"\uf2d3"}},t)}function Vs(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-11"',src:"url('".concat(e,"fabric-icons-11-2a8393d6.woff') format('woff')")},icons:{BoxAdditionSolid:"\uf2d4",BoxMultiplySolid:"\uf2d5",BoxPlaySolid:"\uf2d6",BoxCheckmarkSolid:"\uf2d7",CirclePauseSolid:"\uf2d8",CirclePause:"\uf2d9",MSNVideosSolid:"\uf2da",CircleStopSolid:"\uf2db",CircleStop:"\uf2dc",NavigateBack:"\uf2dd",NavigateBackMirrored:"\uf2de",NavigateForward:"\uf2df",NavigateForwardMirrored:"\uf2e0",UnknownSolid:"\uf2e1",UnknownMirroredSolid:"\uf2e2",CircleAddition:"\uf2e3",CircleAdditionSolid:"\uf2e4",FilePDB:"\uf2e5",FileTemplate:"\uf2e6",FileSQL:"\uf2e7",FileJAVA:"\uf2e8",FileASPX:"\uf2e9",FileCSS:"\uf2ea",FileSass:"\uf2eb",FileLess:"\uf2ec",FileHTML:"\uf2ed",JavaScriptLanguage:"\uf2ee",CSharpLanguage:"\uf2ef",CSharp:"\uf2f0",VisualBasicLanguage:"\uf2f1",VB:"\uf2f2",CPlusPlusLanguage:"\uf2f3",CPlusPlus:"\uf2f4",FSharpLanguage:"\uf2f5",FSharp:"\uf2f6",TypeScriptLanguage:"\uf2f7",PythonLanguage:"\uf2f8",PY:"\uf2f9",CoffeeScript:"\uf2fa",MarkDownLanguage:"\uf2fb",FullWidth:"\uf2fe",FullWidthEdit:"\uf2ff",Plug:"\uf300",PlugSolid:"\uf301",PlugConnected:"\uf302",PlugDisconnected:"\uf303",UnlockSolid:"\uf304",Variable:"\uf305",Parameter:"\uf306",CommentUrgent:"\uf307",Storyboard:"\uf308",DiffInline:"\uf309",DiffSideBySide:"\uf30a",ImageDiff:"\uf30b",ImagePixel:"\uf30c",FileBug:"\uf30d",FileCode:"\uf30e",FileComment:"\uf30f",BusinessHoursSign:"\uf310",FileImage:"\uf311",FileSymlink:"\uf312",AutoFillTemplate:"\uf313",WorkItem:"\uf314",WorkItemBug:"\uf315",LogRemove:"\uf316",ColumnOptions:"\uf317",Packages:"\uf318",BuildIssue:"\uf319",AssessmentGroup:"\uf31a",VariableGroup:"\uf31b",FullHistory:"\uf31c",Wheelchair:"\uf31f",SingleColumnEdit:"\uf321",DoubleColumnEdit:"\uf322",TripleColumnEdit:"\uf323",ColumnLeftTwoThirdsEdit:"\uf324",ColumnRightTwoThirdsEdit:"\uf325",StreamLogo:"\uf329",PassiveAuthentication:"\uf32a",AlertSolid:"\uf331",MegaphoneSolid:"\uf332",TaskSolid:"\uf333",ConfigurationSolid:"\uf334",BugSolid:"\uf335",CrownSolid:"\uf336",Trophy2Solid:"\uf337",QuickNoteSolid:"\uf338",ConstructionConeSolid:"\uf339",PageListSolid:"\uf33a",PageListMirroredSolid:"\uf33b",StarburstSolid:"\uf33c",ReadingModeSolid:"\uf33d",SadSolid:"\uf33e",HealthSolid:"\uf33f",ShieldSolid:"\uf340",GiftBoxSolid:"\uf341",ShoppingCartSolid:"\uf342",MailSolid:"\uf343",ChatSolid:"\uf344",RibbonSolid:"\uf345"}},t)}function Ws(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-12"',src:"url('".concat(e,"fabric-icons-12-7e945a1e.woff') format('woff')")},icons:{FinancialSolid:"\uf346",FinancialMirroredSolid:"\uf347",HeadsetSolid:"\uf348",PermissionsSolid:"\uf349",ParkingSolid:"\uf34a",ParkingMirroredSolid:"\uf34b",DiamondSolid:"\uf34c",AsteriskSolid:"\uf34d",OfflineStorageSolid:"\uf34e",BankSolid:"\uf34f",DecisionSolid:"\uf350",Parachute:"\uf351",ParachuteSolid:"\uf352",FiltersSolid:"\uf353",ColorSolid:"\uf354",ReviewSolid:"\uf355",ReviewRequestSolid:"\uf356",ReviewRequestMirroredSolid:"\uf357",ReviewResponseSolid:"\uf358",FeedbackRequestSolid:"\uf359",FeedbackRequestMirroredSolid:"\uf35a",FeedbackResponseSolid:"\uf35b",WorkItemBar:"\uf35c",WorkItemBarSolid:"\uf35d",Separator:"\uf35e",NavigateExternalInline:"\uf35f",PlanView:"\uf360",TimelineMatrixView:"\uf361",EngineeringGroup:"\uf362",ProjectCollection:"\uf363",CaretBottomRightCenter8:"\uf364",CaretBottomLeftCenter8:"\uf365",CaretTopRightCenter8:"\uf366",CaretTopLeftCenter8:"\uf367",DonutChart:"\uf368",ChevronUnfold10:"\uf369",ChevronFold10:"\uf36a",DoubleChevronDown8:"\uf36b",DoubleChevronUp8:"\uf36c",DoubleChevronLeft8:"\uf36d",DoubleChevronRight8:"\uf36e",ChevronDownEnd6:"\uf36f",ChevronUpEnd6:"\uf370",ChevronLeftEnd6:"\uf371",ChevronRightEnd6:"\uf372",ContextMenu:"\uf37c",AzureAPIManagement:"\uf37f",AzureServiceEndpoint:"\uf380",VSTSLogo:"\uf381",VSTSAltLogo1:"\uf382",VSTSAltLogo2:"\uf383",FileTypeSolution:"\uf387",WordLogoInverse16:"\uf390",WordLogo16:"\uf391",WordLogoFill16:"\uf392",PowerPointLogoInverse16:"\uf393",PowerPointLogo16:"\uf394",PowerPointLogoFill16:"\uf395",ExcelLogoInverse16:"\uf396",ExcelLogo16:"\uf397",ExcelLogoFill16:"\uf398",OneNoteLogoInverse16:"\uf399",OneNoteLogo16:"\uf39a",OneNoteLogoFill16:"\uf39b",OutlookLogoInverse16:"\uf39c",OutlookLogo16:"\uf39d",OutlookLogoFill16:"\uf39e",PublisherLogoInverse16:"\uf39f",PublisherLogo16:"\uf3a0",PublisherLogoFill16:"\uf3a1",VisioLogoInverse16:"\uf3a2",VisioLogo16:"\uf3a3",VisioLogoFill16:"\uf3a4",TestBeaker:"\uf3a5",TestBeakerSolid:"\uf3a6",TestExploreSolid:"\uf3a7",TestAutoSolid:"\uf3a8",TestUserSolid:"\uf3a9",TestImpactSolid:"\uf3aa",TestPlan:"\uf3ab",TestStep:"\uf3ac",TestParameter:"\uf3ad",TestSuite:"\uf3ae",TestCase:"\uf3af",Sprint:"\uf3b0",SignOut:"\uf3b1",TriggerApproval:"\uf3b2",Rocket:"\uf3b3",AzureKeyVault:"\uf3b4",Onboarding:"\uf3ba",Transition:"\uf3bc",LikeSolid:"\uf3bf",DislikeSolid:"\uf3c0",CRMCustomerInsightsApp:"\uf3c8",EditCreate:"\uf3c9",PlayReverseResume:"\uf3e4",PlayReverse:"\uf3e5",SearchData:"\uf3f1",UnSetColor:"\uf3f9",DeclineCall:"\uf405"}},t)}function Gs(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-13"',src:"url('".concat(e,"fabric-icons-13-c3989a02.woff') format('woff')")},icons:{RectangularClipping:"\uf407",TeamsLogo16:"\uf40a",TeamsLogoFill16:"\uf40b",Spacer:"\uf40d",SkypeLogo16:"\uf40e",SkypeForBusinessLogo16:"\uf40f",SkypeForBusinessLogoFill16:"\uf410",FilterSolid:"\uf412",MailUndelivered:"\uf415",MailTentative:"\uf416",MailTentativeMirrored:"\uf417",MailReminder:"\uf418",ReceiptUndelivered:"\uf419",ReceiptTentative:"\uf41a",ReceiptTentativeMirrored:"\uf41b",Inbox:"\uf41c",IRMReply:"\uf41d",IRMReplyMirrored:"\uf41e",IRMForward:"\uf41f",IRMForwardMirrored:"\uf420",VoicemailIRM:"\uf421",EventAccepted:"\uf422",EventTentative:"\uf423",EventTentativeMirrored:"\uf424",EventDeclined:"\uf425",IDBadge:"\uf427",BackgroundColor:"\uf42b",OfficeFormsLogoInverse16:"\uf433",OfficeFormsLogo:"\uf434",OfficeFormsLogoFill:"\uf435",OfficeFormsLogo16:"\uf436",OfficeFormsLogoFill16:"\uf437",OfficeFormsLogoInverse24:"\uf43a",OfficeFormsLogo24:"\uf43b",OfficeFormsLogoFill24:"\uf43c",PageLock:"\uf43f",NotExecuted:"\uf440",NotImpactedSolid:"\uf441",FieldReadOnly:"\uf442",FieldRequired:"\uf443",BacklogBoard:"\uf444",ExternalBuild:"\uf445",ExternalTFVC:"\uf446",ExternalXAML:"\uf447",IssueSolid:"\uf448",DefectSolid:"\uf449",LadybugSolid:"\uf44a",NugetLogo:"\uf44c",TFVCLogo:"\uf44d",ProjectLogo32:"\uf47e",ProjectLogoFill32:"\uf47f",ProjectLogo16:"\uf480",ProjectLogoFill16:"\uf481",SwayLogo32:"\uf482",SwayLogoFill32:"\uf483",SwayLogo16:"\uf484",SwayLogoFill16:"\uf485",ClassNotebookLogo32:"\uf486",ClassNotebookLogoFill32:"\uf487",ClassNotebookLogo16:"\uf488",ClassNotebookLogoFill16:"\uf489",ClassNotebookLogoInverse32:"\uf48a",ClassNotebookLogoInverse16:"\uf48b",StaffNotebookLogo32:"\uf48c",StaffNotebookLogoFill32:"\uf48d",StaffNotebookLogo16:"\uf48e",StaffNotebookLogoFill16:"\uf48f",StaffNotebookLogoInverted32:"\uf490",StaffNotebookLogoInverted16:"\uf491",KaizalaLogo:"\uf492",TaskLogo:"\uf493",ProtectionCenterLogo32:"\uf494",GallatinLogo:"\uf496",Globe2:"\uf49a",Guitar:"\uf49b",Breakfast:"\uf49c",Brunch:"\uf49d",BeerMug:"\uf49e",Vacation:"\uf49f",Teeth:"\uf4a0",Taxi:"\uf4a1",Chopsticks:"\uf4a2",SyncOccurence:"\uf4a3",UnsyncOccurence:"\uf4a4",GIF:"\uf4a9",PrimaryCalendar:"\uf4ae",SearchCalendar:"\uf4af",VideoOff:"\uf4b0",MicrosoftFlowLogo:"\uf4b1",BusinessCenterLogo:"\uf4b2",ToDoLogoBottom:"\uf4b3",ToDoLogoTop:"\uf4b4",EditSolid12:"\uf4b5",EditSolidMirrored12:"\uf4b6",UneditableSolid12:"\uf4b7",UneditableSolidMirrored12:"\uf4b8",UneditableMirrored:"\uf4b9",AdminALogo32:"\uf4ba",AdminALogoFill32:"\uf4bb",ToDoLogoInverse:"\uf4bc"}},t)}function js(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-14"',src:"url('".concat(e,"fabric-icons-14-5cf58db8.woff') format('woff')")},icons:{Snooze:"\uf4bd",WaffleOffice365:"\uf4e0",ImageSearch:"\uf4e8",NewsSearch:"\uf4e9",VideoSearch:"\uf4ea",R:"\uf4eb",FontColorA:"\uf4ec",FontColorSwatch:"\uf4ed",LightWeight:"\uf4ee",NormalWeight:"\uf4ef",SemiboldWeight:"\uf4f0",GroupObject:"\uf4f1",UngroupObject:"\uf4f2",AlignHorizontalLeft:"\uf4f3",AlignHorizontalCenter:"\uf4f4",AlignHorizontalRight:"\uf4f5",AlignVerticalTop:"\uf4f6",AlignVerticalCenter:"\uf4f7",AlignVerticalBottom:"\uf4f8",HorizontalDistributeCenter:"\uf4f9",VerticalDistributeCenter:"\uf4fa",Ellipse:"\uf4fb",Line:"\uf4fc",Octagon:"\uf4fd",Hexagon:"\uf4fe",Pentagon:"\uf4ff",RightTriangle:"\uf500",HalfCircle:"\uf501",QuarterCircle:"\uf502",ThreeQuarterCircle:"\uf503","6PointStar":"\uf504","12PointStar":"\uf505",ArrangeBringToFront:"\uf506",ArrangeSendToBack:"\uf507",ArrangeSendBackward:"\uf508",ArrangeBringForward:"\uf509",BorderDash:"\uf50a",BorderDot:"\uf50b",LineStyle:"\uf50c",LineThickness:"\uf50d",WindowEdit:"\uf50e",HintText:"\uf50f",MediaAdd:"\uf510",AnchorLock:"\uf511",AutoHeight:"\uf512",ChartSeries:"\uf513",ChartXAngle:"\uf514",ChartYAngle:"\uf515",Combobox:"\uf516",LineSpacing:"\uf517",Padding:"\uf518",PaddingTop:"\uf519",PaddingBottom:"\uf51a",PaddingLeft:"\uf51b",PaddingRight:"\uf51c",NavigationFlipper:"\uf51d",AlignJustify:"\uf51e",TextOverflow:"\uf51f",VisualsFolder:"\uf520",VisualsStore:"\uf521",PictureCenter:"\uf522",PictureFill:"\uf523",PicturePosition:"\uf524",PictureStretch:"\uf525",PictureTile:"\uf526",Slider:"\uf527",SliderHandleSize:"\uf528",DefaultRatio:"\uf529",NumberSequence:"\uf52a",GUID:"\uf52b",ReportAdd:"\uf52c",DashboardAdd:"\uf52d",MapPinSolid:"\uf52e",WebPublish:"\uf52f",PieSingleSolid:"\uf530",BlockedSolid:"\uf531",DrillDown:"\uf532",DrillDownSolid:"\uf533",DrillExpand:"\uf534",DrillShow:"\uf535",SpecialEvent:"\uf536",OneDriveFolder16:"\uf53b",FunctionalManagerDashboard:"\uf542",BIDashboard:"\uf543",CodeEdit:"\uf544",RenewalCurrent:"\uf545",RenewalFuture:"\uf546",SplitObject:"\uf547",BulkUpload:"\uf548",DownloadDocument:"\uf549",GreetingCard:"\uf54b",Flower:"\uf54e",WaitlistConfirm:"\uf550",WaitlistConfirmMirrored:"\uf551",LaptopSecure:"\uf552",DragObject:"\uf553",EntryView:"\uf554",EntryDecline:"\uf555",ContactCardSettings:"\uf556",ContactCardSettingsMirrored:"\uf557"}},t)}function Xs(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-15"',src:"url('".concat(e,"fabric-icons-15-3807251b.woff') format('woff')")},icons:{CalendarSettings:"\uf558",CalendarSettingsMirrored:"\uf559",HardDriveLock:"\uf55a",HardDriveUnlock:"\uf55b",AccountManagement:"\uf55c",ReportWarning:"\uf569",TransitionPop:"\uf5b2",TransitionPush:"\uf5b3",TransitionEffect:"\uf5b4",LookupEntities:"\uf5b5",ExploreData:"\uf5b6",AddBookmark:"\uf5b7",SearchBookmark:"\uf5b8",DrillThrough:"\uf5b9",MasterDatabase:"\uf5ba",CertifiedDatabase:"\uf5bb",MaximumValue:"\uf5bc",MinimumValue:"\uf5bd",VisualStudioIDELogo32:"\uf5d0",PasteAsText:"\uf5d5",PasteAsCode:"\uf5d6",BrowserTab:"\uf5d7",BrowserTabScreenshot:"\uf5d8",DesktopScreenshot:"\uf5d9",FileYML:"\uf5da",ClipboardSolid:"\uf5dc",FabricUserFolder:"\uf5e5",FabricNetworkFolder:"\uf5e6",BullseyeTarget:"\uf5f0",AnalyticsView:"\uf5f1",Video360Generic:"\uf609",Untag:"\uf60b",Leave:"\uf627",Trending12:"\uf62d",Blocked12:"\uf62e",Warning12:"\uf62f",CheckedOutByOther12:"\uf630",CheckedOutByYou12:"\uf631",CircleShapeSolid:"\uf63c",SquareShapeSolid:"\uf63d",TriangleShapeSolid:"\uf63e",DropShapeSolid:"\uf63f",RectangleShapeSolid:"\uf640",ZoomToFit:"\uf649",InsertColumnsLeft:"\uf64a",InsertColumnsRight:"\uf64b",InsertRowsAbove:"\uf64c",InsertRowsBelow:"\uf64d",DeleteColumns:"\uf64e",DeleteRows:"\uf64f",DeleteRowsMirrored:"\uf650",DeleteTable:"\uf651",AccountBrowser:"\uf652",VersionControlPush:"\uf664",StackedColumnChart2:"\uf666",TripleColumnWide:"\uf66e",QuadColumn:"\uf66f",WhiteBoardApp16:"\uf673",WhiteBoardApp32:"\uf674",PinnedSolid:"\uf676",InsertSignatureLine:"\uf677",ArrangeByFrom:"\uf678",Phishing:"\uf679",CreateMailRule:"\uf67a",PublishCourse:"\uf699",DictionaryRemove:"\uf69a",UserRemove:"\uf69b",UserEvent:"\uf69c",Encryption:"\uf69d",PasswordField:"\uf6aa",OpenInNewTab:"\uf6ab",Hide3:"\uf6ac",VerifiedBrandSolid:"\uf6ad",MarkAsProtected:"\uf6ae",AuthenticatorApp:"\uf6b1",WebTemplate:"\uf6b2",DefenderTVM:"\uf6b3",MedalSolid:"\uf6b9",D365TalentLearn:"\uf6bb",D365TalentInsight:"\uf6bc",D365TalentHRCore:"\uf6bd",BacklogList:"\uf6bf",ButtonControl:"\uf6c0",TableGroup:"\uf6d9",MountainClimbing:"\uf6db",TagUnknown:"\uf6df",TagUnknownMirror:"\uf6e0",TagUnknown12:"\uf6e1",TagUnknown12Mirror:"\uf6e2",Link12:"\uf6e3",Presentation:"\uf6e4",Presentation12:"\uf6e5",Lock12:"\uf6e6",BuildDefinition:"\uf6e9",ReleaseDefinition:"\uf6ea",SaveTemplate:"\uf6ec",UserGauge:"\uf6ed",BlockedSiteSolid12:"\uf70a",TagSolid:"\uf70e",OfficeChat:"\uf70f"}},t)}function Ks(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-16"',src:"url('".concat(e,"fabric-icons-16-9cf93f3b.woff') format('woff')")},icons:{OfficeChatSolid:"\uf710",MailSchedule:"\uf72e",WarningSolid:"\uf736",Blocked2Solid:"\uf737",SkypeCircleArrow:"\uf747",SkypeArrow:"\uf748",SyncStatus:"\uf751",SyncStatusSolid:"\uf752",ProjectDocument:"\uf759",ToDoLogoOutline:"\uf75b",VisioOnlineLogoFill32:"\uf75f",VisioOnlineLogo32:"\uf760",VisioOnlineLogoCloud32:"\uf761",VisioDiagramSync:"\uf762",Event12:"\uf763",EventDateMissed12:"\uf764",UserOptional:"\uf767",ResponsesMenu:"\uf768",DoubleDownArrow:"\uf769",DistributeDown:"\uf76a",BookmarkReport:"\uf76b",FilterSettings:"\uf76c",GripperDotsVertical:"\uf772",MailAttached:"\uf774",AddIn:"\uf775",LinkedDatabase:"\uf779",TableLink:"\uf77a",PromotedDatabase:"\uf77d",BarChartVerticalFilter:"\uf77e",BarChartVerticalFilterSolid:"\uf77f",MicOff2:"\uf781",MicrosoftTranslatorLogo:"\uf782",ShowTimeAs:"\uf787",FileRequest:"\uf789",WorkItemAlert:"\uf78f",PowerBILogo16:"\uf790",PowerBILogoBackplate16:"\uf791",BulletedListText:"\uf792",BulletedListBullet:"\uf793",BulletedListTextMirrored:"\uf794",BulletedListBulletMirrored:"\uf795",NumberedListText:"\uf796",NumberedListNumber:"\uf797",NumberedListTextMirrored:"\uf798",NumberedListNumberMirrored:"\uf799",RemoveLinkChain:"\uf79a",RemoveLinkX:"\uf79b",FabricTextHighlight:"\uf79c",ClearFormattingA:"\uf79d",ClearFormattingEraser:"\uf79e",Photo2Fill:"\uf79f",IncreaseIndentText:"\uf7a0",IncreaseIndentArrow:"\uf7a1",DecreaseIndentText:"\uf7a2",DecreaseIndentArrow:"\uf7a3",IncreaseIndentTextMirrored:"\uf7a4",IncreaseIndentArrowMirrored:"\uf7a5",DecreaseIndentTextMirrored:"\uf7a6",DecreaseIndentArrowMirrored:"\uf7a7",CheckListText:"\uf7a8",CheckListCheck:"\uf7a9",CheckListTextMirrored:"\uf7aa",CheckListCheckMirrored:"\uf7ab",NumberSymbol:"\uf7ac",Coupon:"\uf7bc",VerifiedBrand:"\uf7bd",ReleaseGate:"\uf7be",ReleaseGateCheck:"\uf7bf",ReleaseGateError:"\uf7c0",M365InvoicingLogo:"\uf7c1",RemoveFromShoppingList:"\uf7d5",ShieldAlert:"\uf7d7",FabricTextHighlightComposite:"\uf7da",Dataflows:"\uf7dd",GenericScanFilled:"\uf7de",DiagnosticDataBarTooltip:"\uf7df",SaveToMobile:"\uf7e0",Orientation2:"\uf7e1",ScreenCast:"\uf7e2",ShowGrid:"\uf7e3",SnapToGrid:"\uf7e4",ContactList:"\uf7e5",NewMail:"\uf7ea",EyeShadow:"\uf7eb",FabricFolderConfirm:"\uf7ff",InformationBarriers:"\uf803",CommentActive:"\uf804",ColumnVerticalSectionEdit:"\uf806",WavingHand:"\uf807",ShakeDevice:"\uf80a",SmartGlassRemote:"\uf80b",Rotate90Clockwise:"\uf80d",Rotate90CounterClockwise:"\uf80e",CampaignTemplate:"\uf811",ChartTemplate:"\uf812",PageListFilter:"\uf813",SecondaryNav:"\uf814",ColumnVerticalSection:"\uf81e",SkypeCircleSlash:"\uf825",SkypeSlash:"\uf826"}},t)}function qs(e,t){void 0===e&&(e=""),_s({style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-17"',src:"url('".concat(e,"fabric-icons-17-0c4ed701.woff') format('woff')")},icons:{CustomizeToolbar:"\uf828",DuplicateRow:"\uf82a",RemoveFromTrash:"\uf82b",MailOptions:"\uf82c",Childof:"\uf82d",Footer:"\uf82e",Header:"\uf82f",BarChartVerticalFill:"\uf830",StackedColumnChart2Fill:"\uf831",PlainText:"\uf834",AccessibiltyChecker:"\uf835",DatabaseSync:"\uf842",ReservationOrders:"\uf845",TabOneColumn:"\uf849",TabTwoColumn:"\uf84a",TabThreeColumn:"\uf84b",BulletedTreeList:"\uf84c",MicrosoftTranslatorLogoGreen:"\uf852",MicrosoftTranslatorLogoBlue:"\uf853",InternalInvestigation:"\uf854",AddReaction:"\uf85d",ContactHeart:"\uf862",VisuallyImpaired:"\uf866",EventToDoLogo:"\uf869",Variable2:"\uf86d",ModelingView:"\uf871",DisconnectVirtualMachine:"\uf873",ReportLock:"\uf875",Uneditable2:"\uf876",Uneditable2Mirrored:"\uf877",BarChartVerticalEdit:"\uf89d",GlobalNavButtonActive:"\uf89f",PollResults:"\uf8a0",Rerun:"\uf8a1",QandA:"\uf8a2",QandAMirror:"\uf8a3",BookAnswers:"\uf8a4",AlertSettings:"\uf8b6",TrimStart:"\uf8bb",TrimEnd:"\uf8bc",TableComputed:"\uf8f5",DecreaseIndentLegacy:"\ue290",IncreaseIndentLegacy:"\ue291",SizeLegacy:"\ue2b2"}},t)}As("@fluentui/set-version","6.0.0"),As("@fluentui/style-utilities","8.12.2"),hs();var Ys=function(){ys("trash","delete"),ys("onedrive","onedrivelogo"),ys("alertsolid12","eventdatemissed12"),ys("sixpointstar","6pointstar"),ys("twelvepointstar","12pointstar"),ys("toggleon","toggleleft"),ys("toggleoff","toggleright")};As("@fluentui/font-icons-mdl2","8.5.62");var Zs="".concat("https://res.cdn.office.net/files/fabric-cdn-prod_20250411.001","/assets/icons/"),Qs=ga();function Js(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o)if("string"===typeof o)n.push(o);else if(o.hasOwnProperty("toString")&&"function"===typeof o.toString)n.push(o.toString());else for(var a in o)o[a]&&n.push(a)}return n.join(" ")}var $s=r.createContext({window:"object"===typeof window?window:void 0}),el=function(){return r.useContext($s).window},tl=function(){var e;return null===(e=r.useContext($s).window)||void 0===e?void 0:e.document},nl=r.createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}});function rl(e,t){var n=function(){var e=r.useState(0),t=e[1];return function(){return t((function(e){return++e}))}}(),i=r.useContext(nl).customizations,o=i.inCustomizerContext;return r.useEffect((function(){return o||ka.observe(n),function(){o||ka.unobserve(n)}}),[o]),ka.getSettings(e,t,i)}var il=r.createContext(void 0);var ol=function(){var e=r.useContext(il),t=rl(["theme"]).theme;return e||t||ls({})},al="__currentId__",sl=ga()||{};void 0===sl[al]&&(sl[al]=0);var ll=!1;function cl(e){if(!ll){var t=wi.getInstance();t&&t.onReset&&t.onReset(ul),ll=!0}return(void 0===e?"id__":e)+sl[al]++}function ul(e){void 0===e&&(e=0),sl[al]=e}var dl=0,hl={reset:function(){wi.getInstance().onReset((function(){return dl++}))},getId:function(){return dl},renderStyles:function(e,t){return Ms(Array.isArray(e)?e:[e],t)},renderFontFace:function(e,t){return ja(e)},renderKeyframes:function(e){return qi(e)}};var pl=function(e){var t=new Map,n=new Set,i=function(e){var r=e.currentTarget,o=r.__id__;t.delete(o),r.removeEventListener("unload",i),n.delete(o)};return function(o){void 0===o&&(o={});var a,s=o.theme,l=el();l&&(l.__id__=l.__id__||cl(),a=l.__id__,n.has(a)||(n.add(a),l.addEventListener("unload",i)));var c=ol();s=s||c;var u=hl.getId(),d=[a,u,s],h=function(e,t){var n,r,i,o=t[0],a=t[1],s=t[2];return null===(i=null===(r=null===(n=e.get(o))||void 0===n?void 0:n.get(a))||void 0===r?void 0:r.get(s))||void 0===i?void 0:i.classMap}(t,d);if(r.useEffect((function(){return function(e,t){var n,r,i=t[0],o=t[1],a=t[2],s=null===(r=null===(n=e.get(i))||void 0===n?void 0:n.get(o))||void 0===r?void 0:r.get(a);s&&s.refCount++}(t,[a,u,s]),function(){return function(e,t){var n,r,i,o,a,s,l,c,u=t[0],d=t[1],h=t[2],p=null===(r=null===(n=e.get(u))||void 0===n?void 0:n.get(d))||void 0===r?void 0:r.get(h);p&&(p.refCount--,0===p.refCount&&(null===(o=null===(i=e.get(u))||void 0===i?void 0:i.get(d))||void 0===o||o.delete(h),0===(null===(s=null===(a=e.get(u))||void 0===a?void 0:a.get(d))||void 0===s?void 0:s.size)&&(null===(l=e.get(u))||void 0===l||l.delete(d),0===(null===(c=e.get(u))||void 0===c?void 0:c.size)&&e.delete(u))))}(t,[a,u,s])}}),[a,u,s]),!h){var p=function(e){return"function"===typeof e}(e)?e(s):e;h=hl.renderStyles(p,{targetWindow:l,rtl:!!s.rtl}),function(e,t,n){var r,i,o=t[0],a=t[1],s=t[2],l=null!==(r=e.get(o))&&void 0!==r?r:new Map;e.set(o,l);var c=null!==(i=l.get(a))&&void 0!==i?i:new Map;l.set(a,c),c.set(s,{classMap:n,refCount:0})}(t,d,h)}return h}}((function(e){var t=e.semanticColors,n=e.fonts;return{body:[{color:t.bodyText,background:t.bodyBackground,fontFamily:n.medium.fontFamily,fontWeight:n.medium.fontWeight,fontSize:n.medium.fontSize,MozOsxFontSmoothing:n.medium.MozOsxFontSmoothing,WebkitFontSmoothing:n.medium.WebkitFontSmoothing}]}}));function fl(e){var t=pl(e),n=e.className,i=e.applyTo;!function(e,t){var n,i="body"===e.applyTo,o=null===(n=tl())||void 0===n?void 0:n.body;r.useEffect((function(){if(i&&o){for(var e=0,n=t;e<n.length;e++){var r=n[e];r&&o.classList.add(r)}return function(){if(i&&o)for(var e=0,n=t;e<n.length;e++){var r=n[e];r&&o.classList.remove(r)}}}}),[i,o,t])}(e,[t.root,t.body]),e.className=Js(n,t.root,"element"===i&&t.body)}var ml=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,i=e;r<i.length;r++)for(var o=i[r],a=0,s=Array.isArray(o)?o:Object.keys(o);a<s.length;a++){n[s[a]]=1}return n},gl=ml(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),vl=ml(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),_l=ml(vl,gl),yl=ml(_l,["form"]),bl=ml(_l,["height","loop","muted","preload","src","width"]),xl=ml(bl,["poster"]),Sl=ml(_l,["start"]),El=ml(_l,["value"]),wl=ml(_l,["download","href","hrefLang","media","rel","target","type"]),Cl=ml(_l,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),Ml=ml(Cl,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),Tl=ml(Cl,["autoCapitalize","cols","dirname","form","maxLength","minLength","placeholder","readOnly","required","rows","wrap"]),Rl=ml(Cl,["form","multiple","required"]),Al=ml(_l,["selected","value"]),Pl=ml(_l,["cellPadding","cellSpacing"]),Dl=_l,Il=ml(_l,["rowSpan","scope"]),kl=ml(_l,["colSpan","headers","rowSpan","scope"]),Ll=ml(_l,["span"]),Nl=ml(_l,["span"]),Ol=ml(_l,["acceptCharset","action","encType","encType","method","noValidate","target"]),Fl=ml(_l,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),Ul=ml(_l,["alt","crossOrigin","height","src","srcSet","useMap","width"]),Bl=_l;function zl(e,t,n){for(var r=Array.isArray(t),i={},o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];!(!r&&t[s]||r&&t.indexOf(s)>=0||0===s.indexOf("data-")||0===s.indexOf("aria-"))||n&&-1!==(null===n||void 0===n?void 0:n.indexOf(s))||(i[s]=e[s])}return i}var Hl={label:yl,audio:bl,video:xl,ol:Sl,li:El,a:wl,button:Cl,input:Ml,textarea:Tl,select:Rl,option:Al,table:Pl,tr:Dl,th:Il,td:kl,colGroup:Ll,col:Nl,form:Ol,iframe:Fl,img:Ul};function Vl(e,t,n){return zl(t,e&&Hl[e]||_l,n)}function Wl(e,t){if(!e||!t)return!e&&!t;for(var n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(var n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}function Gl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return jl.apply(this,[null,e].concat(t))}function jl(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t=t||{};for(var i=0,o=n;i<o.length;i++){var a=o[i];if(a)for(var s in a)!a.hasOwnProperty(s)||e&&!e(s)||(t[s]=a[s])}return t}var Xl,Kl=9,ql=13,Yl=18,Zl=27,Ql=32,Jl=33,$l=34,ec=35,tc=36,nc=37,rc=38,ic=39,oc=40,ac=65,sc=((Xl={})[rc]=1,Xl[oc]=1,Xl[nc]=1,Xl[ic]=1,Xl[tc]=1,Xl[ec]=1,Xl[Kl]=1,Xl[Jl]=1,Xl[$l]=1,Xl);function lc(e){return!!sc[e]}var cc=new WeakMap,uc=new WeakMap;function dc(e,t){var n,r=cc.get(e);return n=r?r+t:1,cc.set(e,n),n}function hc(e){var t=uc.get(e);if(t)return t;return t={onMouseDown:function(t){return gc(t,e.registeredProviders)},onPointerDown:function(t){return vc(t,e.registeredProviders)},onKeyDown:function(t){return _c(t,e.registeredProviders)},onKeyUp:function(t){return yc(t,e.registeredProviders)}},uc.set(e,t),t}var pc=r.createContext(void 0);function fc(e){var t=r.useContext(pc);r.useEffect((function(){var n,r,i,o,a=ga(null===e||void 0===e?void 0:e.current);if(a&&!0!==(null===(n=a.FabricConfig)||void 0===n?void 0:n.disableFocusRects)){var s,l,c,u,d=a;if((null===(r=null===t||void 0===t?void 0:t.providerRef)||void 0===r?void 0:r.current)&&(null===(o=null===(i=null===t||void 0===t?void 0:t.providerRef)||void 0===i?void 0:i.current)||void 0===o?void 0:o.addEventListener)){d=t.providerRef.current;var h=hc(t);s=h.onMouseDown,l=h.onPointerDown,c=h.onKeyDown,u=h.onKeyUp}else s=gc,l=vc,c=_c,u=yc;var p=dc(d,1);return p<=1&&(d.addEventListener("mousedown",s,!0),d.addEventListener("pointerdown",l,!0),d.addEventListener("keydown",c,!0),d.addEventListener("keyup",u,!0)),function(){var e;a&&!0!==(null===(e=a.FabricConfig)||void 0===e?void 0:e.disableFocusRects)&&0===(p=dc(d,-1))&&(d.removeEventListener("mousedown",s,!0),d.removeEventListener("pointerdown",l,!0),d.removeEventListener("keydown",c,!0),d.removeEventListener("keyup",u,!0))}}}),[t,e])}var mc=function(e){return fc(e.rootRef),null};function gc(e,t){xa(!1,e.target,t)}function vc(e,t){"mouse"!==e.pointerType&&xa(!1,e.target,t)}function _c(e,t){lc(e.which)&&xa(!0,e.target,t)}function yc(e,t){lc(e.which)&&xa(!0,e.target,t)}var bc=function(e){var t=e.providerRef,n=e.layerRoot,i=r.useState([])[0],o=r.useContext(pc),a=void 0!==o&&!n,s=r.useMemo((function(){return a?void 0:{providerRef:t,registeredProviders:i,registerProvider:function(e){i.push(e),null===o||void 0===o||o.registerProvider(e)},unregisterProvider:function(e){null===o||void 0===o||o.unregisterProvider(e);var t=i.indexOf(e);t>=0&&i.splice(t,1)}}}),[t,i,o,a]);return r.useEffect((function(){if(s)return s.registerProvider(s.providerRef),function(){return s.unregisterProvider(s.providerRef)}}),[s]),s?r.createElement(pc.Provider,{value:s},e.children):r.createElement(r.Fragment,null,e.children)},xc=function(e){var t=e.customizerContext,n=e.ref,i=e.theme,o=e.as||"div",a="string"===typeof e.as?Vl(e.as,e):e.as===r.Fragment?{children:e.children}:function(e,t){var n={};for(var r in e)-1===t.indexOf(r)&&e.hasOwnProperty(r)&&(n[r]=e[r]);return n}(e,["as"]);return r.createElement(il.Provider,{value:i},r.createElement(nl.Provider,{value:t},r.createElement(bc,{providerRef:n},r.createElement(o,hi({},a)))))},Sc=new Map,Ec=function(e){var t=e.theme,n=ol(),i=e.theme=r.useMemo((function(){var e=as(n,t);return e.id=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(o){var a=o.id||Sc.get(o);a||(a=cl(""),Sc.set(o,a)),n.push(a)}}return n.join("-")}(n,t),e}),[n,t]);e.customizerContext=r.useMemo((function(){return{customizations:{inCustomizerContext:!0,settings:{theme:i},scopedSettings:i.components||{}}}}),[i]),e.theme.rtl!==n.rtl&&(e.dir=e.theme.rtl?"rtl":"ltr")};function wc(e,t){for(var n=hi({},t),r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];void 0===n[o]&&(n[o]=e[o])}return n}function Cc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.useCallback((function(t){n.current=t;for(var r=0,i=e;r<i.length;r++){var o=i[r];"function"===typeof o?o(t):o&&(o.current=t)}}),mi([],e,!0));return n}var Mc=r.forwardRef((function(e,t){var n=function(e,t){var n=wc(t,e);return Ec(n),{state:n,render:xc}}(e,{ref:Cc(t,r.useRef(null)),as:"div",applyTo:"element"}),i=n.render,o=n.state;return fl(o),i(o)}));Mc.displayName="ThemeProvider";var Tc,Rc="isRTL";function Ac(e){if(void 0===e&&(e={}),void 0!==e.rtl)return e.rtl;if(void 0===Tc){var t=Qa(Rc);null!==t&&function(e,t){void 0===t&&(t=!1);var n=Za();n&&n.documentElement.setAttribute("dir",e?"rtl":"ltr");t&&function(e,t){var n;try{null===(n=ga())||void 0===n||n.sessionStorage.setItem(e,t)}catch(AT){}}(Rc,e?"1":"0");si(Tc=e)}(Tc="1"===t);var n=Za();void 0===Tc&&n&&si(Tc="rtl"===(n.body&&n.body.getAttribute("dir")||n.documentElement.getAttribute("dir")))}return!!Tc}function Pc(e,t){return void 0===t&&(t={}),Ac(t)&&(e===nc?e=ic:e===ic&&(e=nc)),e}var Dc=hi;function Ic(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=e;return a.isSlot?0===(n=r.Children.toArray(n)).length?a(t):a(hi(hi({},t),{children:n})):r.createElement.apply(i,mi([e,t],n,!1))}function kc(e,t){void 0===t&&(t={});var n=t.defaultProp,i=void 0===n?"children":n;return function(t,n,o,a,s){if(r.isValidElement(n))return n;var l=function(e,t){var n,r;"string"===typeof t||"number"===typeof t||"boolean"===typeof t?((n={})[e]=t,r=n):r=t;return r}(i,n),c=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i={},o=[],a=0,s=n;a<s.length;a++){var l=s[a];o.push(l&&l.className),Dc(i,l)}return i.className=Ki([e,o],{rtl:Ac(t)}),i}(a,s,t,l);if(o){if(o.component){var u=o.component;return r.createElement(u,hi({},c))}if(o.render)return o.render(c,e)}return r.createElement(e,hi({},c))}}var Lc=ia((function(e){return kc(e)}));function Nc(e,t){var n={},r=e,i=function(e){if(t.hasOwnProperty(e)){var i=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(i.length>0)throw new Error("Any module using getSlots must use withSlots. Please see withSlots javadoc for more info.");return function(e,t,n,r,i,o){return void 0!==e.create?e.create(t,n,r,i):Lc(e)(t,n,r,i,o)}(t[e],n,r[e],r.slots&&r.slots[e],r._defaultStyles&&r._defaultStyles[e],r.theme)};i.isSlot=!0,n[e]=i}};for(var o in t)i(o);return n}function Oc(e,t){void 0===t&&(t={});var n=t.factoryOptions,i=(void 0===n?{}:n).defaultProp,o=function(n){var i=function(e,t,n){var r=["theme","styles","tokens"];return ka.getSettings(n||r,e,t.customizations)}(t.displayName,r.useContext(nl),t.fields),o=t.state;o&&(n=hi(hi({},n),o(n)));var a=n.theme||i.theme,s=Fc(n,a,t.tokens,i.tokens,n.tokens),l=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return Es.apply(void 0,r.map((function(r){return"function"===typeof r?r(e,t,n):r})))}(n,a,s,t.styles,i.styles,n.styles),c=hi(hi({},n),{styles:l,tokens:s,_defaultStyles:l,theme:a});return e(c)};return o.displayName=t.displayName||e.name,i&&(o.create=kc(o,{defaultProp:i})),Dc(o,t.statics),o}function Fc(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i={},o=0,a=n;o<a.length;o++){var s=a[o];s&&(s="function"===typeof s?s(e,t):s,Array.isArray(s)&&(s=Fc.apply(void 0,mi([e,t],s,!1))),Dc(i,s))}return i}function Uc(e,t){var n=r.useRef(t);return n.current||(n.current=cl(e)),n.current}var Bc={root:"ms-StackItem"},zc={start:"flex-start",end:"flex-end"},Hc=function(e,t){return t.spacing.hasOwnProperty(e)?t.spacing[e]:e},Vc=function(e){var t=parseFloat(e),n=isNaN(t)?0:t,r=isNaN(t)?"":t.toString();return{value:n,unit:e.substring(r.toString().length)||"px"}},Wc=function(e,t){if(void 0===e||"number"===typeof e||""===e)return e;var n=e.split(" ");return n.length<2?Hc(e,t):n.reduce((function(e,n){return Hc(e,t)+" "+Hc(n,t)}))},Gc={start:"flex-start",end:"flex-end"},jc={root:"ms-Stack",inner:"ms-Stack-inner",child:"ms-Stack-child"},Xc=Oc((function(e){var t=e.children,n=zl(e,_l);return null==t?null:Ic(Nc(e,{root:"div"}).root,hi({},n),t)}),{displayName:"StackItem",styles:function(e,t,n){var r=e.grow,i=e.shrink,o=e.disableShrink,a=e.align,s=e.verticalFill,l=e.order,c=e.className,u=e.basis,d=void 0===u?"auto":u,h=ca(Bc,t);return{root:[t.fonts.medium,h.root,{flexBasis:d,margin:n.margin,padding:n.padding,height:s?"100%":"auto",width:"auto"},r&&{flexGrow:!0===r?1:r},(o||!r&&!i)&&{flexShrink:0},i&&!o&&{flexShrink:1},a&&{alignSelf:zc[a]||a},l&&{order:l},c]}}});function Kc(e,t){var n=t.disableShrink,i=t.enableScopedSelectors,o=t.doNotRenderFalsyValues,a=r.Children.toArray(e);return a=r.Children.map(a,(function(e){if(!e)return o?null:e;if(!r.isValidElement(e))return e;if(e.type===r.Fragment)return e.props.children?Kc(e.props.children,{disableShrink:n,enableScopedSelectors:i,doNotRenderFalsyValues:o}):null;var t,a=e,s={};(t=e)&&"object"===typeof t&&t.type&&t.type.displayName===Xc.displayName&&(s={shrink:!n});var l=a.props.className;return r.cloneElement(a,hi(hi(hi(hi({},s),a.props),l&&{className:l}),i&&{className:Js(jc.child,l)}))}))}var qc=Oc((function(e){var t=e.as,n=void 0===t?"div":t,r=e.disableShrink,i=void 0!==r&&r,o=e.doNotRenderFalsyValues,a=void 0!==o&&o,s=e.enableScopedSelectors,l=void 0!==s&&s,c=e.wrap,u=pi(e,["as","disableShrink","doNotRenderFalsyValues","enableScopedSelectors","wrap"]),d=Uc("stack-inner"),h=Kc(e.children,{disableShrink:i,enableScopedSelectors:l,doNotRenderFalsyValues:a}),p=zl(u,_l),f=Nc(e,{root:n,inner:"div"});return Ic(f.root,hi({},p),c?Ic(f.inner,{key:d},h):h)}),{displayName:"Stack",styles:function(e,t,n){var r,i,o,a,s,l,c,u,d,h,p,f,m,g=e.className,v=e.disableShrink,_=e.enableScopedSelectors,y=e.grow,b=e.horizontal,x=e.horizontalAlign,S=e.reversed,E=e.verticalAlign,w=e.verticalFill,C=e.wrap,M=ca(jc,t),T=n&&n.childrenGap?n.childrenGap:e.gap,R=n&&n.maxHeight?n.maxHeight:e.maxHeight,A=n&&n.maxWidth?n.maxWidth:e.maxWidth,P=n&&n.padding?n.padding:e.padding,D=function(e,t){if(void 0===e||""===e)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if("number"===typeof e)return{rowGap:{value:e,unit:"px"},columnGap:{value:e,unit:"px"}};var n=e.split(" ");if(n.length>2)return{rowGap:{value:0,unit:"px"},columnGap:{value:0,unit:"px"}};if(2===n.length)return{rowGap:Vc(Hc(n[0],t)),columnGap:Vc(Hc(n[1],t))};var r=Vc(Hc(e,t));return{rowGap:r,columnGap:r}}(T,t),I=D.rowGap,k=D.columnGap,L="".concat(-.5*k.value).concat(k.unit),N="".concat(-.5*I.value).concat(I.unit),O={textOverflow:"ellipsis"},F="> "+(_?"."+jc.child:"*"),U=((r={})["".concat(F,":not(.").concat(Bc.root,")")]={flexShrink:0},r);return C?{root:[M.root,{flexWrap:"wrap",maxWidth:A,maxHeight:R,width:"auto",overflow:"visible",height:"100%"},x&&(i={},i[b?"justifyContent":"alignItems"]=Gc[x]||x,i),E&&(o={},o[b?"alignItems":"justifyContent"]=Gc[E]||E,o),g,{display:"flex"},b&&{height:w?"100%":"auto"}],inner:[M.inner,(a={display:"flex",flexWrap:"wrap",marginLeft:L,marginRight:L,marginTop:N,marginBottom:N,overflow:"visible",boxSizing:"border-box",padding:Wc(P,t),width:0===k.value?"100%":"calc(100% + ".concat(k.value).concat(k.unit,")"),maxWidth:"100vw"},a[F]=hi({margin:"".concat(.5*I.value).concat(I.unit," ").concat(.5*k.value).concat(k.unit)},O),a),v&&U,x&&(s={},s[b?"justifyContent":"alignItems"]=Gc[x]||x,s),E&&(l={},l[b?"alignItems":"justifyContent"]=Gc[E]||E,l),b&&(c={flexDirection:S?"row-reverse":"row",height:0===I.value?"100%":"calc(100% + ".concat(I.value).concat(I.unit,")")},c[F]={maxWidth:0===k.value?"100%":"calc(100% - ".concat(k.value).concat(k.unit,")")},c),!b&&(u={flexDirection:S?"column-reverse":"column",height:"calc(100% + ".concat(I.value).concat(I.unit,")")},u[F]={maxHeight:0===I.value?"100%":"calc(100% - ".concat(I.value).concat(I.unit,")")},u)]}:{root:[M.root,(d={display:"flex",flexDirection:b?S?"row-reverse":"row":S?"column-reverse":"column",flexWrap:"nowrap",width:"auto",height:w?"100%":"auto",maxWidth:A,maxHeight:R,padding:Wc(P,t),boxSizing:"border-box"},d[F]=O,d),v&&U,y&&{flexGrow:!0===y?1:y},x&&(h={},h[b?"justifyContent":"alignItems"]=Gc[x]||x,h),E&&(p={},p[b?"alignItems":"justifyContent"]=Gc[E]||E,p),b&&k.value>0&&(f={},f["".concat(F,S?":not(:last-child)":":not(:first-child)")]={marginLeft:"".concat(k.value).concat(k.unit)},f),!b&&I.value>0&&(m={},m["".concat(F,S?":not(:last-child)":":not(:first-child)")]={marginTop:"".concat(I.value).concat(I.unit)},m),g]}},statics:{Item:Xc}});var Yc=function(){return!1},Zc=function(){return ii},Qc=function(){return new Map},Jc=function(){},$c=r.createContext({stylesheets:new Map,useAdoptedStylesheetEx:Yc,useAdoptedStylesheet:Yc,useShadowConfig:Zc,useMergeStylesShadowRootContext:Jc,useHasMergeStylesShadowRootContext:Yc,useMergeStylesRootStylesheets:Qc,useWindow:Jc,useStyled:Jc}),eu=function(){var e=r.useContext($c);return{useAdoptedStylesheet:e.useAdoptedStylesheet,useAdoptedStylesheetEx:e.useAdoptedStylesheetEx,useShadowConfig:e.useShadowConfig,useMergeStylesShadowRootContext:e.useMergeStylesShadowRootContext,useHasMergeStylesShadowRootContext:e.useHasMergeStylesShadowRootContext,useMergeStylesRootStylesheets:e.useMergeStylesRootStylesheets,useWindow:e.useWindow,useStyled:e.useStyled}},tu=["theme","styles"];function nu(e,t,n,i,o){var a=(i=i||{scope:"",fields:void 0}).scope,s=i.fields,l=void 0===s?tu:s,c=r.forwardRef((function(i,o){var s=r.useRef(),c=rl(l,a),u=c.styles,d=(c.dir,pi(c,["styles","dir"])),h=n?n(i):void 0,p=eu().useStyled,f=s.current&&s.current.__cachedInputs__||[],m=i.styles;if(!s.current||u!==f[1]||m!==f[2]){var g=function(e){return ws(e,t,u,m)};g.__cachedInputs__=[t,u,m],g.__noStyleOverride__=!u&&!m,s.current=g}return s.current.__shadowConfig__=p(a),r.createElement(e,hi({ref:o},d,h,i,{styles:s.current}))}));c.displayName="Styled".concat(e.displayName||e.name);var u=o?r.memo(c):c;return c.displayName&&(u.displayName=c.displayName),u}function ru(e){var t=r.useRef();return void 0===t.current&&(t.current={value:"function"===typeof e?e():e}),t.current.value}function iu(e,t,n){var i=r.useState(t),o=i[0],a=i[1],s=ru(void 0!==e),l=s?e:o,c=r.useRef(l),u=r.useRef(n);r.useEffect((function(){c.current=l,u.current=n}));var d=ru((function(){return function(e,t){var n="function"===typeof e?e(c.current):e;u.current&&u.current(t,n),s||a(n)}}));return[l,d]}var ou=0,au=wi.getInstance();au&&au.onReset&&au.onReset((function(){return ou++}));var su="__retval__";function lu(e){void 0===e&&(e={});var t=new Map,n=0,r=0,i=ou;return function(o,a){var s;if(void 0===a&&(a={}),e.useStaticStyles&&"function"===typeof o&&o.__noStyleOverride__)return o(a);r++;var l=o?o.__shadowConfig__:void 0,c=l&&l.window?l.window:"__default__";t.has(c)||t.set(c,new Map);var u=t.get(c),d=a.theme,h=d&&void 0!==d.rtl?d.rtl:Ac(),p=e.disableCaching;if(i!==ou&&(i=ou,t.set(c,new Map),u=t.get(c),n=0),e.disableCaching||(u=uu(t.get(c),o),u=uu(u,a)),!p&&u[su]||(u[su]=void 0===o?{}:Ms(["function"===typeof o?o(a):o],{shadowConfig:o.__shadowConfig__,rtl:!!h,specificityMultiplier:e.useStaticStyles?5:void 0}),p||n++),n>(e.cacheSize||50)){var f=ga();(null===(s=null===f||void 0===f?void 0:f.FabricConfig)||void 0===s?void 0:s.enableClassNameCacheFullWarning)&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is ".concat(n,"/").concat(r,".")),console.trace()),t.get(c).clear(),n=0,e.disableCaching=!0}return u[su]}}function cu(e,t){return t=function(e){switch(e){case void 0:return"__undefined__";case null:return"__null__";default:return e}}(t),e.has(t)||e.set(t,new Map),e.get(t)}function uu(e,t){if("function"===typeof t)if(t.__cachedInputs__)for(var n=0,r=t.__cachedInputs__;n<r.length;n++){e=cu(e,r[n])}else e=cu(e,t);else if("object"===typeof t)for(var i in t)t.hasOwnProperty(i)&&(e=cu(e,t[i]));return e}function du(e,t,n){void 0===n&&(n=0);for(var r=-1,i=n;e&&i<e.length;i++)if(t(e[i],i)){r=i;break}return r}var hu=function(e){var t={refs:[]};return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.resolver&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t.refs,e)||(t.resolver=function(e){return function(t){for(var n=0,r=e.refs;n<r.length;n++){var i=r[n];"function"===typeof i?i(t):i&&(i.current=t)}}}(t)),t.refs=e,t.resolver}};function pu(e,t){var n,r;if(void 0===t&&(t=!0),!e)return null;var i=t&&function(e){var t,n;return e&&(n=e)&&n._virtual&&(t=e._virtual.parent),t}(e);return i||("function"!==typeof e.assignedElements&&(null===(n=e.assignedSlot)||void 0===n?void 0:n.parentNode)?e.assignedSlot:11===(null===(r=e.parentNode)||void 0===r?void 0:r.nodeType)?e.parentNode.host:e.parentNode)}function fu(e,t,n){return null!==n&&void 0!==n||(n=document),!e||e===n.body||e instanceof Document?null:t(e)?e:fu(pu(e),t)}var mu="data-portal-element";function gu(e,t,n){var r,i=fu(e,(function(e){var n;return t===e||!!(null===(n=e.hasAttribute)||void 0===n?void 0:n.call(e,mu))}),n);return null!==i&&!!(null===(r=i.hasAttribute)||void 0===r?void 0:r.call(i,mu))}function vu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.length<2?t[0]:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.forEach((function(t){return t&&t.apply(e,n)}))}}function _u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=vu(e,e[n],t[n]))}function yu(e){_u(e,{componentDidMount:bu,componentDidUpdate:xu,componentWillUnmount:Su})}function bu(){Eu(this.props.componentRef,this)}function xu(e){e.componentRef!==this.props.componentRef&&(Eu(e.componentRef,null),Eu(this.props.componentRef,this))}function Su(){Eu(this.props.componentRef,null)}function Eu(e,t){e&&("object"===typeof e?e.current=t:"function"===typeof e&&e(t))}var wu=function(){function e(e,t){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=e||null,this._onErrorHandler=t,this._noop=function(){}}return e.prototype.dispose=function(){var e;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(e in this._timeoutIds)this._timeoutIds.hasOwnProperty(e)&&this.clearTimeout(parseInt(e,10));this._timeoutIds=null}if(this._immediateIds){for(e in this._immediateIds)this._immediateIds.hasOwnProperty(e)&&this.clearImmediate(parseInt(e,10));this._immediateIds=null}if(this._intervalIds){for(e in this._intervalIds)this._intervalIds.hasOwnProperty(e)&&this.clearInterval(parseInt(e,10));this._intervalIds=null}if(this._animationFrameIds){for(e in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(e)&&this.cancelAnimationFrame(parseInt(e,10));this._animationFrameIds=null}},e.prototype.setTimeout=function(e,t){var n=this,r=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),r=setTimeout((function(){try{n._timeoutIds&&delete n._timeoutIds[r],e.apply(n._parent)}catch(AT){n._logError(AT)}}),t),this._timeoutIds[r]=!0),r},e.prototype.clearTimeout=function(e){this._timeoutIds&&this._timeoutIds[e]&&(clearTimeout(e),delete this._timeoutIds[e])},e.prototype.setImmediate=function(e,t){var n=this,r=0,i=ga(t);if(!this._isDisposed){this._immediateIds||(this._immediateIds={});r=i.setTimeout((function(){try{n._immediateIds&&delete n._immediateIds[r],e.apply(n._parent)}catch(AT){n._logError(AT)}}),0),this._immediateIds[r]=!0}return r},e.prototype.clearImmediate=function(e,t){var n=ga(t);this._immediateIds&&this._immediateIds[e]&&(n.clearTimeout(e),delete this._immediateIds[e])},e.prototype.setInterval=function(e,t){var n=this,r=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),r=setInterval((function(){try{e.apply(n._parent)}catch(AT){n._logError(AT)}}),t),this._intervalIds[r]=!0),r},e.prototype.clearInterval=function(e){this._intervalIds&&this._intervalIds[e]&&(clearInterval(e),delete this._intervalIds[e])},e.prototype.throttle=function(e,t,n){var r=this;if(this._isDisposed)return this._noop;var i,o,a=t||0,s=!0,l=!0,c=0,u=null;n&&"boolean"===typeof n.leading&&(s=n.leading),n&&"boolean"===typeof n.trailing&&(l=n.trailing);var d=function(t){var n=Date.now(),h=n-c,p=s?a-h:a;return h>=a&&(!t||s)?(c=n,u&&(r.clearTimeout(u),u=null),i=e.apply(r._parent,o)):null===u&&l&&(u=r.setTimeout(d,p)),i};return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o=e,d(!0)}},e.prototype.debounce=function(e,t,n){var r=this;if(this._isDisposed){var i=function(){};return i.cancel=function(){},i.flush=function(){return null},i.pending=function(){return!1},i}var o,a,s=t||0,l=!1,c=!0,u=null,d=0,h=Date.now(),p=null;n&&"boolean"===typeof n.leading&&(l=n.leading),n&&"boolean"===typeof n.trailing&&(c=n.trailing),n&&"number"===typeof n.maxWait&&!isNaN(n.maxWait)&&(u=n.maxWait);var f=function(e){p&&(r.clearTimeout(p),p=null),h=e},m=function(t){f(t),o=e.apply(r._parent,a)},g=function(e){var t=Date.now(),n=!1;e&&(l&&t-d>=s&&(n=!0),d=t);var i=t-d,a=s-i,f=t-h,v=!1;return null!==u&&(f>=u&&p?v=!0:a=Math.min(a,u-f)),i>=s||v||n?m(t):null!==p&&e||!c||(p=r.setTimeout(g,a)),o},v=function(){return!!p},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a=e,g(!0)};return _.cancel=function(){v()&&f(Date.now())},_.flush=function(){return v()&&m(Date.now()),o},_.pending=v,_},e.prototype.requestAnimationFrame=function(e,t){var n=this,r=0,i=ga(t);if(!this._isDisposed){this._animationFrameIds||(this._animationFrameIds={});var o=function(){try{n._animationFrameIds&&delete n._animationFrameIds[r],e.apply(n._parent)}catch(AT){n._logError(AT)}};r=i.requestAnimationFrame?i.requestAnimationFrame(o):i.setTimeout(o,0),this._animationFrameIds[r]=!0}return r},e.prototype.cancelAnimationFrame=function(e,t){var n=ga(t);this._animationFrameIds&&this._animationFrameIds[e]&&(n.cancelAnimationFrame?n.cancelAnimationFrame(e):n.clearTimeout(e),delete this._animationFrameIds[e])},e.prototype._logError=function(e){this._onErrorHandler&&this._onErrorHandler(e)},e}(),Cu=function(){function e(t){this._id=e._uniqueId++,this._parent=t,this._eventRecords=[]}return e.raise=function(t,n,r,i,o){var a,s=null!==o&&void 0!==o?o:Za();if(e._isElement(t)){if("undefined"!==typeof s&&s.createEvent){var l=s.createEvent("HTMLEvents");l.initEvent(n,i||!1,!0),Gl(l,r),a=t.dispatchEvent(l)}else if("undefined"!==typeof s&&s.createEventObject){var c=s.createEventObject(r);t.fireEvent("on"+n,c)}}else for(;t&&!1!==a;){var u=t.__events__,d=u?u[n]:null;if(d)for(var h in d)if(d.hasOwnProperty(h))for(var p=d[h],f=0;!1!==a&&f<p.length;f++){var m=p[f];m.objectCallback&&(a=m.objectCallback.call(m.parent,r))}t=i?t.parent:null}return a},e.isObserved=function(e,t){var n=e&&e.__events__;return!!n&&!!n[t]},e.isDeclared=function(e,t){var n=e&&e.__declaredEvents;return!!n&&!!n[t]},e.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e._isElement=function(e){return!!e&&(!!e.addEventListener||"undefined"!==typeof HTMLElement&&e instanceof HTMLElement)},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},e.prototype.onAll=function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&this.on(e,r,t[r],n)},e.prototype.on=function(t,n,r,i){var o=this;if(n.indexOf(",")>-1)for(var a=n.split(/[ ,]+/),s=0;s<a.length;s++)this.on(t,a[s],r,i);else{var l=this._parent,c={target:t,eventName:n,parent:l,callback:r,options:i};if((a=t.__events__=t.__events__||{})[n]=a[n]||{count:0},a[n][this._id]=a[n][this._id]||[],a[n][this._id].push(c),a[n].count++,e._isElement(t)){var u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!o._isDisposed){var n;try{if(!1===(n=r.apply(l,e))&&e[0]){var i=e[0];i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.cancelBubble=!0}}catch(i){}return n}};c.elementCallback=u,t.addEventListener?t.addEventListener(n,u,i):t.attachEvent&&t.attachEvent("on"+n,u)}else{c.objectCallback=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!o._isDisposed)return r.apply(l,e)}}this._eventRecords.push(c)}},e.prototype.off=function(e,t,n,r){for(var i=0;i<this._eventRecords.length;i++){var o=this._eventRecords[i];if((!e||e===o.target)&&(!t||t===o.eventName)&&(!n||n===o.callback)&&("boolean"!==typeof r||r===o.options)){var a=o.target.__events__,s=a[o.eventName],l=s?s[this._id]:null;l&&(1!==l.length&&n?(s.count--,l.splice(l.indexOf(o),1)):(s.count-=l.length,delete a[o.eventName][this._id]),s.count||delete a[o.eventName]),o.elementCallback&&(o.target.removeEventListener?o.target.removeEventListener(o.eventName,o.elementCallback,o.options):o.target.detachEvent&&o.target.detachEvent("on"+o.eventName,o.elementCallback)),this._eventRecords.splice(i--,1)}}},e.prototype.raise=function(t,n,r){return e.raise(this._parent,t,n,r)},e.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"===typeof e)t[e]=!0;else for(var n=0;n<e.length;n++)t[e[n]]=!0},e._uniqueId=0,e}();var Mu,Tu,Ru,Au;!function(e){function t(n,r){var i=e.call(this,n,r)||this;return function(e,t,n){for(var r=0,i=n.length;r<i;r++)Pu(e,t,n[r])}(i,t.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),i}di(t,e),t.prototype.componentDidUpdate=function(e,t){this._updateComponentRef(e,this.props)},t.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},t.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var e=0,t=this._disposables.length;e<t;e++){var n=this.__disposables[e];n.dispose&&n.dispose()}this.__disposables=null}},Object.defineProperty(t.prototype,"className",{get:function(){if(!this.__className){var e=/function (.{1,})\(/.exec(this.constructor.toString());this.__className=e&&e.length>1?e[1]:""}return this.__className},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_async",{get:function(){return this.__async||(this.__async=new wu(this),this._disposables.push(this.__async)),this.__async},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_events",{get:function(){return this.__events||(this.__events=new Cu(this),this._disposables.push(this.__events)),this.__events},enumerable:!1,configurable:!0}),t.prototype._resolveRef=function(e){var t=this;return this.__resolves||(this.__resolves={}),this.__resolves[e]||(this.__resolves[e]=function(n){return t[e]=n}),this.__resolves[e]},t.prototype._updateComponentRef=function(e,t){void 0===t&&(t={}),e&&t&&e.componentRef!==t.componentRef&&(this._setComponentRef(e.componentRef,null),this._setComponentRef(t.componentRef,this))},t.prototype._warnDeprecations=function(e){this.className,this.props},t.prototype._warnMutuallyExclusive=function(e){this.className,this.props},t.prototype._warnConditionallyRequiredProps=function(e,t,n){this.className,this.props},t.prototype._setComponentRef=function(e,t){!this._skipComponentRefResolution&&e&&("function"===typeof e&&e(t),"object"===typeof e&&(e.current=t))}}(r.Component);function Pu(e,t,n){var r=e[n],i=t[n];(r||i)&&(e[n]=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i&&(e=i.apply(this,t)),r!==i&&(e=r.apply(this,t)),e})}function Du(){return null}function Iu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter((function(e){return e})).join(" ").trim();return""===n?void 0:n}!function(e){e[e.default=0]="default",e[e.image=1]="image",e[e.Default=1e5]="Default",e[e.Image=100001]="Image"}(Mu||(Mu={})),function(e){e[e.center=0]="center",e[e.contain=1]="contain",e[e.cover=2]="cover",e[e.none=3]="none",e[e.centerCover=4]="centerCover",e[e.centerContain=5]="centerContain"}(Tu||(Tu={})),function(e){e[e.landscape=0]="landscape",e[e.portrait=1]="portrait"}(Ru||(Ru={})),function(e){e[e.notLoaded=0]="notLoaded",e[e.loaded=1]="loaded",e[e.error=2]="error",e[e.errorLoaded=3]="errorLoaded"}(Au||(Au={}));var ku=fa()?r.useLayoutEffect:r.useEffect,Lu=lu(),Nu=/\.svg$/i;var Ou=r.forwardRef((function(e,t){var n=r.useRef(),i=r.useRef(),o=function(e,t){var n=e.onLoadingStateChange,i=e.onLoad,o=e.onError,a=e.src,s=r.useState(Au.notLoaded),l=s[0],c=s[1];ku((function(){c(Au.notLoaded)}),[a]),r.useEffect((function(){l===Au.notLoaded&&t.current&&(a&&t.current.naturalWidth>0&&t.current.naturalHeight>0||t.current.complete&&Nu.test(a))&&c(Au.loaded)})),r.useEffect((function(){null===n||void 0===n||n(l)}),[l]);var u=r.useCallback((function(e){null===i||void 0===i||i(e),a&&c(Au.loaded)}),[a,i]),d=r.useCallback((function(e){null===o||void 0===o||o(e),c(Au.error)}),[o]);return[l,u,d]}(e,i),a=o[0],s=o[1],l=o[2],c=zl(e,Ul,["width","height"]),u=e.src,d=e.alt,h=e.width,p=e.height,f=e.shouldFadeIn,m=void 0===f||f,g=e.shouldStartVisible,v=e.className,_=e.imageFit,y=e.role,b=e.maximizeFrame,x=e.styles,S=e.theme,E=e.loading,w=function(e,t,n,i){var o=r.useRef(t),a=r.useRef();(void 0===a||o.current===Au.notLoaded&&t===Au.loaded)&&(a.current=function(e,t,n,r){var i=e.imageFit,o=e.width,a=e.height;if(void 0!==e.coverStyle)return e.coverStyle;if(t===Au.loaded&&(i===Tu.cover||i===Tu.contain||i===Tu.centerContain||i===Tu.centerCover)&&n.current&&r.current){var s=void 0;if(s="number"===typeof o&&"number"===typeof a&&i!==Tu.centerContain&&i!==Tu.centerCover?o/a:r.current.clientWidth/r.current.clientHeight,n.current.naturalWidth/n.current.naturalHeight>s)return Ru.landscape}return Ru.portrait}(e,t,n,i));return o.current=t,a.current}(e,a,i,n),C=Lu(x,{theme:S,className:v,width:h,height:p,maximizeFrame:b,shouldFadeIn:m,shouldStartVisible:g,isLoaded:a===Au.loaded||a===Au.notLoaded&&e.shouldStartVisible,isLandscape:w===Ru.landscape,isCenter:_===Tu.center,isCenterContain:_===Tu.centerContain,isCenterCover:_===Tu.centerCover,isContain:_===Tu.contain,isCover:_===Tu.cover,isNone:_===Tu.none,isError:a===Au.error,isNotImageFit:void 0===_});return r.createElement("div",{className:C.root,style:{width:h,height:p},ref:n},r.createElement("img",hi({},c,{onLoad:s,onError:l,key:"fabricImage"+e.src||"",className:C.image,ref:Cc(i,t),src:u,alt:d,role:y,loading:E})))}));Ou.displayName="ImageBase";var Fu={root:"ms-Image",rootMaximizeFrame:"ms-Image--maximizeFrame",image:"ms-Image-image",imageCenter:"ms-Image-image--center",imageContain:"ms-Image-image--contain",imageCover:"ms-Image-image--cover",imageCenterContain:"ms-Image-image--centerContain",imageCenterCover:"ms-Image-image--centerCover",imageNone:"ms-Image-image--none",imageLandscape:"ms-Image-image--landscape",imagePortrait:"ms-Image-image--portrait"},Uu=nu(Ou,(function(e){var t=e.className,n=e.width,r=e.height,i=e.maximizeFrame,o=e.isLoaded,a=e.shouldFadeIn,s=e.shouldStartVisible,l=e.isLandscape,c=e.isCenter,u=e.isContain,d=e.isCover,h=e.isCenterContain,p=e.isCenterCover,f=e.isNone,m=e.isError,g=e.isNotImageFit,v=e.theme,_=ca(Fu,v),y={position:"absolute",left:"50% /* @noflip */",top:"50%",transform:"translate(-50%,-50%)"},b=ga(),x=void 0!==b&&void 0===b.navigator.msMaxTouchPoints,S=u&&l||d&&!l?{width:"100%",height:"auto"}:{width:"auto",height:"100%"};return{root:[_.root,v.fonts.medium,{overflow:"hidden"},i&&[_.rootMaximizeFrame,{height:"100%",width:"100%"}],o&&a&&!s&&Zo.fadeIn400,(c||u||d||h||p)&&{position:"relative"},t],image:[_.image,{display:"block",opacity:0},o&&["is-loaded",{opacity:1}],c&&[_.imageCenter,y],u&&[_.imageContain,x&&{width:"100%",height:"100%",objectFit:"contain"},!x&&S,!x&&y],d&&[_.imageCover,x&&{width:"100%",height:"100%",objectFit:"cover"},!x&&S,!x&&y],h&&[_.imageCenterContain,l&&{maxWidth:"100%"},!l&&{maxHeight:"100%"},y],p&&[_.imageCenterCover,l&&{maxHeight:"100%"},!l&&{maxWidth:"100%"},y],f&&[_.imageNone,{width:"auto",height:"auto"}],g&&[!!n&&!r&&{height:"auto",width:"100%"},!n&&!!r&&{height:"100%",width:"auto"},!!n&&!!r&&{height:"100%",width:"100%"}],l&&_.imageLandscape,!l&&_.imagePortrait,!o&&"is-notLoaded",a&&"is-fadeIn",m&&"is-error"]}}),void 0,{scope:"Image"},!0);Uu.displayName="Image";var Bu=Cs({root:{display:"inline-block",textDecoration:"inherit"},placeholder:["ms-Icon-placeHolder",{width:"1em"}],image:["ms-Icon-imageContainer",{overflow:"hidden"}]}),zu="ms-Icon",Hu=ia((function(e){var t=function(e){var t=void 0,n=ms.__options;if(e=e?vs(e):"",e=ms.__remapped[e]||e)if(t=ms[e]){var r=t.subset;r&&r.fontFace&&(r.isRegistered||(ja(r.fontFace),r.isRegistered=!0),r.className||(r.className=Xi(r.style,{fontFamily:r.fontFace.fontFamily,fontWeight:r.fontFace.fontWeight||"normal",fontStyle:r.fontFace.fontStyle||"normal"})))}else!n.disableWarnings&&n.warnOnMissingIcons&&fs('The icon "'.concat(e,'" was used but not registered. See https://github.com/microsoft/fluentui/wiki/Using-icons for more information.'));return t}(e)||{subset:{},code:void 0},n=t.code,r=t.subset;return n?{children:n,iconClassName:r.className,fontFamily:r.fontFace&&r.fontFace.fontFamily,mergeImageProps:r.mergeImageProps}:null}),void 0,!0),Vu=function(e){var t=e.iconName,n=e.className,i=e.style,o=void 0===i?{}:i,a=Hu(t)||{},s=a.iconClassName,l=a.children,c=a.fontFamily,u=a.mergeImageProps,d=zl(e,_l),h=e["aria-label"]||e.title,p=e["aria-label"]||e["aria-labelledby"]||e.title?{role:u?void 0:"img"}:{"aria-hidden":!0},f=l;return u&&"object"===typeof l&&"object"===typeof l.props&&h&&(f=r.cloneElement(l,{alt:h})),r.createElement("i",hi({"data-icon-name":t},p,d,u?{title:void 0,"aria-label":void 0}:{},{className:Js(zu,Bu.root,s,!t&&Bu.placeholder,n),style:hi({fontFamily:c},o)}),f)},Wu=(ia((function(e,t,n){return Vu({iconName:e,className:t,"aria-label":n})})),lu({cacheSize:100})),Gu=function(e){function t(t){var n=e.call(this,t)||this;return n._onImageLoadingStateChange=function(e){n.props.imageProps&&n.props.imageProps.onLoadingStateChange&&n.props.imageProps.onLoadingStateChange(e),e===Au.error&&n.setState({imageLoadError:!0})},n.state={imageLoadError:!1},n}return di(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.styles,o=e.iconName,a=e.imageErrorAs,s=e.theme,l="string"===typeof o&&0===o.length,c=!!this.props.imageProps||this.props.iconType===Mu.image||this.props.iconType===Mu.Image,u=Hu(o)||{},d=u.iconClassName,h=u.children,p=u.mergeImageProps,f=Wu(i,{theme:s,className:n,iconClassName:d,isImage:c,isPlaceholder:l}),m=c?"span":"i",g=zl(this.props,_l,["aria-label"]),v=this.state.imageLoadError,_=hi(hi({},this.props.imageProps),{onLoadingStateChange:this._onImageLoadingStateChange}),y=v&&a||Uu,b=this.props["aria-label"]||this.props.ariaLabel,x=_.alt||b||this.props.title,S=!!(x||this.props["aria-labelledby"]||_["aria-label"]||_["aria-labelledby"])?{role:c||p?void 0:"img","aria-label":c||p?void 0:x}:{"aria-hidden":!0},E=h;return p&&h&&"object"===typeof h&&x&&(E=r.cloneElement(h,{alt:x})),r.createElement(m,hi({"data-icon-name":o},S,g,p?{title:void 0,"aria-label":void 0}:{},{className:f.root}),c?r.createElement(y,hi({},_)):t||E)},t}(r.Component),ju=nu(Gu,(function(e){var t=e.className,n=e.iconClassName,r=e.isPlaceholder,i=e.isImage,o=e.styles;return{root:[r&&Bu.placeholder,Bu.root,i&&Bu.image,n,t,o&&o.root,o&&o.imageContainer]}}),void 0,{scope:"Icon"},!0);ju.displayName="Icon";var Xu=function(e){var t=e.className,n=e.imageProps,i=zl(e,_l,["aria-label","aria-labelledby","title","aria-describedby"]),o=n.alt||e["aria-label"],a=o||e["aria-labelledby"]||e.title||n["aria-label"]||n["aria-labelledby"]||n.title,s={"aria-labelledby":e["aria-labelledby"],"aria-describedby":e["aria-describedby"],title:e.title},l=a?{}:{"aria-hidden":!0};return r.createElement("div",hi({},l,i,{className:Js(zu,Bu.root,Bu.image,t)}),r.createElement(Uu,hi({},s,n,{alt:a?o:""})))},Ku=0,qu=1,Yu=2,Zu=3,Qu=4,Ju=5,$u=6,ed=7,td=8,nd=9,rd=10,id=11,od=12,ad=13;var sd,ld=oa((function(e){return oa((function(t){var n=oa((function(e){return function(n){return t(n,e)}}));return function(r,i){return e(r,i?n(i):t)}}))}));function cd(e,t){return ld(e)(t)}!function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header",e[e.Section=3]="Section"}(sd||(sd={}));var ud,dd=1,hd=2;function pd(e,t,n){void 0===n&&(n=!0);var r=!1;if(e&&t)if(n)if(e===t)r=!0;else for(r=!1;t;){var i=pu(t);if(i===e){r=!0;break}t=i}else e.contains&&(r=e.contains(t));return r}!function(e){e[e.vertical=0]="vertical",e[e.horizontal=1]="horizontal",e[e.bidirectional=2]="bidirectional",e[e.domOrder=3]="domOrder"}(ud||(ud={}));function fd(e,t,n,r){return vd(e,t,!0,!1,!1,n,void 0,void 0,void 0,r)}function md(e,t,n,r){return gd(e,t,!0,!1,!0,n,void 0,void 0,r)}function gd(e,t,n,r,i,o,a,s,l){var c;if(!t||!a&&t===e)return null;var u=_d(t);if(i&&u&&(o||!xd(t)&&!Sd(t))){var d=gd(e,t.lastElementChild||l&&(null===(c=t.shadowRoot)||void 0===c?void 0:c.lastElementChild),!0,!0,!0,o,a,s,l);if(d){if(s&&bd(d,!0,l)||!s)return d;var h=gd(e,d.previousElementSibling,!0,!0,!0,o,a,s,l);if(h)return h;for(var p=d.parentElement;p&&p!==t;){var f=gd(e,p.previousElementSibling,!0,!0,!0,o,a,s,l);if(f)return f;p=p.parentElement}}}if(n&&u&&bd(t,s,l))return t;var m=gd(e,t.previousElementSibling,!0,!0,!0,o,a,s,l);return m||(r?null:gd(e,t.parentElement,!0,!1,!1,o,a,s,l))}function vd(e,t,n,r,i,o,a,s,l,c){var u;if(!t||t===e&&i&&!a)return null;var d=(l?yd:_d)(t);if(n&&d&&bd(t,s,c))return t;if(!i&&d&&(o||!xd(t)&&!Sd(t))){var h=vd(e,t.firstElementChild||c&&(null===(u=t.shadowRoot)||void 0===u?void 0:u.firstElementChild),!0,!0,!1,o,a,s,l,c);if(h)return h}if(t===e)return null;var p=vd(e,t.nextElementSibling,!0,!0,!1,o,a,s,l,c);return p||(r?null:vd(e,t.parentElement,!1,!1,!0,o,a,s,l,c))}function _d(e){if(!e||!e.getAttribute)return!1;var t=e.getAttribute("data-is-visible");return null!==t&&void 0!==t?"true"===t:0!==e.offsetHeight||null!==e.offsetParent||!0===e.isVisible}function yd(e,t){var n=null!==t&&void 0!==t?t:ga();return!!e&&_d(e)&&!e.hidden&&"hidden"!==n.getComputedStyle(e).visibility}function bd(e,t,n){if(void 0===n&&(n=!0),!e||e.disabled)return!1;var r=0,i=null;e&&e.getAttribute&&(i=e.getAttribute("tabIndex"))&&(r=parseInt(i,10));var o=e.getAttribute?e.getAttribute("data-is-focusable"):null,a=null!==i&&r>=0,s=!(!n||!e.shadowRoot)&&!!e.shadowRoot.delegatesFocus,l=!!e&&"false"!==o&&("A"===e.tagName||"BUTTON"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||"true"===o||a||s);return t?-1!==r&&l:l}function xd(e){return!!(e&&e.getAttribute&&e.getAttribute("data-focuszone-id"))}function Sd(e){return!(!e||!e.getAttribute||"true"!==e.getAttribute("data-is-sub-focuszone"))}function Ed(e,t,n){return"true"!==function(e,t,n){var r=fu(e,(function(e){return e.hasAttribute(t)}),n);return r&&r.getAttribute(t)}(e,t,null!==n&&void 0!==n?n:Za())}var wd,Cd=void 0;function Md(e){if(e){var t=ga(e);t&&(void 0!==Cd&&t.cancelAnimationFrame(Cd),Cd=t.requestAnimationFrame((function(){e&&e.focus(),Cd=void 0})))}}var Td=0,Rd=Xi({overflow:"hidden !important"}),Ad="data-is-scrollable",Pd=function(e){e.preventDefault()};function Dd(e){for(var t=e,n=Za(e);t&&t!==n.body;){if("true"===t.getAttribute(Ad))return t;t=t.parentElement}for(t=e;t&&t!==n.body;){if("false"!==t.getAttribute(Ad)){var r=getComputedStyle(t),i=r?r.getPropertyValue("overflow-y"):"";if(i&&("scroll"===i||"auto"===i))return t}t=t.parentElement}return t&&t!==n.body||(t=ga(e)),t}var Id,kd=r.createContext(void 0),Ld="data-is-focusable",Nd="data-focuszone-id",Od="tabindex",Fd="data-no-vertical-wrap",Ud="data-no-horizontal-wrap",Bd=999999999,zd=-999999999;function Hd(e,t){var n;"function"===typeof MouseEvent?n=new MouseEvent("click",{ctrlKey:null===t||void 0===t?void 0:t.ctrlKey,metaKey:null===t||void 0===t?void 0:t.metaKey,shiftKey:null===t||void 0===t?void 0:t.shiftKey,altKey:null===t||void 0===t?void 0:t.altKey,bubbles:null===t||void 0===t?void 0:t.bubbles,cancelable:null===t||void 0===t?void 0:t.cancelable}):(n=document.createEvent("MouseEvents")).initMouseEvent("click",!!t&&t.bubbles,!!t&&t.cancelable,window,0,0,0,0,0,!!t&&t.ctrlKey,!!t&&t.altKey,!!t&&t.shiftKey,!!t&&t.metaKey,0,null),e.dispatchEvent(n)}var Vd,Wd={},Gd=new Set,jd=["text","number","password","email","tel","url","search","textarea"],Xd=!1,Kd=function(e){function t(n){var i,o,a,s,l=e.call(this,n)||this;l._root=r.createRef(),l._mergedRef=hu(),l._onFocus=function(e){if(!l._portalContainsElement(e.target)){var t,n=l.props,r=n.onActiveElementChanged,i=n.doNotAllowFocusEventToPropagate,o=n.stopFocusPropagation,a=n.onFocusNotification,s=n.onFocus,c=n.shouldFocusInnerElementWhenReceivedFocus,u=n.defaultTabbableElement,d=l._isImmediateDescendantOfZone(e.target);if(d)t=e.target;else for(var h=e.target;h&&h!==l._root.current;){if(bd(h,void 0,l._inShadowRoot)&&l._isImmediateDescendantOfZone(h)){t=h;break}h=pu(h,Xd)}if(c&&e.target===l._root.current){var p=u&&"function"===typeof u&&l._root.current&&u(l._root.current);p&&bd(p,void 0,l._inShadowRoot)?(t=p,p.focus()):(l.focus(!0),l._activeElement&&(t=null))}var f=!l._activeElement;t&&t!==l._activeElement&&((d||f)&&l._setFocusAlignment(t,!0,!0),l._activeElement=t,f&&l._updateTabIndexes()),r&&r(l._activeElement,e),(o||i)&&e.stopPropagation(),s?s(e):a&&a()}},l._onBlur=function(){l._setParkedFocus(!1)},l._onMouseDown=function(e){if(!l._portalContainsElement(e.target)&&!l.props.disabled){for(var t=e.target,n=[];t&&t!==l._root.current;)n.push(t),t=pu(t,Xd);for(;n.length&&((t=n.pop())&&bd(t,void 0,l._inShadowRoot)&&l._setActiveElement(t,!0),!xd(t)););}},l._onKeyDown=function(e,t){if(!l._portalContainsElement(e.target)){var n=l.props,r=n.direction,i=n.disabled,o=n.isInnerZoneKeystroke,a=n.pagingSupportDisabled,s=n.shouldEnterInnerZone;if(!i&&(l.props.onKeyDown&&l.props.onKeyDown(e),!e.isDefaultPrevented()&&(l._getDocument().activeElement!==l._root.current||!l._isInnerZone))){if((s&&s(e)||o&&o(e))&&l._isImmediateDescendantOfZone(e.target)){var c=l._getFirstInnerZone();if(c){if(!c.focus(!0))return}else{if(!Sd(e.target))return;if(!l.focusElement(vd(e.target,e.target.firstChild,!0)))return}}else{if(e.altKey)return;switch(e.which){case Ql:if(l._shouldRaiseClicksOnSpace&&l._tryInvokeClickForFocusable(e.target,e))break;return;case nc:if(r!==ud.vertical&&(l._preventDefaultWhenHandled(e),l._moveFocusLeft(t)))break;return;case ic:if(r!==ud.vertical&&(l._preventDefaultWhenHandled(e),l._moveFocusRight(t)))break;return;case rc:if(r!==ud.horizontal&&(l._preventDefaultWhenHandled(e),l._moveFocusUp()))break;return;case oc:if(r!==ud.horizontal&&(l._preventDefaultWhenHandled(e),l._moveFocusDown()))break;return;case $l:if(!a&&l._moveFocusPaging(!0))break;return;case Jl:if(!a&&l._moveFocusPaging(!1))break;return;case Kl:if(l.props.allowTabKey||l.props.handleTabKey===dd||l.props.handleTabKey===hd&&l._isElementInput(e.target)){var u=!1;if(l._processingTabKey=!0,r!==ud.vertical&&l._shouldWrapFocus(l._activeElement,Ud))u=(Ac(t)?!e.shiftKey:e.shiftKey)?l._moveFocusLeft(t):l._moveFocusRight(t);else u=e.shiftKey?l._moveFocusUp():l._moveFocusDown();if(l._processingTabKey=!1,u)break;l.props.shouldResetActiveElementWhenTabFromZone&&(l._activeElement=null)}return;case tc:if(l._isContentEditableElement(e.target)||l._isElementInput(e.target)&&!l._shouldInputLoseFocus(e.target,!1))return!1;var d=l._root.current&&l._root.current.firstChild;if(l._root.current&&d&&l.focusElement(vd(l._root.current,d,!0)))break;return;case ec:if(l._isContentEditableElement(e.target)||l._isElementInput(e.target)&&!l._shouldInputLoseFocus(e.target,!0))return!1;var h=l._root.current&&l._root.current.lastChild;if(l._root.current&&l.focusElement(gd(l._root.current,h,!0,!0,!0)))break;return;case ql:if(l._shouldRaiseClicksOnEnter&&l._tryInvokeClickForFocusable(e.target,e))break;return;default:return}}e.preventDefault(),e.stopPropagation()}}},l._getHorizontalDistanceFromCenter=function(e,t,n){var r=l._focusAlignment.left||l._focusAlignment.x||0,i=Math.floor(n.top),o=Math.floor(t.bottom),a=Math.floor(n.bottom),s=Math.floor(t.top);return e&&i>o||!e&&a<s?r>=n.left&&r<=n.left+n.width?0:Math.abs(n.left+n.width/2-r):l._shouldWrapFocus(l._activeElement,Fd)?Bd:zd},yu(l),l._id=cl("FocusZone"),l._focusAlignment={left:0,top:0},l._processingTabKey=!1;var c=null===(o=null!==(i=n.shouldRaiseClicks)&&void 0!==i?i:t.defaultProps.shouldRaiseClicks)||void 0===o||o;return l._shouldRaiseClicksOnEnter=null!==(a=n.shouldRaiseClicksOnEnter)&&void 0!==a?a:c,l._shouldRaiseClicksOnSpace=null!==(s=n.shouldRaiseClicksOnSpace)&&void 0!==s?s:c,l}return di(t,e),t.getOuterZones=function(){return Gd.size},t._onKeyDownCapture=function(e){e.which===Kl&&Gd.forEach((function(e){return e._updateTabIndexes()}))},t.prototype.componentDidMount=function(){var e,n=this._root.current;if(this._inShadowRoot=!!(null===(e=this.context)||void 0===e?void 0:e.shadowRoot),Wd[this._id]=this,n){for(var r=pu(n,Xd);r&&r!==this._getDocument().body&&1===r.nodeType;){if(xd(r)){this._isInnerZone=!0;break}r=pu(r,Xd)}this._isInnerZone||(Gd.add(this),this._root.current&&this._root.current.addEventListener("keydown",t._onKeyDownCapture,!0)),this._root.current&&this._root.current.addEventListener("blur",this._onBlur,!0),this._updateTabIndexes(),this.props.defaultTabbableElement&&"string"===typeof this.props.defaultTabbableElement?this._activeElement=this._getDocument().querySelector(this.props.defaultTabbableElement):this.props.defaultActiveElement&&(this._activeElement=this._getDocument().querySelector(this.props.defaultActiveElement)),this.props.shouldFocusOnMount&&this.focus()}},t.prototype.componentDidUpdate=function(){var e,t=this._root.current,n=this._getDocument();if(this._inShadowRoot=!!(null===(e=this.context)||void 0===e?void 0:e.shadowRoot),(this._activeElement&&!pd(this._root.current,this._activeElement,Xd)||this._defaultFocusElement&&!pd(this._root.current,this._defaultFocusElement,Xd))&&(this._activeElement=null,this._defaultFocusElement=null,this._updateTabIndexes()),!this.props.preventFocusRestoration&&n&&this._lastIndexPath&&(n.activeElement===n.body||null===n.activeElement||n.activeElement===t)){var r=function(e,t){for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r],a=n.children[Math.min(o,n.children.length-1)];if(!a)break;n=a}return bd(n)&&_d(n)?n:vd(e,n,!0)||gd(e,n)}(t,this._lastIndexPath);r?(this._setActiveElement(r,!0),r.focus(),this._setParkedFocus(!1)):this._setParkedFocus(!0)}},t.prototype.componentWillUnmount=function(){delete Wd[this._id],this._isInnerZone||(Gd.delete(this),this._root.current&&this._root.current.removeEventListener("keydown",t._onKeyDownCapture,!0)),this._root.current&&this._root.current.removeEventListener("blur",this._onBlur,!0),this._activeElement=null,this._defaultFocusElement=null},t.prototype.render=function(){var e=this,t=this.props,n=t.as,i=t.elementType,o=t.rootProps,a=t.ariaDescribedBy,s=t.ariaLabelledBy,l=t.className,c=zl(this.props,_l),u=n||i||"div";this._evaluateFocusBeforeRender();var d,h=(void 0===d&&(d=!1),!0===d&&(cs=ls({},d)),cs);return r.createElement(u,hi({"aria-labelledby":s,"aria-describedby":a},c,o,{className:Js((Id||(Id=Xi({selectors:{":focus":{outline:"none"}}},"ms-FocusZone")),Id),l),ref:this._mergedRef(this.props.elementRef,this._root),"data-focuszone-id":this._id,onKeyDown:function(t){return e._onKeyDown(t,h)},onFocus:this._onFocus,onMouseDownCapture:this._onMouseDown}),this.props.children)},t.prototype.focus=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this._root.current){if(!e&&"true"===this._root.current.getAttribute(Ld)&&this._isInnerZone){var n=this._getOwnerZone(this._root.current);if(n!==this._root.current){var r=Wd[n.getAttribute(Nd)];return!!r&&r.focusElement(this._root.current)}return!1}if(!e&&this._activeElement&&pd(this._root.current,this._activeElement)&&bd(this._activeElement,void 0,this._inShadowRoot)&&(!t||yd(this._activeElement)))return this._activeElement.focus(),!0;var i=this._root.current.firstChild;return this.focusElement(vd(this._root.current,i,!0,void 0,void 0,void 0,void 0,void 0,t))}return!1},t.prototype.focusLast=function(){if(this._root.current){var e=this._root.current&&this._root.current.lastChild;return this.focusElement(gd(this._root.current,e,!0,!0,!0))}return!1},t.prototype.focusElement=function(e,t){var n=this.props,r=n.onBeforeFocus,i=n.shouldReceiveFocus;return!(i&&!i(e)||r&&!r(e))&&(!!e&&(this._setActiveElement(e,t),this._activeElement&&this._activeElement.focus(),!0))},t.prototype.setFocusAlignment=function(e){this._focusAlignment=e},Object.defineProperty(t.prototype,"defaultFocusElement",{get:function(){return this._defaultFocusElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeElement",{get:function(){return this._activeElement},enumerable:!1,configurable:!0}),t.prototype._evaluateFocusBeforeRender=function(){var e=this._root.current,t=this._getDocument();if(t){var n=t.activeElement;if(n!==e){var r=pd(e,n,!1);this._lastIndexPath=r?function(e,t){for(var n=[];t&&e&&t!==e;){var r=pu(t,!0);if(null===r)return[];n.unshift(Array.prototype.indexOf.call(r.children,t)),t=r}return n}(e,n):void 0}}},t.prototype._setParkedFocus=function(e){var t=this._root.current;t&&this._isParked!==e&&(this._isParked=e,e?(this.props.allowFocusRoot||(this._parkedTabIndex=t.getAttribute("tabindex"),t.setAttribute("tabindex","-1")),t.focus()):this.props.allowFocusRoot||(this._parkedTabIndex?(t.setAttribute("tabindex",this._parkedTabIndex),this._parkedTabIndex=void 0):t.removeAttribute("tabindex")))},t.prototype._setActiveElement=function(e,t){var n=this._activeElement;this._activeElement=e,n&&(xd(n)&&this._updateTabIndexes(n),n.tabIndex=-1),this._activeElement&&(this._focusAlignment&&!t||this._setFocusAlignment(e,!0,!0),this._activeElement.tabIndex=0)},t.prototype._preventDefaultWhenHandled=function(e){this.props.preventDefaultWhenHandled&&e.preventDefault()},t.prototype._tryInvokeClickForFocusable=function(e,t){var n=e;if(n===this._root.current)return!1;do{if("BUTTON"===n.tagName||"A"===n.tagName||"INPUT"===n.tagName||"TEXTAREA"===n.tagName||"SUMMARY"===n.tagName)return!1;if(this._isImmediateDescendantOfZone(n)&&"true"===n.getAttribute(Ld)&&"true"!==n.getAttribute("data-disable-click-on-enter"))return Hd(n,t),!0;n=pu(n,Xd)}while(n!==this._root.current);return!1},t.prototype._getFirstInnerZone=function(e){if(!(e=e||this._activeElement||this._root.current))return null;if(xd(e))return Wd[e.getAttribute(Nd)];for(var t=e.firstElementChild;t;){if(xd(t))return Wd[t.getAttribute(Nd)];var n=this._getFirstInnerZone(t);if(n)return n;t=t.nextElementSibling}return null},t.prototype._moveFocus=function(e,t,n,r){void 0===r&&(r=!0);var i=this._activeElement,o=-1,a=void 0,s=!1,l=this.props.direction===ud.bidirectional;if(!i||!this._root.current)return!1;if(this._isElementInput(i)&&!this._shouldInputLoseFocus(i,e))return!1;var c=l?i.getBoundingClientRect():null;do{if(i=e?vd(this._root.current,i):gd(this._root.current,i),!l){a=i;break}if(i){var u=t(c,i.getBoundingClientRect());if(-1===u&&-1===o){a=i;break}if(u>-1&&(-1===o||u<o)&&(o=u,a=i),o>=0&&u<0)break}}while(i);if(a&&a!==this._activeElement)s=!0,this.focusElement(a);else if(this.props.isCircularNavigation&&r)return e?this.focusElement(vd(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(gd(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return s},t.prototype._moveFocusDown=function(){var e=this,t=-1,n=this._focusAlignment.left||this._focusAlignment.x||0;return!!this._moveFocus(!0,(function(r,i){var o=-1,a=Math.floor(i.top),s=Math.floor(r.bottom);return a<s?e._shouldWrapFocus(e._activeElement,Fd)?Bd:zd:((-1===t&&a>=s||a===t)&&(t=a,o=n>=i.left&&n<=i.left+i.width?0:Math.abs(i.left+i.width/2-n)),o)}))&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},t.prototype._moveFocusUp=function(){var e=this,t=-1,n=this._focusAlignment.left||this._focusAlignment.x||0;return!!this._moveFocus(!1,(function(r,i){var o=-1,a=Math.floor(i.bottom),s=Math.floor(i.top),l=Math.floor(r.top);return a>l?e._shouldWrapFocus(e._activeElement,Fd)?Bd:zd:((-1===t&&a<=l||s===t)&&(t=s,o=n>=i.left&&n<=i.left+i.width?0:Math.abs(i.left+i.width/2-n)),o)}))&&(this._setFocusAlignment(this._activeElement,!1,!0),!0)},t.prototype._moveFocusLeft=function(e){var t=this,n=this._shouldWrapFocus(this._activeElement,Ud);return!!this._moveFocus(Ac(e),(function(r,i){var o=-1;return(Ac(e)?parseFloat(i.top.toFixed(3))<parseFloat(r.bottom.toFixed(3)):parseFloat(i.bottom.toFixed(3))>parseFloat(r.top.toFixed(3)))&&i.right<=r.right&&t.props.direction!==ud.vertical?o=r.right-i.right:n||(o=zd),o}),void 0,n)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},t.prototype._moveFocusRight=function(e){var t=this,n=this._shouldWrapFocus(this._activeElement,Ud);return!!this._moveFocus(!Ac(e),(function(r,i){var o=-1;return(Ac(e)?parseFloat(i.bottom.toFixed(3))>parseFloat(r.top.toFixed(3)):parseFloat(i.top.toFixed(3))<parseFloat(r.bottom.toFixed(3)))&&i.left>=r.left&&t.props.direction!==ud.vertical?o=i.left-r.left:n||(o=zd),o}),void 0,n)&&(this._setFocusAlignment(this._activeElement,!0,!1),!0)},t.prototype._moveFocusPaging=function(e,t){void 0===t&&(t=!0);var n=this._activeElement;if(!n||!this._root.current)return!1;if(this._isElementInput(n)&&!this._shouldInputLoseFocus(n,e))return!1;var r=Dd(n);if(!r)return!1;var i=-1,o=void 0,a=-1,s=-1,l=r.clientHeight,c=n.getBoundingClientRect();do{if(n=e?vd(this._root.current,n):gd(this._root.current,n)){var u=n.getBoundingClientRect(),d=Math.floor(u.top),h=Math.floor(c.bottom),p=Math.floor(u.bottom),f=Math.floor(c.top),m=this._getHorizontalDistanceFromCenter(e,c,u);if(e&&d>h+l||!e&&p<f-l)break;m>-1&&(e&&d>a?(a=d,i=m,o=n):!e&&p<s?(s=p,i=m,o=n):(-1===i||m<=i)&&(i=m,o=n))}}while(n);var g=!1;if(o&&o!==this._activeElement)g=!0,this.focusElement(o),this._setFocusAlignment(o,!1,!0);else if(this.props.isCircularNavigation&&t)return e?this.focusElement(vd(this._root.current,this._root.current.firstElementChild,!0)):this.focusElement(gd(this._root.current,this._root.current.lastElementChild,!0,!0,!0));return g},t.prototype._setFocusAlignment=function(e,t,n){if(this.props.direction===ud.bidirectional&&(!this._focusAlignment||t||n)){var r=e.getBoundingClientRect(),i=r.left+r.width/2,o=r.top+r.height/2;this._focusAlignment||(this._focusAlignment={left:i,top:o}),t&&(this._focusAlignment.left=i),n&&(this._focusAlignment.top=o)}},t.prototype._isImmediateDescendantOfZone=function(e){return this._getOwnerZone(e)===this._root.current},t.prototype._getOwnerZone=function(e){for(var t=pu(e,Xd);t&&t!==this._root.current&&t!==this._getDocument().body;){if(xd(t))return t;t=pu(t,Xd)}return t},t.prototype._updateTabIndexes=function(e){!this._activeElement&&this.props.defaultTabbableElement&&"function"===typeof this.props.defaultTabbableElement&&(this._activeElement=this.props.defaultTabbableElement(this._root.current)),!e&&this._root.current&&(this._defaultFocusElement=null,e=this._root.current,this._activeElement&&!pd(e,this._activeElement)&&(this._activeElement=null)),this._activeElement&&!bd(this._activeElement,void 0,this._inShadowRoot)&&(this._activeElement=null);for(var t=e&&e.children,n=0;t&&n<t.length;n++){var r=t[n];xd(r)?"true"===r.getAttribute(Ld)&&(this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==r?"-1"!==r.getAttribute(Od)&&r.setAttribute(Od,"-1"):(this._defaultFocusElement=r,"0"!==r.getAttribute(Od)&&r.setAttribute(Od,"0"))):(r.getAttribute&&"false"===r.getAttribute(Ld)&&r.setAttribute(Od,"-1"),bd(r,void 0,this._inShadowRoot)?this.props.disabled?r.setAttribute(Od,"-1"):this._isInnerZone||(this._activeElement||this._defaultFocusElement)&&this._activeElement!==r?"-1"!==r.getAttribute(Od)&&r.setAttribute(Od,"-1"):(this._defaultFocusElement=r,"0"!==r.getAttribute(Od)&&r.setAttribute(Od,"0")):"svg"===r.tagName&&"false"!==r.getAttribute("focusable")&&r.setAttribute("focusable","false")),this._updateTabIndexes(r)}},t.prototype._isContentEditableElement=function(e){return e&&"true"===e.getAttribute("contenteditable")},t.prototype._isElementInput=function(e){return!(!e||!e.tagName||"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase())},t.prototype._shouldInputLoseFocus=function(e,t){if(!this._processingTabKey&&e&&e.type&&jd.indexOf(e.type.toLowerCase())>-1){var n=e.selectionStart,r=n!==e.selectionEnd,i=e.value,o=e.readOnly;if(r||n>0&&!t&&!o||n!==i.length&&t&&!o||this.props.handleTabKey&&(!this.props.shouldInputLoseFocusOnArrowKey||!this.props.shouldInputLoseFocusOnArrowKey(e)))return!1}return!0},t.prototype._shouldWrapFocus=function(e,t){return!this.props.checkForNoWrap||Ed(e,t)},t.prototype._portalContainsElement=function(e){return e&&!!this._root.current&&gu(e,this._root.current)},t.prototype._getDocument=function(){return Za(this._root.current)},t.contextType=kd,t.defaultProps={isCircularNavigation:!1,direction:ud.bidirectional,shouldRaiseClicks:!0,"data-tabster":'{"uncontrolled": {}}'},t}(r.Component);function qd(e){var t;if("undefined"===typeof Vd||e){var n=ga(),r=null===(t=null===n||void 0===n?void 0:n.navigator)||void 0===t?void 0:t.userAgent;Vd=!!r&&-1!==r.indexOf("Macintosh")}return!!Vd}var Yd=function(){return!!(window&&window.navigator&&window.navigator.userAgent)&&/iPad|iPhone|iPod/i.test(window.navigator.userAgent)};var Zd,Qd,Jd=oa((function(e){var t=e;return oa((function(n){if(e===n)throw new Error("Attempted to compose a component with itself.");var i=n,o=oa((function(e){return function(t){return r.createElement(i,hi({},t,{defaultRender:e}))}}));return function(e){var n=e.defaultRender;return r.createElement(t,hi({},e,{defaultRender:n?o(n):i}))}}))}));function $d(e,t){return Jd(e)(t)}function eh(e){return e.canCheck?!(!e.isChecked&&!e.checked):"boolean"===typeof e.isChecked?e.isChecked:"boolean"===typeof e.checked?e.checked:null}function th(e){return!(!e.subMenuProps&&!e.items)}function nh(e){return!(!e.isDisabled&&!e.disabled)}function rh(e){return null!==eh(e)?"menuitemcheckbox":"menuitem"}function ih(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}!function(e){e[e.top=1]="top",e[e.bottom=-1]="bottom",e[e.left=2]="left",e[e.right=-2]="right"}(Zd||(Zd={})),function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.start=2]="start",e[e.end=3]="end"}(Qd||(Qd={}));var oh,ah=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.top=n,this.bottom=r,this.left=e,this.right=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!1,configurable:!0}),e.prototype.equals=function(e){return parseFloat(this.top.toFixed(4))===parseFloat(e.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(e.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(e.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(e.right.toFixed(4))},e}();function sh(e,t,n){return{targetEdge:e,alignmentEdge:t,isAuto:n}}var lh=((oh={})[Ku]=sh(Zd.top,Zd.left),oh[qu]=sh(Zd.top),oh[Yu]=sh(Zd.top,Zd.right),oh[Zu]=sh(Zd.top,void 0,!0),oh[Qu]=sh(Zd.bottom,Zd.left),oh[Ju]=sh(Zd.bottom),oh[$u]=sh(Zd.bottom,Zd.right),oh[ed]=sh(Zd.bottom,void 0,!0),oh[td]=sh(Zd.left,Zd.top),oh[nd]=sh(Zd.left),oh[rd]=sh(Zd.left,Zd.bottom),oh[id]=sh(Zd.right,Zd.top),oh[od]=sh(Zd.right),oh[ad]=sh(Zd.right,Zd.bottom),oh);function ch(e,t){return!(e.top<t.top)&&(!(e.bottom>t.bottom)&&(!(e.left<t.left)&&!(e.right>t.right)))}function uh(e,t){var n=[];return e.top<t.top&&n.push(Zd.top),e.bottom>t.bottom&&n.push(Zd.bottom),e.left<t.left&&n.push(Zd.left),e.right>t.right&&n.push(Zd.right),n}function dh(e,t){return e[Zd[t]]}function hh(e,t,n){return e[Zd[t]]=n,e}function ph(e,t){var n=Mh(t);return(dh(e,n.positiveEdge)+dh(e,n.negativeEdge))/2}function fh(e,t){return e>0?t:-1*t}function mh(e,t){return fh(e,dh(t,e))}function gh(e,t,n){return fh(n,dh(e,n)-dh(t,n))}function vh(e,t,n,r){void 0===r&&(r=!0);var i=dh(e,t)-n,o=hh(e,t,n);return r&&(o=hh(e,-1*t,dh(e,-1*t)-i)),o}function _h(e,t,n,r){return void 0===r&&(r=0),vh(e,n,dh(t,n)+fh(n,r))}function yh(e,t,n){return mh(n,e)>mh(n,t)}function bh(e,t){for(var n=0,r=0,i=uh(e,t);r<i.length;r++){var o=i[r];n+=Math.pow(gh(e,t,o),2)}return n}function xh(e,t,n,r){return void 0===r&&(r=200),(n===Zd.bottom||n===Zd.top)&&gh(e,t,n)>=r}function Sh(e,t,n,r,i,o,a,s,l){void 0===i&&(i=!1),void 0===a&&(a=0);var c=r.alignmentEdge,u=r.alignTargetEdge,d={elementRectangle:e,targetEdge:r.targetEdge,alignmentEdge:c};s||l||(d=function(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===a&&(a=0);var s=[Zd.left,Zd.right,Zd.bottom,Zd.top];Ac()&&(s[0]*=-1,s[1]*=-1);for(var l,c=e,u=r.targetEdge,d=r.alignmentEdge,h=u,p=d,f=0;f<4;f++){if(yh(c,n,u))return{elementRectangle:c,targetEdge:u,alignmentEdge:d};if(i&&xh(t,n,u,o)){switch(u){case Zd.bottom:c.bottom=n.bottom;break;case Zd.top:c.top=n.top}return{elementRectangle:c,targetEdge:u,alignmentEdge:d,forcedInBounds:!0}}var m=bh(c,n);(!l||m<l)&&(l=m,h=u,p=d),s.splice(s.indexOf(u),1),s.length>0&&(s.indexOf(-1*u)>-1?u*=-1:(d=u,u=s.slice(-1)[0]),c=Ch(e,t,{targetEdge:u,alignmentEdge:d},a))}return{elementRectangle:c=Ch(e,t,{targetEdge:h,alignmentEdge:p},a),targetEdge:h,alignmentEdge:p}}(e,t,n,r,i,o,a));var h=uh(d.elementRectangle,n),p=s?-d.targetEdge:void 0;if(h.length>0)if(u)if(d.alignmentEdge&&h.indexOf(-1*d.alignmentEdge)>-1){var f=function(e,t,n,r){var i=e.alignmentEdge,o=e.targetEdge,a=-1*i;return{elementRectangle:Ch(e.elementRectangle,t,{targetEdge:o,alignmentEdge:a},n,r),targetEdge:o,alignmentEdge:a}}(d,t,a,l);if(ch(f.elementRectangle,n))return f;d=Eh(uh(f.elementRectangle,n),d,n,p)}else d=Eh(h,d,n,p);else d=Eh(h,d,n,p);return d}function Eh(e,t,n,r){for(var i=0,o=e;i<o.length;i++){var a=o[i],s=void 0;if(r&&r===-1*a)s=vh(t.elementRectangle,a,dh(n,a),!1),t.forcedInBounds=!0;else yh(s=_h(t.elementRectangle,n,a),n,-1*a)||(s=vh(s,-1*a,dh(n,-1*a),!1),t.forcedInBounds=!0);t.elementRectangle=s}return t}function wh(e,t,n){var r=Mh(t).positiveEdge;return vh(e,r,n-(ph(e,t)-dh(e,r)))}function Ch(e,t,n,r,i){void 0===r&&(r=0);var o=new ah(e.left,e.right,e.top,e.bottom),a=n.alignmentEdge,s=n.targetEdge,l=i?s:-1*s;(o=i?_h(o,t,s,r):function(e,t,n,r){void 0===r&&(r=0);var i=fh(-1*n,r);return vh(e,-1*n,dh(t,n)+i)}(o,t,s,r),a)?o=_h(o,t,a):o=wh(o,l,ph(t,s));return o}function Mh(e){return e===Zd.top||e===Zd.bottom?{positiveEdge:Zd.left,negativeEdge:Zd.right}:{positiveEdge:Zd.top,negativeEdge:Zd.bottom}}function Th(e,t,n){return n&&Math.abs(gh(e,n,t))>Math.abs(gh(e,n,-1*t))?-1*t:t}function Rh(e,t,n,r,i,o,a,s){var l,c={},u=Nh(t),d=o?n:-1*n,h=i||Mh(n).positiveEdge;return a&&!function(e,t,n){return void 0!==n&&dh(e,t)===dh(n,t)}(e,(l=h,-1*l),r)||(h=Th(e,h,r)),c[Zd[d]]=gh(e,u,d),c[Zd[h]]=gh(e,u,h),s&&(c[Zd[-1*d]]=gh(e,u,-1*d),c[Zd[-1*h]]=gh(e,u,-1*h)),c}function Ah(e){return Math.sqrt(e*e*2)}function Ph(e,t,n){if(void 0===e&&(e=ed),n)return{alignmentEdge:n.alignmentEdge,isAuto:n.isAuto,targetEdge:n.targetEdge};var r=hi({},lh[e]);return Ac()?(r.alignmentEdge&&r.alignmentEdge%2===0&&(r.alignmentEdge=-1*r.alignmentEdge),void 0!==t?lh[t]:r):r}function Dh(e,t,n){var r=ph(t,e),i=ph(n,e),o=Mh(e),a=o.positiveEdge,s=o.negativeEdge;return r<=i?a:s}function Ih(e,t,n,r,i,o,a,s,l){void 0===o&&(o=!1);var c=Ch(e,t,r,i,l);return ch(c,n)?{elementRectangle:c,targetEdge:r.targetEdge,alignmentEdge:r.alignmentEdge}:Sh(c,t,n,r,o,a,i,s,l)}function kh(e,t,n){var r=-1*e.targetEdge,i=new ah(0,e.elementRectangle.width,0,e.elementRectangle.height),o={},a=Th(e.elementRectangle,e.alignmentEdge?e.alignmentEdge:Mh(r).positiveEdge,n),s=gh(e.elementRectangle,e.targetRectangle,r)>Math.abs(dh(t,r));return o[Zd[r]]=dh(t,r),o[Zd[a]]=gh(t,i,a),{elementPosition:hi({},o),closestEdge:Dh(e.targetEdge,t,i),targetEdge:r,hideBeak:!s}}function Lh(e,t){var n=t.targetRectangle,r=Mh(t.targetEdge),i=r.positiveEdge,o=r.negativeEdge,a=ph(n,t.targetEdge),s=new ah(e/2,t.elementRectangle.width-e/2,e/2,t.elementRectangle.height-e/2),l=new ah(0,e,0,e);return yh(l=wh(l=vh(l,-1*t.targetEdge,-e/2),-1*t.targetEdge,a-mh(i,t.elementRectangle)),s,i)?yh(l,s,o)||(l=_h(l,s,o)):l=_h(l,s,i),l}function Nh(e){var t=e.getBoundingClientRect();return new ah(t.left,t.right,t.top,t.bottom)}function Oh(e){return new ah(e.left,e.right,e.top,e.bottom)}function Fh(e,t,n,r,i,o){void 0===i&&(i=!1);var a=e.gapSpace?e.gapSpace:0,s=function(e,t){var n;if(t){if(t.preventDefault){var r=t;n=new ah(r.clientX,r.clientX,r.clientY,r.clientY)}else if(t.getBoundingClientRect)n=Nh(t);else{var i=t,o=i.left||i.x,a=i.top||i.y,s=i.right||o,l=i.bottom||a;n=new ah(o,s,a,l)}if(!ch(n,e))for(var c=0,u=uh(n,e);c<u.length;c++){var d=u[c];n[Zd[d]]=e[Zd[d]]}}else n=new ah(0,0,0,0);return n}(n,e.target),l=function(e,t,n,r,i){return e.isAuto&&(e.alignmentEdge=Dh(e.targetEdge,t,n)),e.alignTargetEdge=i,e}(Ph(e.directionalHint,e.directionalHintForRTL,r),s,n,e.coverTarget,e.alignTargetEdge),c=Ih(Nh(t),s,n,l,a,i,o,e.directionalHintFixed,e.coverTarget);return hi(hi({},c),{targetRectangle:s})}function Uh(e,t,n,r,i){return{elementPosition:Rh(e.elementRectangle,t,e.targetEdge,n,e.alignmentEdge,r,i,e.forcedInBounds),targetEdge:e.targetEdge,alignmentEdge:e.alignmentEdge}}function Bh(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Ah(e?t:0)/2+n}function zh(e,t,n,r,i,o,a,s){void 0===i&&(i=!1);var l=null!==s&&void 0!==s?s:ga(),c=e.isBeakVisible&&e.beakWidth||0,u=Bh(e.isBeakVisible,e.beakWidth,e.gapSpace),d=e;d.gapSpace=u;var h=e.bounds?Oh(e.bounds):new ah(0,l.innerWidth-function(e){if(void 0===wd){var t=null!==e&&void 0!==e?e:Za(),n=t.createElement("div");n.style.setProperty("width","100px"),n.style.setProperty("height","100px"),n.style.setProperty("overflow","scroll"),n.style.setProperty("position","absolute"),n.style.setProperty("top","-9999px"),t.body.appendChild(n),wd=n.offsetWidth-n.clientWidth,t.body.removeChild(n)}return wd}(),0,l.innerHeight),p=Fh(d,n,h,r,i,o),f=kh(p,Lh(c,p),h);return hi(hi({},Uh(p,t,h,e.coverTarget,a)),{beakPosition:f})}function Hh(e){var t,n,r,i,o=e,a=e,s=e,l=null!==(t=s.left)&&void 0!==t?t:s.x,c=null!==(n=s.top)&&void 0!==n?n:s.y,u=null!==(r=s.right)&&void 0!==r?r:l,d=null!==(i=s.bottom)&&void 0!==i?i:c;return o.stopPropagation?new ah(o.clientX,o.clientX,o.clientY,o.clientY):void 0!==l&&void 0!==c?new ah(l,u,c,d):Nh(a)}function Vh(e,t,n,r,i){return function(e,t,n,r,i){return zh(e,t,n,r,!1,void 0,!0,null!==i&&void 0!==i?i:ga())}(e,t,n,r,i)}var Wh=["TEMPLATE","STYLE","SCRIPT"];function Gh(e){var t=Za(e);if(!t)return function(){};for(var n=[];e!==t.body&&e.parentElement;){for(var r=0,i=e.parentElement.children;r<i.length;r++){var o=i[r],a=o.getAttribute("aria-hidden");o!==e&&"true"!==(null===a||void 0===a?void 0:a.toLowerCase())&&-1===Wh.indexOf(o.tagName)&&n.push([o,a])}e=e.parentElement}return n.forEach((function(e){e[0].setAttribute("aria-hidden","true")})),function(){!function(e){e.forEach((function(e){var t=e[0],n=e[1];n?t.setAttribute("aria-hidden",n):t.removeAttribute("aria-hidden")}))}(n),n=[]}}function jh(){var e=r.useRef();return e.current||(e.current=new wu),r.useEffect((function(){return function(){var t;null===(t=e.current)||void 0===t||t.dispose(),e.current=void 0}}),[]),e.current}function Xh(e,t,n,i){var o=r.useRef(n);o.current=n,r.useEffect((function(){var n=e&&"current"in e?e.current:e;if(n&&n.addEventListener)return ih(n,t,(function(e){return o.current(e)}),i)}),[e,t,i])}function Kh(e){var t=e.originalElement,n=e.containsFocus;t&&n&&t!==ga()&&setTimeout((function(){var e;null===(e=t.focus)||void 0===e||e.call(t)}),0)}function qh(e,t){var n=e.onRestoreFocus,i=void 0===n?Kh:n,o=r.useRef(),a=r.useRef(!1);r.useEffect((function(){return o.current=Za().activeElement,function(e){var t=Za(e),n=t&&t.activeElement;return!(!n||!pd(e,n))}(t.current)&&(a.current=!0),function(){var e;null===i||void 0===i||i({originalElement:o.current,containsFocus:a.current,documentContainsFocus:(null===(e=Za())||void 0===e?void 0:e.hasFocus())||!1}),o.current=void 0}}),[]),Xh(t,"focus",r.useCallback((function(){a.current=!0}),[]),!0),Xh(t,"blur",r.useCallback((function(e){t.current&&e.relatedTarget&&!t.current.contains(e.relatedTarget)&&(a.current=!1)}),[]),!0)}var Yh=r.forwardRef((function(e,t){var n=wc({shouldRestoreFocus:!0,enableAriaHiddenSiblings:!0},e),i=r.useRef(),o=Cc(i,t);!function(e,t){var n="true"===String(e["aria-modal"]).toLowerCase()&&e.enableAriaHiddenSiblings;r.useEffect((function(){if(n&&t.current)return Gh(t.current)}),[t,n])}(n,i),qh(n,i);var a=n.role,s=n.className,l=n.ariaLabel,c=n.ariaLabelledBy,u=n.ariaDescribedBy,d=n.style,h=n.children,p=n.onDismiss,f=function(e,t){var n=jh(),i=r.useState(!1),o=i[0],a=i[1];return r.useEffect((function(){return n.requestAnimationFrame((function(){var n;if(!e.style||!e.style.overflowY){var r=!1;if(t&&t.current&&(null===(n=t.current)||void 0===n?void 0:n.firstElementChild)){var i=t.current.clientHeight,s=t.current.firstElementChild.clientHeight;i>0&&s>i&&(r=s-i>1)}o!==r&&a(r)}})),function(){return n.dispose()}})),o}(n,i),m=r.useCallback((function(e){if(e.which===Zl)p&&(p(e),e.preventDefault(),e.stopPropagation())}),[p]);return Xh(el(),"keydown",m),r.createElement("div",hi({ref:o},zl(n,Bl),{className:s,role:a,"aria-label":l,"aria-labelledby":c,"aria-describedby":u,onKeyDown:m,style:hi({overflowY:f?"scroll":void 0,outline:"none"},d)}),h)}));function Zh(e,t){var n,i,o,a=r.useRef(),s=r.useRef(null),l=el();if(!e||e!==a.current||"string"===typeof e){var c=null===t||void 0===t?void 0:t.current;if(e)if("string"===typeof e)if(null===(n=null===c||void 0===c?void 0:c.getRootNode())||void 0===n?void 0:n.host)s.current=null!==(o=null===(i=null===c||void 0===c?void 0:c.getRootNode())||void 0===i?void 0:i.querySelector(e))&&void 0!==o?o:null;else{var u=Za(c);s.current=u?u.querySelector(e):null}else s.current="stopPropagation"in e||"getBoundingClientRect"in e?e:"current"in e?e.current:e;a.current=e}return[s,l]}Yh.displayName="Popup";var Qh,Jh=function(){var e;return null!==(e=el())&&void 0!==e?e:"undefined"!==typeof window?window:void 0},$h=function(e){var t,n;return null!==(n=null===(t=null===e||void 0===e?void 0:e.window)||void 0===t?void 0:t.document)&&void 0!==n?n:"undefined"!==typeof document?document:void 0},ep=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.window)&&void 0!==t?t:"undefined"!==typeof window?window:void 0},tp=((Qh={})[Zd.top]=Zo.slideUpIn10,Qh[Zd.bottom]=Zo.slideDownIn10,Qh[Zd.left]=Zo.slideLeftIn10,Qh[Zd.right]=Zo.slideRightIn10,Qh),np=0,rp=0,ip={opacity:0,filter:"opacity(0)",pointerEvents:"none"},op=["role","aria-roledescription"],ap={preventDismissOnLostFocus:!1,preventDismissOnScroll:!1,preventDismissOnResize:!1,isBeakVisible:!0,beakWidth:16,gapSpace:0,minPagePadding:8,directionalHint:ed},sp=lu({disableCaching:!0});function lp(e,t,n,i){var o,a=e.calloutMaxHeight,s=e.finalHeight,l=e.directionalHint,c=e.directionalHintFixed,u=e.hidden,d=e.gapSpace,h=e.beakWidth,p=e.isBeakVisible,f=e.coverTarget,m=r.useState(),g=m[0],v=m[1],_=null!==(o=null===i||void 0===i?void 0:i.elementPosition)&&void 0!==o?o:{},y=_.top,b=_.bottom,x=(null===n||void 0===n?void 0:n.current)?Hh(n.current):void 0;return r.useEffect((function(){var e,n,r=null!==(e=t())&&void 0!==e?e:{},o=r.top,s=r.bottom;(null===i||void 0===i?void 0:i.targetEdge)===Zd.top&&(null===x||void 0===x?void 0:x.top)&&!f&&(s=x.top-function(e,t,n){return Bh(e,t,n)}(p,h,d)),"number"===typeof y&&s?n=s-y:"number"===typeof b&&"number"===typeof o&&s&&(n=s-o-b),v(!a&&!u||a&&n&&a>n?n:a||void 0)}),[b,a,s,l,c,t,u,i,y,d,h,p,x,f]),g}function cp(e,t,n,i,o,a){var s,l=r.useState(),c=l[0],u=l[1],d=r.useRef(0),h=r.useRef(),p=jh(),f=e.hidden,m=e.target,g=e.finalHeight,v=e.calloutMaxHeight,_=e.onPositioned,y=e.directionalHint,b=e.hideOverflow,x=e.preferScrollResizePositioning,S=Jh(),E=r.useRef();E.current!==a.current&&(E.current=a.current,s=a.current?null===S||void 0===S?void 0:S.getComputedStyle(a.current):void 0);var w=null===s||void 0===s?void 0:s.overflowY;return r.useEffect((function(){if(!f){var r=p.requestAnimationFrame((function(){var r,a,s,l;if(t.current&&n){var p=hi(hi({},e),{target:i.current,bounds:o()}),f=n.cloneNode(!0);f.style.maxHeight=v?"".concat(v):"",f.style.visibility="hidden",null===(r=n.parentElement)||void 0===r||r.appendChild(f);var y=h.current===m?c:void 0,E=x&&!(b||"clip"===w||"hidden"===w),C=g?Vh(p,t.current,f,y,S):function(e,t,n,r,i,o,a){return zh(e,t,n,r,i,o,void 0,a)}(p,t.current,f,y,E,void 0,S);null===(a=n.parentElement)||void 0===a||a.removeChild(f),!c&&C||c&&C&&(l=C,!pp((s=c).elementPosition,l.elementPosition)||!pp(s.beakPosition.elementPosition,l.beakPosition.elementPosition))&&d.current<5?(d.current++,u(C)):d.current>0&&(d.current=0,null===_||void 0===_||_(c))}}),n);return h.current=m,function(){p.cancelAnimationFrame(r),h.current=void 0}}u(void 0),d.current=0}),[f,y,p,n,v,t,i,g,o,_,c,e,m,b,x,w,S]),c}function up(e,t,n){var i=e.hidden,o=e.setInitialFocus,a=jh(),s=!!t;r.useEffect((function(){if(!i&&o&&s&&n){var e=a.requestAnimationFrame((function(){return function(e,t,n){var r=vd(e,e,!0,!1,!1,!0,void 0,void 0,t,n);return!!r&&(Md(r),!0)}(n)}),n);return function(){return a.cancelAnimationFrame(e)}}}),[i,s,a,n,o])}var dp=r.memo(r.forwardRef((function(e,t){var n=wc(ap,e),i=n.styles,o=n.style,a=n.ariaLabel,s=n.ariaDescribedBy,l=n.ariaLabelledBy,c=n.className,u=n.isBeakVisible,d=n.children,h=n.beakWidth,p=n.calloutWidth,f=n.calloutMaxWidth,m=n.calloutMinWidth,g=n.doNotLayer,v=n.finalHeight,_=n.hideOverflow,y=void 0===_?!!v:_,b=n.backgroundColor,x=n.calloutMaxHeight,S=n.onScroll,E=n.shouldRestoreFocus,w=void 0===E||E,C=n.target,M=n.hidden,T=n.onLayerMounted,R=n.popupProps,A=r.useRef(null),P=Cc(r.useRef(null),null===R||void 0===R?void 0:R.ref),D=r.useState(null),I=D[0],k=D[1],L=r.useCallback((function(e){k(e)}),[]),N=Cc(A,t),O=Zh(n.target,{current:I}),F=O[0],U=O[1],B=function(e,t,n){var i=e.bounds,o=e.minPagePadding,a=void 0===o?ap.minPagePadding:o,s=e.target,l=r.useState(!1),c=l[0],u=l[1],d=r.useRef(),h=r.useCallback((function(){if(!d.current||c){var e="function"===typeof i?n?i(s,n):void 0:i;!e&&n&&(e=function(e,t){return function(e,t){var n=void 0;if(t.getWindowSegments&&(n=t.getWindowSegments()),void 0===n||n.length<=1)return{top:0,left:0,right:t.innerWidth,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight};var r=0,i=0;if(null!==e&&e.getBoundingClientRect){var o=e.getBoundingClientRect();r=(o.left+o.right)/2,i=(o.top+o.bottom)/2}else null!==e&&(r=e.left||e.x,i=e.top||e.y);for(var a={top:0,left:0,right:0,bottom:0,width:0,height:0},s=0,l=n;s<l.length;s++){var c=l[s];r&&c.left<=r&&c.right>=r&&i&&c.top<=i&&c.bottom>=i&&(a={top:c.top,left:c.left,right:c.right,bottom:c.bottom,width:c.width,height:c.height})}return a}(e,t)}(t.current,n),e={top:e.top+a,left:e.left+a,right:e.right-a,bottom:e.bottom-a,width:e.width-2*a,height:e.height-2*a}),d.current=e,c&&u(!1)}return d.current}),[i,a,s,t,n,c]),p=jh();return Xh(n,"resize",p.debounce((function(){u(!0)}),500,{leading:!0})),h}(n,F,U),z=cp(n,A,I,F,B,P),H=lp(n,B,F,z),V=function(e,t,n,i,o){var a=e.hidden,s=e.onDismiss,l=e.preventDismissOnScroll,c=e.preventDismissOnResize,u=e.preventDismissOnLostFocus,d=e.dismissOnTargetClick,h=e.shouldDismissOnWindowFocus,p=e.preventDismissOnEvent,f=r.useRef(!1),m=jh(),g=ru([function(){f.current=!0},function(){f.current=!1}]),v=!!t;return r.useEffect((function(){var e=function(e){v&&!l&&g(e)},t=function(e){c||p&&p(e)||null===s||void 0===s||s(e)},r=function(e){u||g(e)},g=function(e){var t=e.composedPath?e.composedPath():[],r=t.length>0?t[0]:e.target,a=n.current&&!pd(n.current,r);if(a&&f.current)f.current=!1;else if(!i.current&&a||e.target!==o&&a&&(!i.current||"stopPropagation"in i.current||d||r!==i.current&&!pd(i.current,r))){if(p&&p(e))return;null===s||void 0===s||s(e)}},_=function(e){h&&((!p||p(e))&&(p||u)||(null===o||void 0===o?void 0:o.document.hasFocus())||null!==e.relatedTarget||null===s||void 0===s||s(e))},y=new Promise((function(n){m.setTimeout((function(){if(!a&&o){var i=[ih(o,"scroll",e,!0),ih(o,"resize",t,!0),ih(o.document.documentElement,"focus",r,!0),ih(o.document.documentElement,"click",r,!0),ih(o,"blur",_,!0)];n((function(){i.forEach((function(e){return e()}))}))}}),0)}));return function(){y.then((function(e){return e()}))}}),[a,m,n,i,o,s,h,d,u,c,l,v,p]),g}(n,z,A,F,U),W=V[0],G=V[1],j=(null===z||void 0===z?void 0:z.elementPosition.top)&&(null===z||void 0===z?void 0:z.elementPosition.bottom),X=hi(hi({},null===z||void 0===z?void 0:z.elementPosition),{maxHeight:H});if(j&&(X.bottom=void 0),up(n,z,I),r.useEffect((function(){M||null===T||void 0===T||T()}),[M]),!U)return null;var K=y,q=u&&!!C,Y=sp(i,{theme:n.theme,className:c,overflowYHidden:K,calloutWidth:p,positions:z,beakWidth:h,backgroundColor:b,calloutMaxWidth:f,calloutMinWidth:m,doNotLayer:g}),Z=hi(hi({maxHeight:x||"100%"},o),K&&{overflowY:"hidden"}),Q=n.hidden?{visibility:"hidden"}:void 0;return r.createElement("div",{ref:N,className:Y.container,style:Q},r.createElement("div",hi({},zl(n,Bl,op),{className:Js(Y.root,z&&z.targetEdge&&tp[z.targetEdge]),style:z?hi({},X):ip,tabIndex:-1,ref:L}),q&&r.createElement("div",{className:Y.beak,style:hp(z)}),q&&r.createElement("div",{className:Y.beakCurtain}),r.createElement(Yh,hi({role:n.role,"aria-roledescription":n["aria-roledescription"],ariaDescribedBy:s,ariaLabel:a,ariaLabelledBy:l,className:Y.calloutMain,onDismiss:n.onDismiss,onMouseDown:W,onMouseUp:G,onRestoreFocus:n.onRestoreFocus,onScroll:S,shouldRestoreFocus:w,style:Z},R,{ref:P}),d)))})),(function(e,t){return!(t.shouldUpdateWhenHidden||!e.hidden||!t.hidden)||Wl(e,t)}));function hp(e){var t,n,r=hi(hi({},null===(t=null===e||void 0===e?void 0:e.beakPosition)||void 0===t?void 0:t.elementPosition),{display:(null===(n=null===e||void 0===e?void 0:e.beakPosition)||void 0===n?void 0:n.hideBeak)?"none":void 0});return r.top||r.bottom||r.left||r.right||(r.left=rp,r.top=np),r}function pp(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e[n],i=t[n];if(void 0===r||void 0===i)return!1;if(r.toFixed(2)!==i.toFixed(2))return!1}return!0}function fp(e){return{height:e,width:e}}dp.displayName="CalloutContentBase";var mp={container:"ms-Callout-container",root:"ms-Callout",beak:"ms-Callout-beak",beakCurtain:"ms-Callout-beakCurtain",calloutMain:"ms-Callout-main"},gp=nu(dp,(function(e){var t,n=e.theme,r=e.className,i=e.overflowYHidden,o=e.calloutWidth,a=e.beakWidth,s=e.backgroundColor,l=e.calloutMaxWidth,c=e.calloutMinWidth,u=e.doNotLayer,d=ca(mp,n),h=n.semanticColors,p=n.effects;return{container:[d.container,{position:"relative"}],root:[d.root,n.fonts.medium,{position:"absolute",display:"flex",zIndex:u?va.Layer:void 0,boxSizing:"border-box",borderRadius:p.roundedCorner2,boxShadow:p.elevation16,selectors:(t={},t[ua]={borderWidth:1,borderStyle:"solid",borderColor:"WindowText"},t)},{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}},r,!!o&&{width:o},!!l&&{maxWidth:l},!!c&&{minWidth:c}],beak:[d.beak,{position:"absolute",backgroundColor:h.menuBackground,boxShadow:"inherit",border:"inherit",boxSizing:"border-box",transform:"rotate(45deg)"},fp(a),s&&{backgroundColor:s}],beakCurtain:[d.beakCurtain,{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:h.menuBackground,borderRadius:p.roundedCorner2}],calloutMain:[d.calloutMain,{backgroundColor:h.menuBackground,overflowX:"hidden",overflowY:"auto",position:"relative",width:"100%",borderRadius:p.roundedCorner2},i&&{overflowY:"hidden"},s&&{backgroundColor:s}]}}),void 0,{scope:"CalloutContent"}),vp=r.createContext(void 0),_p=function(){return function(){}};vp.Provider;function yp(e,t){void 0===e&&(e={});var n=xp(t)?t:function(e){return function(t){return e?hi(hi({},t),e):t}}(t);return n(e)}function bp(e,t){return void 0===e&&(e={}),(xp(t)?t:function(e){void 0===e&&(e={});return function(t){var n=hi({},t);for(var r in e)e.hasOwnProperty(r)&&(n[r]=hi(hi({},t[r]),e[r]));return n}}(t))(e)}function xp(e){return"function"===typeof e}var Sp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onCustomizationChange=function(){return t.forceUpdate()},t}return di(t,e),t.prototype.componentDidMount=function(){ka.observe(this._onCustomizationChange)},t.prototype.componentWillUnmount=function(){ka.unobserve(this._onCustomizationChange)},t.prototype.render=function(){var e=this,t=this.props.contextTransform;return r.createElement(nl.Consumer,null,(function(n){var i=function(e,t){var n=(t||{}).customizations,r=void 0===n?{settings:{},scopedSettings:{}}:n;return{customizations:{settings:yp(r.settings,e.settings),scopedSettings:bp(r.scopedSettings,e.scopedSettings),inCustomizerContext:!0}}}(e.props,n);return t&&(i=t(i)),r.createElement(nl.Provider,{value:i},e.props.children)}))},t}(r.Component),Ep=lu(),wp=ia((function(e,t){return ls(hi(hi({},e),{rtl:t}))})),Cp=r.forwardRef((function(e,t){var n=e.className,i=e.theme,o=e.applyTheme,a=e.applyThemeToBody,s=e.styles,l=Ep(s,{theme:i,applyTheme:o,className:n}),c=r.useRef(null);return function(e,t,n){var i=t.bodyThemed;r.useEffect((function(){if(e){var t=Za(n.current);if(t)return t.body.classList.add(i),function(){t.body.classList.remove(i)}}}),[i,e,n])}(a,l,c),r.createElement(r.Fragment,null,function(e,t,n,i){var o=t.root,a=e.as,s=void 0===a?"div":a,l=e.dir,c=e.theme,u=zl(e,Bl,["dir"]),d=function(e){var t=e.theme,n=e.dir,r=Ac(t)?"rtl":"ltr",i=Ac()?"rtl":"ltr",o=n||r;return{rootDir:o!==r||o!==i?o:n,needsTheme:o!==r}}(e),h=d.rootDir,p=d.needsTheme,f=r.createElement(bc,{providerRef:n},r.createElement(s,hi({dir:h},u,{className:o,ref:Cc(n,i)})));p&&(f=r.createElement(Sp,{settings:{theme:wp(c,"rtl"===l)}},f));return f}(e,l,c,t))}));Cp.displayName="FabricBase";var Mp={fontFamily:"inherit"},Tp={root:"ms-Fabric",bodyThemed:"ms-Fabric-bodyThemed"},Rp=nu(Cp,(function(e){var t=e.applyTheme,n=e.className,r=e.preventBlanketFontInheritance,i=e.theme;return{root:[ca(Tp,i).root,i.fonts.medium,{color:i.palette.neutralPrimary},!r&&{"& button":Mp,"& input":Mp,"& textarea":Mp},t&&{color:i.semanticColors.bodyText,backgroundColor:i.semanticColors.bodyBackground},n],bodyThemed:[{backgroundColor:i.semanticColors.bodyBackground}]}}),void 0,{scope:"Fabric"});var Ap={},Pp={},Dp="fluent-default-layer-host",Ip="#".concat(Dp);var kp,Lp=lu(),Np=r.forwardRef((function(e,t){var n=function(){var e;return null!==(e=r.useContext(vp))&&void 0!==e?e:_p}(),i=r.useRef(null),o=Cc(i,t),a=r.useRef(),s=r.useRef(null),l=r.useContext(pc),c=r.useState(!1),u=c[0],d=c[1],h=r.useCallback((function(e){var t,n=!!(null===(t=null===l||void 0===l?void 0:l.providerRef)||void 0===t?void 0:t.current)&&t.current.classList.contains(_a);e&&n&&e.classList.add(_a)}),[l]),p=e.children,f=e.className,m=e.eventBubblingEnabled,g=e.fabricProps,v=e.hostId,_=e.insertFirst,y=e.onLayerDidMount,b=void 0===y?function(){}:y,x=e.onLayerMounted,S=void 0===x?function(){}:x,E=e.onLayerWillUnmount,w=e.styles,C=e.theme,M=Cc(s,null===g||void 0===g?void 0:g.ref,h),T=Lp(w,{theme:C,className:f,isNotHost:!v}),R=function(e,t){var n,r;void 0===t&&(t=null);var i=null!==t&&void 0!==t?t:e;if(v){var o=function(e){var t=Pp[e];return t&&t[0]||void 0}(v);return o?null!==(n=o.rootRef.current)&&void 0!==n?n:null:null!==(r=i.getElementById(v))&&void 0!==r?r:null}var a=Ip,s=a?i.querySelector(a):null;return s||(s=function(e,t){void 0===t&&(t=null);var n=e.createElement("div");return n.setAttribute("id",Dp),n.style.cssText="position:fixed;z-index:1000000",t?t.appendChild(n):null===e||void 0===e||e.body.appendChild(n),n}(e,t)),s},A=function(){null===E||void 0===E||E();var e=a.current;a.current=void 0,e&&e.parentNode&&e.parentNode.removeChild(e)},P=function(){var e,t,n,r,o=Za(i.current),s=(null===(t=null===(e=i.current)||void 0===e?void 0:e.getRootNode())||void 0===t?void 0:t.host)?null===(n=null===i||void 0===i?void 0:i.current)||void 0===n?void 0:n.getRootNode():void 0;if(o&&(o||s)){var l=R(o,s);if(l){l.__tabsterElementFlags||(l.__tabsterElementFlags={}),l.__tabsterElementFlags.noDirectAriaHidden=!0,A();var c=(null!==(r=l.ownerDocument)&&void 0!==r?r:o).createElement("div");c.className=T.root,c.setAttribute(mu,"true"),function(e,t){var n=e,r=t;n._virtual||(n._virtual={children:[]});var i=n._virtual.parent;if(i&&i!==t){var o=i._virtual.children.indexOf(n);o>-1&&i._virtual.children.splice(o,1)}n._virtual.parent=r||void 0,r&&(r._virtual||(r._virtual={children:[]}),r._virtual.children.push(n))}(c,i.current),_?l.insertBefore(c,l.firstChild):l.appendChild(c),a.current=c,d(!0)}}};return ku((function(){P(),v&&function(e,t){Ap[e]||(Ap[e]=[]),Ap[e].push(t);var n=Pp[e];if(n)for(var r=0,i=n;r<i.length;r++)i[r].notifyLayersChanged()}(v,P);var e=a.current?n(a.current):void 0;return function(){e&&e(),A(),v&&function(e,t){var n=Ap[e];if(n){var r=n.indexOf(t);r>=0&&(n.splice(r,1),0===n.length&&delete Ap[e])}var i=Pp[e];if(i)for(var o=0,a=i;o<a.length;o++)a[o].notifyLayersChanged()}(v,P)}}),[v]),r.useEffect((function(){a.current&&u&&(null===S||void 0===S||S(),null===b||void 0===b||b(),d(!1))}),[u,S,b]),r.createElement("span",{className:"ms-layer",ref:o},a.current&&Sr.createPortal(r.createElement(bc,{layerRoot:!0,providerRef:M},r.createElement(Rp,hi({},!m&&function(){kp||(kp={},["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onTouchMove","onTouchStart","onTouchCancel","onTouchEnd","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onInvalid","onSubmit"].forEach((function(e){return kp[e]=Op})));return kp}(),g,{className:Js(T.content,null===g||void 0===g?void 0:g.className),ref:M}),p)),a.current))}));Np.displayName="LayerBase";var Op=function(e){e.eventPhase===Event.BUBBLING_PHASE&&"mouseenter"!==e.type&&"mouseleave"!==e.type&&"touchstart"!==e.type&&"touchend"!==e.type&&e.stopPropagation()};var Fp={root:"ms-Layer",rootNoHost:"ms-Layer--fixed",content:"ms-Layer-content"},Up=nu(Np,(function(e){var t=e.className,n=e.isNotHost,r=e.theme,i=ca(Fp,r);return{root:[i.root,r.fonts.medium,n&&[i.rootNoHost,{position:"fixed",zIndex:va.Layer,top:0,left:0,bottom:0,right:0,visibility:"hidden"}],t],content:[i.content,{visibility:"visible"}]}}),void 0,{scope:"Layer",fields:["hostId","theme","styles"]}),Bp=r.forwardRef((function(e,t){var n=e.layerProps,i=e.doNotLayer,o=pi(e,["layerProps","doNotLayer"]),a=r.createElement(gp,hi({},o,{doNotLayer:i,ref:t}));return i?a:r.createElement(Up,hi({},n),a)}));Bp.displayName="Callout";var zp,Hp=function(e){var t=e.item,n=e.classNames,i=t.iconProps;return r.createElement(ju,hi({},i,{className:n.icon}))},Vp=function(e){var t=e.item;return e.hasIcons?t.onRenderIcon?t.onRenderIcon(e,Hp):Hp(e):null},Wp=function(e){var t=e.onCheckmarkClick,n=e.item,i=e.classNames,o=eh(n);if(t){return r.createElement(ju,{iconName:!1!==n.canCheck&&o?"CheckMark":"",className:i.checkmarkIcon,onClick:function(e){return t(n,e)}})}return null},Gp=function(e){var t=e.item,n=e.classNames;return t.text||t.name?r.createElement("span",{className:n.label},t.text||t.name):null},jp=function(e){var t=e.item,n=e.classNames;return t.secondaryText?r.createElement("span",{className:n.secondaryText},t.secondaryText):null},Xp=function(e){var t=e.item,n=e.classNames,i=e.theme;return th(t)?r.createElement(ju,hi({iconName:Ac(i)?"ChevronLeft":"ChevronRight"},t.submenuIconProps,{className:n.subMenuIcon})):null},Kp=function(e){function t(t){var n=e.call(this,t)||this;return n.openSubMenu=function(){var e=n.props,t=e.item,r=e.openSubMenu,i=e.getSubmenuTarget;if(i){var o=i();th(t)&&r&&o&&r(t,o)}},n.dismissSubMenu=function(){var e=n.props,t=e.item,r=e.dismissSubMenu;th(t)&&r&&r()},n.dismissMenu=function(e){var t=n.props.dismissMenu;t&&t(void 0,e)},yu(n),n}return di(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.classNames,i=t.onRenderContent||this._renderLayout;return r.createElement("div",{className:t.split?n.linkContentMenu:n.linkContent},i(this.props,{renderCheckMarkIcon:Wp,renderItemIcon:Vp,renderItemName:Gp,renderSecondaryText:jp,renderSubMenuIcon:Xp}))},t.prototype._renderLayout=function(e,t){return r.createElement(r.Fragment,null,t.renderCheckMarkIcon(e),t.renderItemIcon(e),t.renderItemName(e),t.renderSecondaryText(e),t.renderSubMenuIcon(e))},t}(r.Component),qp=ia((function(e){return Cs({wrapper:{display:"inline-flex",height:"100%",alignItems:"center"},divider:{width:1,height:"100%",backgroundColor:e.palette.neutralTertiaryAlt}})})),Yp=36,Zp=pa(0,639),Qp=ia((function(e){var t,n,r,i,o,a=e.semanticColors,s=e.fonts,l=e.palette,c=a.menuItemBackgroundHovered,u=a.menuItemTextHovered,d=a.menuItemBackgroundPressed,h=a.bodyDivider;return Es({item:[s.medium,{color:a.bodyText,position:"relative",boxSizing:"border-box"}],divider:{display:"block",height:"1px",backgroundColor:h,position:"relative"},root:[Sa(e),s.medium,{color:a.bodyText,backgroundColor:"transparent",border:"none",width:"100%",height:Yp,lineHeight:Yp,display:"block",cursor:"pointer",padding:"0px 8px 0 4px",textAlign:"left"}],rootDisabled:{color:a.disabledBodyText,cursor:"default",pointerEvents:"none",selectors:(t={},t[ua]={color:"GrayText",opacity:1},t)},rootHovered:{backgroundColor:c,color:u,selectors:{".ms-ContextualMenu-icon":{color:l.themeDarkAlt},".ms-ContextualMenu-submenuIcon":{color:l.neutralPrimary}}},rootFocused:{backgroundColor:l.white},rootChecked:{selectors:{".ms-ContextualMenu-checkmarkIcon":{color:l.neutralPrimary}}},rootPressed:{backgroundColor:d,selectors:{".ms-ContextualMenu-icon":{color:l.themeDark},".ms-ContextualMenu-submenuIcon":{color:l.neutralPrimary}}},rootExpanded:{backgroundColor:d,color:a.bodyTextChecked,selectors:(n={".ms-ContextualMenu-submenuIcon":(r={},r[ua]={color:"inherit"},r)},n[ua]=hi({},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),n)},linkContent:{whiteSpace:"nowrap",height:"inherit",display:"flex",alignItems:"center",maxWidth:"100%"},anchorLink:{padding:"0px 8px 0 4px",textRendering:"auto",color:"inherit",letterSpacing:"normal",wordSpacing:"normal",textTransform:"none",textIndent:"0px",textShadow:"none",textDecoration:"none",boxSizing:"border-box"},label:{margin:"0 4px",verticalAlign:"middle",display:"inline-block",flexGrow:"1",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},secondaryText:{color:e.palette.neutralSecondary,paddingLeft:"20px",textAlign:"right"},icon:{display:"inline-block",minHeight:"1px",maxHeight:Yp,fontSize:Yo.medium,width:Yo.medium,margin:"0 4px",verticalAlign:"middle",flexShrink:"0",selectors:(i={},i[Zp]={fontSize:Yo.large,width:Yo.large},i)},iconColor:{color:a.menuIcon},iconDisabled:{color:a.disabledBodyText},checkmarkIcon:{color:a.bodySubtext},subMenuIcon:{height:Yp,lineHeight:Yp,color:l.neutralSecondary,textAlign:"center",display:"inline-block",verticalAlign:"middle",flexShrink:"0",fontSize:Yo.small,selectors:(o={":hover":{color:l.neutralPrimary},":active":{color:l.neutralPrimary}},o[Zp]={fontSize:Yo.medium},o)},splitButtonFlexContainer:[Sa(e),{display:"flex",height:Yp,flexWrap:"nowrap",justifyContent:"center",alignItems:"flex-start"}]})})),Jp="28px",$p=pa(0,639),ef=ia((function(e){var t;return Cs(qp(e),{wrapper:{position:"absolute",right:28,selectors:(t={},t[$p]={right:32},t)},divider:{height:16,width:1}})})),tf={item:"ms-ContextualMenu-item",divider:"ms-ContextualMenu-divider",root:"ms-ContextualMenu-link",isChecked:"is-checked",isExpanded:"is-expanded",isDisabled:"is-disabled",linkContent:"ms-ContextualMenu-linkContent",linkContentMenu:"ms-ContextualMenu-linkContent",icon:"ms-ContextualMenu-icon",iconColor:"ms-ContextualMenu-iconColor",checkmarkIcon:"ms-ContextualMenu-checkmarkIcon",subMenuIcon:"ms-ContextualMenu-submenuIcon",label:"ms-ContextualMenu-itemText",secondaryText:"ms-ContextualMenu-secondaryText",splitMenu:"ms-ContextualMenu-splitMenu",screenReaderText:"ms-ContextualMenu-screenReaderText"},nf=ia((function(e,t,n,r,i,o,a,s,l,c,u,d){var h,p,f,m,g=Qp(e),v=ca(tf,e);return Cs({item:[v.item,g.item,a],divider:[v.divider,g.divider,s],root:[v.root,g.root,r&&[v.isChecked,g.rootChecked],i&&g.anchorLink,n&&[v.isExpanded,g.rootExpanded],t&&[v.isDisabled,g.rootDisabled],!t&&!n&&[{selectors:(h={":hover":g.rootHovered,":active":g.rootPressed},h[".".concat(_a," &:focus, .").concat(_a," &:focus:hover, :host(.").concat(_a,") &:focus, :host(.").concat(_a,") &:focus:hover")]=g.rootFocused,h[".".concat(_a," &:hover, :host(.").concat(_a,") &:hover")]={background:"inherit;"},h)}],d],splitPrimary:[g.root,{width:"calc(100% - ".concat(Jp,")")},r&&["is-checked",g.rootChecked],(t||u)&&["is-disabled",g.rootDisabled],!(t||u)&&!r&&[{selectors:(p={":hover":g.rootHovered},p[":hover ~ .".concat(v.splitMenu)]=g.rootHovered,p[":active"]=g.rootPressed,p[".".concat(_a," &:focus, .").concat(_a," &:focus:hover, :host(.").concat(_a,") &:focus, :host(.").concat(_a,") &:focus:hover")]=g.rootFocused,p[".".concat(_a," &:hover, :host(.").concat(_a,") &:hover")]={background:"inherit;"},p)}]],splitMenu:[v.splitMenu,g.root,{flexBasis:"0",padding:"0 8px",minWidth:Jp},n&&["is-expanded",g.rootExpanded],t&&["is-disabled",g.rootDisabled],!t&&!n&&[{selectors:(f={":hover":g.rootHovered,":active":g.rootPressed},f[".".concat(_a," &:focus, .").concat(_a," &:focus:hover, :host(.").concat(_a,") &:focus, :host(.").concat(_a,") &:focus:hover")]=g.rootFocused,f[".".concat(_a," &:hover, :host(.").concat(_a,") &:hover")]={background:"inherit;"},f)}]],anchorLink:g.anchorLink,linkContent:[v.linkContent,g.linkContent],linkContentMenu:[v.linkContentMenu,g.linkContent,{justifyContent:"center"}],icon:[v.icon,o&&g.iconColor,g.icon,l,t&&[v.isDisabled,g.iconDisabled]],iconColor:g.iconColor,checkmarkIcon:[v.checkmarkIcon,o&&g.checkmarkIcon,g.icon,l],subMenuIcon:[v.subMenuIcon,g.subMenuIcon,c,n&&{color:e.palette.neutralPrimary},t&&[g.iconDisabled]],label:[v.label,g.label],secondaryText:[v.secondaryText,g.secondaryText],splitContainer:[g.splitButtonFlexContainer,!t&&!r&&[{selectors:(m={},m[".".concat(_a," &:focus, .").concat(_a," &:focus:hover, :host(.").concat(_a,") &:focus, :host(.").concat(_a,") &:focus:hover")]=g.rootFocused,m)}]],screenReaderText:[v.screenReaderText,g.screenReaderText,Qo,{visibility:"hidden"}]})})),rf=function(e){var t=e.theme,n=e.disabled,r=e.expanded,i=e.checked,o=e.isAnchorLink,a=e.knownIcon,s=e.itemClassName,l=e.dividerClassName,c=e.iconClassName,u=e.subMenuClassName,d=e.primaryDisabled,h=e.className;return nf(t,n,r,i,o,a,s,l,c,u,d,h)},of=nu(Kp,rf,void 0,{scope:"ContextualMenuItem"}),af=function(e){function t(t){var n=e.call(this,t)||this;return n._onItemMouseEnter=function(e){var t=n.props,r=t.item,i=t.onItemMouseEnter;i&&i(r,e,e.currentTarget)},n._onItemClick=function(e){var t=n.props,r=t.item,i=t.onItemClickBase;i&&i(r,e,e.currentTarget)},n._onItemMouseLeave=function(e){var t=n.props,r=t.item,i=t.onItemMouseLeave;i&&i(r,e)},n._onItemKeyDown=function(e){var t=n.props,r=t.item,i=t.onItemKeyDown;i&&i(r,e)},n._onItemMouseMove=function(e){var t=n.props,r=t.item,i=t.onItemMouseMove;i&&i(r,e,e.currentTarget)},n._getSubmenuTarget=function(){},yu(n),n}return di(t,e),t.prototype.shouldComponentUpdate=function(e){return!Wl(e,this.props)},t}(r.Component);function sf(e){var t=r.useRef();return r.useEffect((function(){t.current=e})),t.current}!function(e){e.KEYTIP_ADDED="keytipAdded",e.KEYTIP_REMOVED="keytipRemoved",e.KEYTIP_UPDATED="keytipUpdated",e.PERSISTED_KEYTIP_ADDED="persistedKeytipAdded",e.PERSISTED_KEYTIP_REMOVED="persistedKeytipRemoved",e.PERSISTED_KEYTIP_EXECUTE="persistedKeytipExecute",e.ENTER_KEYTIP_MODE="enterKeytipMode",e.EXIT_KEYTIP_MODE="exitKeytipMode"}(zp||(zp={}));var lf=function(){function e(){this.keytips={},this.persistedKeytips={},this.sequenceMapping={},this.inKeytipMode=!1,this.shouldEnterKeytipMode=!0,this.delayUpdatingKeytipChange=!1}return e.getInstance=function(){return this._instance},e.prototype.init=function(e){this.delayUpdatingKeytipChange=e},e.prototype.register=function(e,t){void 0===t&&(t=!1);var n=e;t||(n=this.addParentOverflow(e),this.sequenceMapping[n.keySequences.toString()]=n);var r=this._getUniqueKtp(n);if(t?this.persistedKeytips[r.uniqueID]=r:this.keytips[r.uniqueID]=r,this.inKeytipMode||!this.delayUpdatingKeytipChange){var i=t?zp.PERSISTED_KEYTIP_ADDED:zp.KEYTIP_ADDED;Cu.raise(this,i,{keytip:n,uniqueID:r.uniqueID})}return r.uniqueID},e.prototype.update=function(e,t){var n=this.addParentOverflow(e),r=this._getUniqueKtp(n,t),i=this.keytips[t];i&&(r.keytip.visible=i.keytip.visible,this.keytips[t]=r,delete this.sequenceMapping[i.keytip.keySequences.toString()],this.sequenceMapping[r.keytip.keySequences.toString()]=r.keytip,!this.inKeytipMode&&this.delayUpdatingKeytipChange||Cu.raise(this,zp.KEYTIP_UPDATED,{keytip:r.keytip,uniqueID:r.uniqueID}))},e.prototype.unregister=function(e,t,n){void 0===n&&(n=!1),n?delete this.persistedKeytips[t]:delete this.keytips[t],!n&&delete this.sequenceMapping[e.keySequences.toString()];var r=n?zp.PERSISTED_KEYTIP_REMOVED:zp.KEYTIP_REMOVED;!this.inKeytipMode&&this.delayUpdatingKeytipChange||Cu.raise(this,r,{keytip:e,uniqueID:t})},e.prototype.enterKeytipMode=function(){Cu.raise(this,zp.ENTER_KEYTIP_MODE)},e.prototype.exitKeytipMode=function(){Cu.raise(this,zp.EXIT_KEYTIP_MODE)},e.prototype.getKeytips=function(){var e=this;return Object.keys(this.keytips).map((function(t){return e.keytips[t].keytip}))},e.prototype.addParentOverflow=function(e){var t=mi([],e.keySequences,!0);if(t.pop(),0!==t.length){var n=this.sequenceMapping[t.toString()];if(n&&n.overflowSetSequence)return hi(hi({},e),{overflowSetSequence:n.overflowSetSequence})}return e},e.prototype.menuExecute=function(e,t){Cu.raise(this,zp.PERSISTED_KEYTIP_EXECUTE,{overflowButtonSequences:e,keytipSequences:t})},e.prototype._getUniqueKtp=function(e,t){return void 0===t&&(t=cl()),{keytip:hi({},e),uniqueID:t}},e._instance=new e,e}();function cf(e){return e.reduce((function(e,t){return e+"-"+t.split("").join("-")}),"ktp")}function uf(e){var t=r.useRef(),n=e.keytipProps?hi({disabled:e.disabled},e.keytipProps):void 0,i=ru(lf.getInstance()),o=sf(e);ku((function(){t.current&&n&&((null===o||void 0===o?void 0:o.keytipProps)!==e.keytipProps||(null===o||void 0===o?void 0:o.disabled)!==e.disabled)&&i.update(n,t.current)})),ku((function(){return n&&(t.current=i.register(n)),function(){n&&i.unregister(n,t.current)}}),[]);var a={ariaDescribedBy:e.ariaDescribedBy,keytipId:void 0};return n&&(a=function(e,t,n){var r=e.addParentOverflow(t),i=Iu(n,function(e){var t=" ktp-layer-id";return e.length?t+" "+cf(e):t}(r.keySequences)),o=mi([],r.keySequences,!0);r.overflowSetSequence&&(o=function(e,t){var n=t.length,r=mi([],t,!0).pop();return function(e,t,n){var r=e.slice();return r.splice(t,0,n),r}(mi([],e,!0),n-1,r)}(o,r.overflowSetSequence));var a=cf(o);return{ariaDescribedBy:i,keytipId:a}}(i,n,e.ariaDescribedBy)),a}var df=function(e){var t,n=e.children,r=uf(pi(e,["children"])),i=r.keytipId,o=r.ariaDescribedBy;return n(((t={})["data-ktp-target"]=i,t["data-ktp-execute-target"]=i,t["aria-describedby"]=o,t))},hf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._anchor=r.createRef(),t._getMemoizedMenuButtonKeytipProps=ia((function(e){return hi(hi({},e),{hasMenu:!0})})),t._getSubmenuTarget=function(){return t._anchor.current?t._anchor.current:void 0},t._onItemClick=function(e){var n=t.props,r=n.item,i=n.onItemClick;i&&i(r,e)},t._renderAriaDescription=function(e,n){return e?r.createElement("span",{id:t._ariaDescriptionId,className:n},e):null},t}return di(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.item,i=t.classNames,o=t.index,a=t.focusableElementIndex,s=t.totalItemCount,l=t.hasCheckmarks,c=t.hasIcons,u=t.expandedMenuItemKey,d=t.onItemClick,h=t.openSubMenu,p=t.dismissSubMenu,f=t.dismissMenu,m=of;this.props.item.contextualMenuItemAs&&(m=$d(this.props.item.contextualMenuItemAs,m)),this.props.contextualMenuItemAs&&(m=$d(this.props.contextualMenuItemAs,m));var g=n.rel;n.target&&"_blank"===n.target.toLowerCase()&&(g=g||"nofollow noopener noreferrer");var v=th(n),_=zl(n,wl),y=nh(n),b=n.itemProps,x=n.ariaDescription,S=n.keytipProps;S&&v&&(S=this._getMemoizedMenuButtonKeytipProps(S)),x&&(this._ariaDescriptionId=cl());var E=Iu(n.ariaDescribedBy,x?this._ariaDescriptionId:void 0,_["aria-describedby"]),w={"aria-describedby":E};return r.createElement("div",null,r.createElement(df,{keytipProps:n.keytipProps,ariaDescribedBy:E,disabled:y},(function(t){return r.createElement("a",hi({},w,_,t,{ref:e._anchor,href:n.href,target:n.target,rel:g,className:i.root,role:"menuitem","aria-haspopup":v||void 0,"aria-expanded":v?n.key===u:void 0,"aria-posinset":a+1,"aria-setsize":s,"aria-disabled":nh(n),style:n.style,onClick:e._onItemClick,onMouseEnter:e._onItemMouseEnter,onMouseLeave:e._onItemMouseLeave,onMouseMove:e._onItemMouseMove,onKeyDown:v?e._onItemKeyDown:void 0}),r.createElement(m,hi({componentRef:n.componentRef,item:n,classNames:i,index:o,onCheckmarkClick:l&&d?d:void 0,hasIcons:c,openSubMenu:h,dismissSubMenu:p,dismissMenu:f,getSubmenuTarget:e._getSubmenuTarget},b)),e._renderAriaDescription(x,i.screenReaderText))})))},t}(af),pf=lu(),ff=r.forwardRef((function(e,t){var n=e.styles,i=e.theme,o=e.getClassNames,a=e.className,s=pf(n,{theme:i,getClassNames:o,className:a});return r.createElement("span",{className:s.wrapper,ref:t},r.createElement("span",{className:s.divider}))}));ff.displayName="VerticalDividerBase";var mf,gf=nu(ff,(function(e){var t=e.theme,n=e.getClassNames,r=e.className;if(!t)throw new Error("Theme is undefined or null.");if(n){var i=n(t);return{wrapper:[i.wrapper],divider:[i.divider]}}return{wrapper:[{display:"inline-flex",height:"100%",alignItems:"center"},r],divider:[{width:1,height:"100%",backgroundColor:t.palette.neutralTertiaryAlt}]}}),void 0,{scope:"VerticalDivider"}),vf=function(e){function t(t){var n=e.call(this,t)||this;return n._getMemoizedMenuButtonKeytipProps=ia((function(e){return hi(hi({},e),{hasMenu:!0})})),n._onItemKeyDown=function(e){var t=n.props,r=t.item,i=t.onItemKeyDown;e.which===ql?(n._executeItemClick(e),e.preventDefault(),e.stopPropagation()):i&&i(r,e)},n._getSubmenuTarget=function(){return n._splitButton},n._renderAriaDescription=function(e,t){return e?r.createElement("span",{id:n._ariaDescriptionId,className:t},e):null},n._onItemMouseEnterPrimary=function(e){var t=n.props,r=t.item,i=t.onItemMouseEnter;i&&i(hi(hi({},r),{subMenuProps:void 0,items:void 0}),e,n._splitButton)},n._onItemMouseEnterIcon=function(e){var t=n.props,r=t.item,i=t.onItemMouseEnter;i&&i(r,e,n._splitButton)},n._onItemMouseMovePrimary=function(e){var t=n.props,r=t.item,i=t.onItemMouseMove;i&&i(hi(hi({},r),{subMenuProps:void 0,items:void 0}),e,n._splitButton)},n._onItemMouseMoveIcon=function(e){var t=n.props,r=t.item,i=t.onItemMouseMove;i&&i(r,e,n._splitButton)},n._onIconItemClick=function(e){var t=n.props,r=t.item,i=t.onItemClickBase;i&&i(r,e,n._splitButton?n._splitButton:e.currentTarget)},n._executeItemClick=function(e){var t=n.props,r=t.item,i=t.executeItemClick,o=t.onItemClick;if(!r.disabled&&!r.isDisabled)return n._processingTouch&&!r.canCheck&&o?o(r,e):void(i&&i(r,e))},n._onTouchStart=function(e){n._splitButton&&!("onpointerdown"in n._splitButton)&&n._handleTouchAndPointerEvent(e)},n._onPointerDown=function(e){"touch"===e.pointerType&&(n._handleTouchAndPointerEvent(e),e.preventDefault(),e.stopImmediatePropagation())},n._async=new wu(n),n._events=new Cu(n),n._dismissLabelId=cl(),n}return di(t,e),t.prototype.componentDidMount=function(){this._splitButton&&"onpointerdown"in this._splitButton&&this._events.on(this._splitButton,"pointerdown",this._onPointerDown,!0)},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.render=function(){var e,t=this,n=this.props,i=n.item,o=n.classNames,a=n.index,s=n.focusableElementIndex,l=n.totalItemCount,c=n.hasCheckmarks,u=n.hasIcons,d=n.onItemMouseLeave,h=n.expandedMenuItemKey,p=th(i),f=i.keytipProps;f&&(f=this._getMemoizedMenuButtonKeytipProps(f));var m=i.ariaDescription;m&&(this._ariaDescriptionId=cl());var g=null!==(e=eh(i))&&void 0!==e?e:void 0;return r.createElement(df,{keytipProps:f,disabled:nh(i)},(function(e){return r.createElement("div",{"data-ktp-target":e["data-ktp-target"],ref:function(e){return t._splitButton=e},role:rh(i),"aria-label":i.ariaLabel,className:o.splitContainer,"aria-disabled":nh(i),"aria-expanded":p?i.key===h:void 0,"aria-haspopup":!0,"aria-describedby":Iu(i.ariaDescribedBy,m?t._ariaDescriptionId:void 0,e["aria-describedby"]),"aria-checked":g,"aria-posinset":s+1,"aria-setsize":l,onMouseEnter:t._onItemMouseEnterPrimary,onMouseLeave:d?d.bind(t,hi(hi({},i),{subMenuProps:null,items:null})):void 0,onMouseMove:t._onItemMouseMovePrimary,onKeyDown:t._onItemKeyDown,onClick:t._executeItemClick,onTouchStart:t._onTouchStart,tabIndex:0,"data-is-focusable":!0,"aria-roledescription":i["aria-roledescription"]},t._renderSplitPrimaryButton(i,o,a,c,u),t._renderSplitDivider(i),t._renderSplitIconButton(i,o,a,e),t._renderAriaDescription(m,o.screenReaderText))}))},t.prototype._renderSplitPrimaryButton=function(e,t,n,i,o){var a=this.props,s=a.contextualMenuItemAs,l=void 0===s?of:s,c=a.onItemClick,u={key:e.key,disabled:nh(e)||e.primaryDisabled,name:e.name,text:e.text||e.name,secondaryText:e.secondaryText,className:t.splitPrimary,canCheck:e.canCheck,isChecked:e.isChecked,checked:e.checked,iconProps:e.iconProps,id:this._dismissLabelId,onClick:e.onClick,onRenderIcon:e.onRenderIcon,data:e.data,"data-is-focusable":!1},d=e.itemProps;return r.createElement("button",hi({},zl(u,Cl)),r.createElement(l,hi({"data-is-focusable":!1,item:u,classNames:t,index:n,onCheckmarkClick:i&&c?c:void 0,hasIcons:o},d)))},t.prototype._renderSplitDivider=function(e){var t=e.getSplitButtonVerticalDividerClassNames||ef;return r.createElement(gf,{getClassNames:t})},t.prototype._renderSplitIconButton=function(e,t,n,i){var o=this.props,a=o.onItemMouseLeave,s=o.onItemMouseDown,l=o.openSubMenu,c=o.dismissSubMenu,u=o.dismissMenu,d=of;this.props.item.contextualMenuItemAs&&(d=$d(this.props.item.contextualMenuItemAs,d)),this.props.contextualMenuItemAs&&(d=$d(this.props.contextualMenuItemAs,d));var h={onClick:this._onIconItemClick,disabled:nh(e),className:t.splitMenu,subMenuProps:e.subMenuProps,submenuIconProps:e.submenuIconProps,split:!0,key:e.key,"aria-labelledby":this._dismissLabelId},p=hi(hi({},zl(h,Cl)),{onMouseEnter:this._onItemMouseEnterIcon,onMouseLeave:a?a.bind(this,e):void 0,onMouseDown:function(t){return s?s(e,t):void 0},onMouseMove:this._onItemMouseMoveIcon,"data-is-focusable":!1,"data-ktp-execute-target":i["data-ktp-execute-target"],"aria-haspopup":!0}),f=e.itemProps;return r.createElement("button",hi({},p),r.createElement(d,hi({componentRef:e.componentRef,item:h,classNames:t,index:n,hasIcons:!1,openSubMenu:l,dismissSubMenu:c,dismissMenu:u,getSubmenuTarget:this._getSubmenuTarget},f)))},t.prototype._handleTouchAndPointerEvent=function(e){var t=this,n=this.props.onTap;n&&n(e),this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){t._processingTouch=!1,t._lastTouchTimeoutId=void 0}),500)},t}(af),_f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._btn=r.createRef(),t._getMemoizedMenuButtonKeytipProps=ia((function(e){return hi(hi({},e),{hasMenu:!0})})),t._renderAriaDescription=function(e,n){return e?r.createElement("span",{id:t._ariaDescriptionId,className:n},e):null},t._getSubmenuTarget=function(){return t._btn.current?t._btn.current:void 0},t}return di(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.item,i=t.classNames,o=t.index,a=t.focusableElementIndex,s=t.totalItemCount,l=t.hasCheckmarks,c=t.hasIcons,u=t.contextualMenuItemAs,d=t.expandedMenuItemKey,h=t.onItemMouseDown,p=t.onItemClick,f=t.openSubMenu,m=t.dismissSubMenu,g=t.dismissMenu,v=of;n.contextualMenuItemAs&&(v=$d(n.contextualMenuItemAs,v)),u&&(v=$d(u,v));var _=eh(n),y=null!==_,b=rh(n),x=th(n),S=n.itemProps,E=n.ariaLabel,w=n.ariaDescription,C=zl(n,Cl);delete C.disabled;var M=n.role||b;w&&(this._ariaDescriptionId=cl());var T=Iu(n.ariaDescribedBy,w?this._ariaDescriptionId:void 0,C["aria-describedby"]),R={className:i.root,onClick:this._onItemClick,onKeyDown:x?this._onItemKeyDown:void 0,onMouseEnter:this._onItemMouseEnter,onMouseLeave:this._onItemMouseLeave,onMouseDown:function(e){return h?h(n,e):void 0},onMouseMove:this._onItemMouseMove,href:n.href,title:n.title,"aria-label":E,"aria-describedby":T,"aria-haspopup":x||void 0,"aria-expanded":x?n.key===d:void 0,"aria-posinset":a+1,"aria-setsize":s,"aria-disabled":nh(n),"aria-checked":"menuitemcheckbox"!==M&&"menuitemradio"!==M||!y?void 0:!!_,"aria-selected":"menuitem"===M&&y?!!_:void 0,role:M,style:n.style},A=n.keytipProps;return A&&x&&(A=this._getMemoizedMenuButtonKeytipProps(A)),r.createElement(df,{keytipProps:A,ariaDescribedBy:T,disabled:nh(n)},(function(t){return r.createElement("button",hi({ref:e._btn},C,R,t),r.createElement(v,hi({componentRef:n.componentRef,item:n,classNames:i,index:o,onCheckmarkClick:l&&p?p:void 0,hasIcons:c,openSubMenu:f,dismissSubMenu:m,dismissMenu:g,getSubmenuTarget:e._getSubmenuTarget},S)),e._renderAriaDescription(w,i.screenReaderText))}))},t}(af);!function(e){e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e[e.xLarge=3]="xLarge",e[e.xxLarge=4]="xxLarge",e[e.xxxLarge=5]="xxxLarge",e[e.unknown=999]="unknown"}(mf||(mf={}));var yf,bf,xf=[479,639,1023,1365,1919,99999999];function Sf(){var e;return null!==(e=null!==yf&&void 0!==yf?yf:bf)&&void 0!==e?e:mf.large}function Ef(e){try{return e.document.documentElement.clientWidth}catch(AT){return e.innerWidth}}function wf(e){var t=mf.small;if(e){try{for(;Ef(e)>xf[t];)t++}catch(AT){t=Sf()}bf=t}else{if(void 0===yf)throw new Error("Content was rendered in a server environment without providing a default responsive mode. Call setResponsiveMode to define what the responsive mode is.");t=yf}return t}var Cf=function(e,t){var n=r.useState(Sf()),i=n[0],o=n[1],a=r.useCallback((function(){var t=wf(ga(e.current));i!==t&&o(t)}),[e,i]);return Xh(el(),"resize",a),r.useEffect((function(){void 0===t&&a()}),[t]),null!==t&&void 0!==t?t:i},Mf=r.createContext({}),Tf=lu(),Rf=lu(),Af={items:[],shouldFocusOnMount:!0,gapSpace:0,directionalHint:ed,beakWidth:16};function Pf(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];if(i.itemType!==sd.Divider&&i.itemType!==sd.Header)t+=i.customOnRenderListLength?i.customOnRenderListLength:1}return t}function Df(e,t){var n=null===t||void 0===t?void 0:t.target,r=e.subMenuProps?e.subMenuProps.items:e.items;if(r){for(var i=[],o=0,a=r;o<a.length;o++){var s=a[o];if(s.preferMenuTargetAsEventTarget){var l=s.onClick,c=pi(s,["onClick"]);i.push(hi(hi({},c),{onClick:Hf(l,n)}))}else i.push(s)}return i}}var If="ContextualMenu",kf=ia((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return ws.apply(void 0,mi([t,rf],e,!1))}}));function Lf(e,t){var n=e.hidden,i=e.items,o=e.theme,a=e.className,s=e.id,l=e.target,c=r.useState(),u=c[0],d=c[1],h=r.useState(),p=h[0],f=h[1],m=r.useState(),g=m[0],v=m[1],_=Uc(If,s),y=r.useCallback((function(){v(void 0),d(void 0),f(void 0)}),[]),b=r.useCallback((function(e,t,n){var r=e.key;u!==r&&(t.focus(),v(n),d(r),f(t))}),[u]);r.useEffect((function(){n&&y()}),[n,y]);var x=function(e,t){var n=r.useRef(!1);r.useEffect((function(){return n.current=!0,function(){n.current=!1}}),[]);var i=function(r,i){i?e(r,i):n.current&&t()};return i}(t,y);return[u,b,function(){var e=zf(u,i),t=null;if(e&&(t={items:Df(e,{target:l}),target:p,onDismiss:x,isSubMenu:!0,id:_,shouldFocusOnMount:!0,shouldFocusOnContainer:g,directionalHint:Ac(o)?td:id,className:a,gapSpace:0,isBeakVisible:!1},e.subMenuProps&&Gl(t,e.subMenuProps),e.preferMenuTargetAsEventTarget)){var n=e.onItemClick;t.onItemClick=Hf(n,l)}return t},x]}function Nf(e,t,n,i){var o=e.theme,a=e.isSubMenu,s=e.focusZoneProps,l=void 0===s?{}:s,c=l.checkForNoWrap,u=l.direction,d=void 0===u?ud.vertical:u,h=r.useRef(),p=function(e,n,r){var i=!1;return n(e)&&(t(e,r),e.preventDefault(),e.stopPropagation(),i=!0),i},f=function(e){return e.which===Zl||function(e){var t=Ac(o)?ic:nc;return!(e.which!==t||!a)&&!(d!==ud.vertical&&(!c||Ed(e.target,"data-no-horizontal-wrap")))}(e)||e.which===rc&&(e.altKey||e.metaKey)},m=function(e){h.current=Ff(e);var t=e.which===Zl&&(qd()||Yd());return p(e,f,t)},g=function(e){var t=h.current&&Ff(e);return h.current=!1,!!t&&!(Yd()||qd())};return[m,function(e){return p(e,g,!0)},function(e){if(!m(e)&&n.current){var t=!(!e.altKey&&!e.metaKey),r=e.which===rc,i=e.which===oc;if(!t&&(r||i)){var o=r?md(n.current,n.current.lastChild,!0):fd(n.current,n.current.firstChild,!0);o&&(o.focus(),e.preventDefault(),e.stopPropagation())}}},function(e,t){var n=Ac(o)?nc:ic;e.disabled||t.which!==n&&t.which!==ql&&(t.which!==oc||!t.altKey&&!t.metaKey)||(i(e,t.currentTarget),t.preventDefault())}]}var Of=r.memo(r.forwardRef((function(e,t){var n,i=wc(Af,e),o=(i.ref,pi(i,["ref"])),a=r.useRef(null),s=jh(),l=Uc(If,o.id),c=function(e,t){var n;return null===(n=o.onDismiss)||void 0===n?void 0:n.call(o,e,t)},u=Zh(o.target,a),d=u[0],h=u[1],p=function(e,t,n){var i=e.hidden,o=e.onRestoreFocus,a=r.useRef(),s=r.useCallback((function(e){var t,n;o?o(e):(null===e||void 0===e?void 0:e.documentContainsFocus)&&(null===(n=null===(t=a.current)||void 0===t?void 0:t.focus)||void 0===n||n.call(t))}),[o]);return ku((function(){var e,r;if(i)a.current&&(s({originalElement:a.current,containsFocus:!0,documentContainsFocus:(null===(r=Za())||void 0===r?void 0:r.hasFocus())||!1}),a.current=void 0);else{var o=null===t||void 0===t?void 0:t.document.activeElement;(null===(e=n.current)||void 0===e?void 0:e.contains(o))||"BODY"===o.tagName||(a.current=o)}}),[i,null===t||void 0===t?void 0:t.document.activeElement,s,n]),[s]}(o,h,a)[0],f=Lf(o,c),m=f[0],g=f[1],v=f[2],_=f[3],y=function(e){var t=e.delayUpdateFocusOnHover,n=e.hidden,i=r.useRef(!t),o=r.useRef(!1);r.useEffect((function(){i.current=!t,o.current=!n&&!t&&o.current}),[t,n]);var a=r.useCallback((function(){t&&(i.current=!1)}),[t]);return[i,o,a]}(o),b=y[0],x=y[1],S=y[2],E=function(e){var t=r.useRef(!0),n=r.useRef();return[function(){t.current||void 0===n.current?t.current=!1:(e.clearTimeout(n.current),n.current=void 0),n.current=e.setTimeout((function(){t.current=!0}),250)},t]}(s),w=E[0],C=E[1],M=function(e,t){var n=e.subMenuHoverDelay,i=void 0===n?250:n,o=r.useRef(void 0),a=function(){void 0!==o.current&&(t.clearTimeout(o.current),o.current=void 0)};return[a,function(e){o.current=t.setTimeout((function(){e(),a()}),i)},o]}(o,s),T=M[0],R=M[1],A=M[2],P=Cf(a,o.responsiveMode);!function(e){var t=e.hidden,n=void 0!==t&&t,i=e.onMenuDismissed,o=e.onMenuOpened,a=sf(n),s=r.useRef(o),l=r.useRef(i),c=r.useRef(e);s.current=o,l.current=i,c.current=e,r.useEffect((function(){var e,t;n&&!1===a?null===(e=l.current)||void 0===e||e.call(l,c.current):n||!1===a||null===(t=s.current)||void 0===t||t.call(s,c.current)}),[n,a]),r.useEffect((function(){return function(){var e;return null===(e=l.current)||void 0===e?void 0:e.call(l,c.current)}}),[])}(o);var D=Nf(o,c,a,g),I=D[0],k=D[1],L=D[2],N=D[3],O=function(e,t,n,r,i,o,a,s,l,c,u,d,h){var p=e.target,f=function(){return!t.current||!o.current},m=function(e,t,n){var r=n||t.currentTarget;e.key!==a&&(c(),void 0===a&&r.focus(),th(e)?(t.stopPropagation(),l((function(){r.focus(),u(e,r,!0)}))):l((function(){d(t),r.focus()})))},g=function(t,n,r){var i=Df(t,{target:p});if(c(),th(t)||i&&i.length){if(t.key!==a){var o="boolean"===typeof e.shouldFocusOnContainer?e.shouldFocusOnContainer:"mouse"===n.nativeEvent.pointerType;u(t,r,o)}}else v(t,n);n.stopPropagation(),n.preventDefault()},v=function(t,n){if(!t.disabled&&!t.isDisabled){t.preferMenuTargetAsEventTarget&&Vf(n,p);var r=!1;t.onClick?r=!!t.onClick(n,t):e.onItemClick&&(r=!!e.onItemClick(n,t)),!r&&n.defaultPrevented||h(n,!0)}};return[function(e,t,n){i.current&&(o.current=!0),f()||m(e,t,n)},function(e,a,s){var l=a.currentTarget;i.current&&(o.current=!0,t.current&&void 0===n.current&&l!==(null===r||void 0===r?void 0:r.document.activeElement)&&m(e,a,s))},function(e,t){var n;if(!f()&&(c(),void 0===a))if(s.current.setActive)try{s.current.setActive()}catch(AT){}else null===(n=s.current)||void 0===n||n.focus()},function(e,t){g(e,t,t.currentTarget)},function(e,t){v(e,t),t.stopPropagation()},v,g]}(o,C,A,h,b,x,m,a,R,T,g,_,c),F=O[0],U=O[1],B=O[2],z=O[3],H=O[4],V=O[5],W=O[6],G=function(e,t,n){var i=0,o=e.items,a=e.totalItemCount,s=e.hasCheckmarks,l=e.hasIcons;return r.createElement("ul",{className:t.list,onKeyDown:I,onKeyUp:k,role:"presentation"},o.map((function(e,n){var r=j(e,n,i,a,s,l,t);if(e.itemType!==sd.Divider&&e.itemType!==sd.Header){var o=e.customOnRenderListLength?e.customOnRenderListLength:1;i+=o}return r})))},j=function(e,t,n,i,a,s,l){var c,u,d=[],h=e.iconProps||{iconName:"None"},p=e.getItemClassNames,f=e.itemProps,g=f?f.styles:void 0,v=e.itemType===sd.Divider?e.className:void 0,_=e.submenuIconProps?e.submenuIconProps.className:"";if(p)u=p(o.theme,nh(e),m===e.key,!!eh(e),!!e.href,"None"!==h.iconName,e.className,v,h.className,_,e.primaryDisabled);else{var y={theme:o.theme,disabled:nh(e),expanded:m===e.key,checked:!!eh(e),isAnchorLink:!!e.href,knownIcon:"None"!==h.iconName,itemClassName:e.className,dividerClassName:v,iconClassName:h.className,subMenuClassName:_,primaryDisabled:e.primaryDisabled};u=Rf(kf(null===(c=l.subComponentStyles)||void 0===c?void 0:c.menuItem,g),y)}switch("-"!==e.text&&"-"!==e.name||(e.itemType=sd.Divider),e.itemType){case sd.Divider:d.push(q(t,u));break;case sd.Header:d.push(q(t,u));var b=Z(e,u,l,t,a,s);d.push(K(b,e.key||t,u,e.title));break;case sd.Section:d.push(X(e,u,l,t,a,s));break;default:var x=function(){return Y(e,u,t,n,i,a,s)},S=o.onRenderContextualMenuItem?o.onRenderContextualMenuItem(e,x):x();d.push(K(S,e.key||t,u,e.title))}return r.createElement(r.Fragment,{key:e.key},d)},X=function(e,t,n,i,o,a){var s=e.sectionProps;if(s){var c,u;if(s.title){var d=void 0,h="";if("string"===typeof s.title){var p=l+s.title.replace(/\s/g,"");d={key:"section-".concat(s.title,"-title"),itemType:sd.Header,text:s.title,id:p},h=p}else{var f=s.title.id||l+s.title.key.replace(/\s/g,"");d=hi(hi({},s.title),{id:f}),h=f}d&&(u={role:"group","aria-labelledby":h},c=Z(d,t,n,i,o,a))}if(s.items&&s.items.length>0){var m=0;return r.createElement("li",{role:"presentation",key:s.key||e.key||"section-".concat(i)},r.createElement("div",hi({},u),r.createElement("ul",{className:n.list,role:"presentation"},s.topDivider&&q(i,t,!0,!0),c&&K(c,e.key||i,t,e.title),s.items.map((function(e,t){var r=j(e,t,m,Pf(s.items),o,a,n);if(e.itemType!==sd.Divider&&e.itemType!==sd.Header){var i=e.customOnRenderListLength?e.customOnRenderListLength:1;m+=i}return r})),s.bottomDivider&&q(i,t,!1,!0))))}}},K=function(e,t,n,i){return r.createElement("li",{role:"presentation",title:i,key:t,className:n.item},e)},q=function(e,t,n,i){return i||e>0?r.createElement("li",{role:"separator",key:"separator-"+e+(void 0===n?"":n?"-top":"-bottom"),className:t.divider,"aria-hidden":"true"}):null},Y=function(e,t,n,i,a,s,l){if(e.onRender)return e.onRender(hi({"aria-posinset":i+1,"aria-setsize":a},e),c);var u={item:e,classNames:t,index:n,focusableElementIndex:i,totalItemCount:a,hasCheckmarks:s,hasIcons:l,contextualMenuItemAs:o.contextualMenuItemAs,onItemMouseEnter:F,onItemMouseLeave:B,onItemMouseMove:U,onItemMouseDown:Uf,executeItemClick:V,onItemKeyDown:N,expandedMenuItemKey:m,openSubMenu:g,dismissSubMenu:_,dismissMenu:c};if(e.href){var d=hf;return e.contextualMenuItemWrapperAs&&(d=$d(e.contextualMenuItemWrapperAs,d)),r.createElement(d,hi({},u,{onItemClick:H}))}if(e.split&&th(e)){var h=vf;return e.contextualMenuItemWrapperAs&&(h=$d(e.contextualMenuItemWrapperAs,h)),r.createElement(h,hi({},u,{onItemClick:z,onItemClickBase:W,onTap:T}))}var p=_f;return e.contextualMenuItemWrapperAs&&(p=$d(e.contextualMenuItemWrapperAs,p)),r.createElement(p,hi({},u,{onItemClick:z,onItemClickBase:W}))},Z=function(e,t,n,i,a,s){var l=of;e.contextualMenuItemAs&&(l=$d(e.contextualMenuItemAs,l)),o.contextualMenuItemAs&&(l=$d(o.contextualMenuItemAs,l));var c=e.itemProps,u=e.id,d=c&&zl(c,Bl);return r.createElement("div",hi({id:u,className:n.header},d,{style:e.style}),r.createElement(l,hi({item:e,classNames:t,index:i,onCheckmarkClick:a?z:void 0,hasIcons:s},c)))},Q=o.isBeakVisible,J=o.items,$=o.labelElementId,ee=o.id,te=o.className,ne=o.beakWidth,re=o.directionalHint,ie=o.directionalHintForRTL,oe=o.alignTargetEdge,ae=o.gapSpace,se=o.coverTarget,le=o.ariaLabel,ce=o.doNotLayer,ue=o.target,de=o.bounds,he=o.useTargetWidth,pe=o.useTargetAsMinWidth,fe=o.directionalHintFixed,me=o.shouldFocusOnMount,ge=o.shouldFocusOnContainer,ve=o.title,_e=o.styles,ye=o.theme,be=o.calloutProps,xe=o.onRenderSubMenu,Se=void 0===xe?Bf:xe,Ee=o.onRenderMenuList,we=void 0===Ee?function(e,t){return G(e,Te)}:Ee,Ce=o.focusZoneProps,Me=o.getMenuClassNames,Te=Me?Me(ye,te):Tf(_e,{theme:ye,className:te}),Re=function e(t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.iconProps)return!0;if(i.itemType===sd.Section&&i.sectionProps&&e(i.sectionProps.items))return!0}return!1}(J);var Ae,Pe=hi(hi({direction:ud.vertical,handleTabKey:dd,isCircularNavigation:!0,"data-tabster":'{"uncontrolled": {}, "focusable": { "excludeFromMover": true }}'},Ce),{className:Js(Te.root,null===(n=o.focusZoneProps)||void 0===n?void 0:n.className)}),De=function(e){return e.some((function(e){return!!e.canCheck||!(!e.sectionProps||!e.sectionProps.items.some((function(e){return!0===e.canCheck})))}))}(J),Ie=m&&!0!==o.hidden?v():null;Q=void 0===Q?P<=mf.medium:Q;var ke=d.current;if((he||pe)&&ke&&ke.offsetWidth){var Le=ke.getBoundingClientRect().width-2;he?Ae={width:Le}:pe&&(Ae={minWidth:Le})}if(J&&J.length>0){var Ne=Pf(J),Oe=Te.subComponentStyles?Te.subComponentStyles.callout:void 0;return r.createElement(Mf.Consumer,null,(function(e){return r.createElement(Bp,hi({styles:Oe,onRestoreFocus:p},be,{target:ue||e.target,isBeakVisible:Q,beakWidth:ne,directionalHint:re,directionalHintForRTL:ie,gapSpace:ae,coverTarget:se,doNotLayer:ce,className:Js("ms-ContextualMenu-Callout",be&&be.className),setInitialFocus:me,onDismiss:o.onDismiss||e.onDismiss,onScroll:w,bounds:de,directionalHintFixed:fe,alignTargetEdge:oe,hidden:o.hidden||e.hidden,ref:t}),r.createElement("div",{style:Ae,ref:a,id:ee,className:Te.container,tabIndex:ge?0:-1,onKeyDown:L,onKeyUp:k,onFocusCapture:S,"aria-label":le,"aria-labelledby":$,role:"menu"},ve&&r.createElement("div",{className:Te.title}," ",ve," "),J&&J.length?function(e,t){var n=o.focusZoneAs,i=void 0===n?Kd:n;return r.createElement(i,hi({},t),e)}(we({ariaLabel:le,items:J,totalItemCount:Ne,hasCheckmarks:De,hasIcons:Re,defaultMenuItemRenderer:function(e){return function(e,t){var n=e.index,r=e.focusableElementIndex,i=e.totalItemCount,o=e.hasCheckmarks,a=e.hasIcons;return j(e,n,r,i,o,a,t)}(e,Te)},labelElementId:$},(function(e,t){return G(e,Te)})),Pe):null,Ie&&Se(Ie,Bf)),r.createElement(mc,null))}))}return null})),(function(e,t){return!(t.shouldUpdateWhenHidden||!e.hidden||!t.hidden)||Wl(e,t)}));function Ff(e){return e.which===Yl||"Meta"===e.key}function Uf(e,t){var n;null===(n=e.onMouseDown)||void 0===n||n.call(e,e,t)}function Bf(e,t){throw Error("ContextualMenuBase: onRenderSubMenu callback is null or undefined. Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.")}function zf(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.itemType===sd.Section&&i.sectionProps){var o=zf(e,i.sectionProps.items);if(o)return o}else if(i.key&&i.key===e)return i}}function Hf(e,t){return e?function(n,r){return Vf(n,t),e(n,r)}:e}function Vf(e,t){e&&t&&(e.persist(),t instanceof Event?e.target=t.target:t instanceof Element&&(e.target=t))}Of.displayName="ContextualMenuBase";var Wf={root:"ms-ContextualMenu",container:"ms-ContextualMenu-container",list:"ms-ContextualMenu-list",header:"ms-ContextualMenu-header",title:"ms-ContextualMenu-title",isopen:"is-open"};function Gf(e){return r.createElement(jf,hi({},e))}var jf=nu(Of,(function(e){var t=e.className,n=e.theme,r=ca(Wf,n),i=n.fonts,o=n.semanticColors,a=n.effects;return{root:[n.fonts.medium,r.root,r.isopen,{backgroundColor:o.menuBackground,minWidth:"180px"},t],container:[r.container,{selectors:{":focus":{outline:0}}}],list:[r.list,r.isopen,{listStyleType:"none",margin:"0",padding:"0"}],header:[r.header,i.small,{fontWeight:qo.semibold,color:o.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:Yp,lineHeight:Yp,cursor:"default",padding:"0px 6px",userSelect:"none",textAlign:"left"}],title:[r.title,{fontSize:i.mediumPlus.fontSize,paddingRight:"14px",paddingLeft:"14px",paddingBottom:"5px",paddingTop:"5px",backgroundColor:o.menuItemBackgroundPressed}],subComponentStyles:{callout:{root:{boxShadow:a.elevation8}},menuItem:{}}}}),(function(e){return{onRenderSubMenu:e.onRenderSubMenu?cd(e.onRenderSubMenu,Gf):Gf}}),{scope:"ContextualMenu"}),Xf=jf;Xf.displayName="ContextualMenu";var Kf={msButton:"ms-Button",msButtonHasMenu:"ms-Button--hasMenu",msButtonIcon:"ms-Button-icon",msButtonMenuIcon:"ms-Button-menuIcon",msButtonLabel:"ms-Button-label",msButtonDescription:"ms-Button-description",msButtonScreenReaderText:"ms-Button-screenReaderText",msButtonFlexContainer:"ms-Button-flexContainer",msButtonTextContainer:"ms-Button-textContainer"},qf=ia((function(e,t,n,r,i,o,a,s,l,c,u){var d,h,p=ca(Kf,e||{}),f=c&&!u;return Cs(t.__shadowConfig__,{root:[p.msButton,t.root,r,l&&["is-checked",t.rootChecked],f&&["is-expanded",t.rootExpanded,(d={},d[":hover .".concat(p.msButtonIcon)]=t.iconExpandedHovered,d[":hover .".concat(p.msButtonMenuIcon)]=t.menuIconExpandedHovered||t.rootExpandedHovered,d[":hover"]=t.rootExpandedHovered,d)],s&&[Kf.msButtonHasMenu,t.rootHasMenu],a&&["is-disabled",t.rootDisabled],!a&&!f&&!l&&(h={":hover":t.rootHovered},h[":hover .".concat(p.msButtonLabel)]=t.labelHovered,h[":hover .".concat(p.msButtonIcon)]=t.iconHovered,h[":hover .".concat(p.msButtonDescription)]=t.descriptionHovered,h[":hover .".concat(p.msButtonMenuIcon)]=t.menuIconHovered,h[":focus"]=t.rootFocused,h[":active"]=t.rootPressed,h[":active .".concat(p.msButtonIcon)]=t.iconPressed,h[":active .".concat(p.msButtonDescription)]=t.descriptionPressed,h[":active .".concat(p.msButtonMenuIcon)]=t.menuIconPressed,h),a&&l&&[t.rootCheckedDisabled],!a&&l&&{":hover":t.rootCheckedHovered,":active":t.rootCheckedPressed},n],flexContainer:[p.msButtonFlexContainer,t.flexContainer],textContainer:[p.msButtonTextContainer,t.textContainer],icon:[p.msButtonIcon,i,t.icon,f&&t.iconExpanded,l&&t.iconChecked,a&&t.iconDisabled],label:[p.msButtonLabel,t.label,l&&t.labelChecked,a&&t.labelDisabled],menuIcon:[p.msButtonMenuIcon,o,t.menuIcon,l&&t.menuIconChecked,a&&!u&&t.menuIconDisabled,!a&&!f&&!l&&{":hover":t.menuIconHovered,":active":t.menuIconPressed},f&&["is-expanded",t.menuIconExpanded]],description:[p.msButtonDescription,t.description,l&&t.descriptionChecked,a&&t.descriptionDisabled],screenReaderText:[p.msButtonScreenReaderText,t.screenReaderText]})})),Yf="ms-SplitButton-divider",Zf=ia((function(e,t,n,r,i){return{root:Xi(e.splitButtonMenuButton,n&&[e.splitButtonMenuButtonExpanded],t&&[e.splitButtonMenuButtonDisabled],r&&!t&&[e.splitButtonMenuButtonChecked],i&&!t&&[{":focus":e.splitButtonMenuFocused}]),splitButtonContainer:Xi(e.splitButtonContainer,!t&&r&&[e.splitButtonContainerChecked,{":hover":e.splitButtonContainerCheckedHovered}],!t&&!r&&[{":hover":e.splitButtonContainerHovered,":focus":e.splitButtonContainerFocused}],t&&e.splitButtonContainerDisabled),icon:Xi(e.splitButtonMenuIcon,t&&e.splitButtonMenuIconDisabled,!t&&i&&e.splitButtonMenuIcon),flexContainer:Xi(e.splitButtonFlexContainer),divider:Xi(Yf,e.splitButtonDivider,(i||t)&&e.splitButtonDividerDisabled)}})),Qf=function(e){function t(t){var n=e.call(this,t)||this;return n._buttonElement=r.createRef(),n._splitButtonContainer=r.createRef(),n._mergedRef=hu(),n._renderedVisibleMenu=!1,n._getMemoizedMenuButtonKeytipProps=ia((function(e){return hi(hi({},e),{hasMenu:!0})})),n._onRenderIcon=function(e,t){var i=n.props.iconProps;if(i&&(void 0!==i.iconName||i.imageProps)){var o=i.className,a=i.imageProps,s=pi(i,["className","imageProps"]);if(i.styles)return r.createElement(ju,hi({className:Js(n._classNames.icon,o),imageProps:a},s));if(i.iconName)return r.createElement(Vu,hi({className:Js(n._classNames.icon,o)},s));if(a)return r.createElement(Xu,hi({className:Js(n._classNames.icon,o),imageProps:a},s))}return null},n._onRenderTextContents=function(){var e=n.props,t=e.text,i=e.children,o=e.secondaryText,a=void 0===o?n.props.description:o,s=e.onRenderText,l=void 0===s?n._onRenderText:s,c=e.onRenderDescription,u=void 0===c?n._onRenderDescription:c;return t||"string"===typeof i||a?r.createElement("span",{className:n._classNames.textContainer},l(n.props,n._onRenderText),u(n.props,n._onRenderDescription)):[l(n.props,n._onRenderText),u(n.props,n._onRenderDescription)]},n._onRenderText=function(){var e=n.props.text,t=n.props.children;return void 0===e&&"string"===typeof t&&(e=t),n._hasText()?r.createElement("span",{key:n._labelId,className:n._classNames.label,id:n._labelId},e):null},n._onRenderChildren=function(){var e=n.props.children;return"string"===typeof e?null:e},n._onRenderDescription=function(e){var t=e.secondaryText,i=void 0===t?n.props.description:t;return i?r.createElement("span",{key:n._descriptionId,className:n._classNames.description,id:n._descriptionId},i):null},n._onRenderAriaDescription=function(){var e=n.props.ariaDescription;return e?r.createElement("span",{className:n._classNames.screenReaderText,id:n._ariaDescriptionId},e):null},n._onRenderMenuIcon=function(e){var t=n.props.menuIconProps;return r.createElement(Vu,hi({iconName:"ChevronDown"},t,{className:n._classNames.menuIcon}))},n._onRenderMenu=function(e){var t=n.props.menuAs?$d(n.props.menuAs,Xf):Xf;return r.createElement(t,hi({},e))},n._onDismissMenu=function(e){var t=n.props.menuProps;t&&t.onDismiss&&t.onDismiss(e),e&&e.defaultPrevented||n._dismissMenu()},n._dismissMenu=function(){n._menuShouldFocusOnMount=void 0,n._menuShouldFocusOnContainer=void 0,n.setState({menuHidden:!0})},n._openMenu=function(e,t){void 0===t&&(t=!0),n.props.menuProps&&(n._menuShouldFocusOnContainer=e,n._menuShouldFocusOnMount=t,n._renderedVisibleMenu=!0,n.setState({menuHidden:!1}))},n._onToggleMenu=function(e){var t=!0;n.props.menuProps&&!1===n.props.menuProps.shouldFocusOnMount&&(t=!1),n.state.menuHidden?n._openMenu(e,t):n._dismissMenu()},n._onSplitContainerFocusCapture=function(e){var t=n._splitButtonContainer.current;!t||e.target&&gu(e.target,t)||t.focus()},n._onSplitButtonPrimaryClick=function(e){n.state.menuHidden||n._dismissMenu();var t=n._processingTouch&&!n.props.toggle;!t&&n.props.onClick?n.props.onClick(e):t&&n._onMenuClick(e)},n._onKeyDown=function(e){!n.props.disabled||e.which!==ql&&e.which!==Ql?n.props.disabled||(n.props.menuProps?n._onMenuKeyDown(e):void 0!==n.props.onKeyDown&&n.props.onKeyDown(e)):(e.preventDefault(),e.stopPropagation())},n._onKeyUp=function(e){n.props.disabled||void 0===n.props.onKeyUp||n.props.onKeyUp(e)},n._onKeyPress=function(e){n.props.disabled||void 0===n.props.onKeyPress||n.props.onKeyPress(e)},n._onMouseUp=function(e){n.props.disabled||void 0===n.props.onMouseUp||n.props.onMouseUp(e)},n._onMouseDown=function(e){n.props.disabled||void 0===n.props.onMouseDown||n.props.onMouseDown(e)},n._onClick=function(e){n.props.disabled||(n.props.menuProps?n._onMenuClick(e):void 0!==n.props.onClick&&n.props.onClick(e))},n._onSplitButtonContainerKeyDown=function(e){e.which===ql||e.which===Ql?n._buttonElement.current&&(n._buttonElement.current.click(),e.preventDefault(),e.stopPropagation()):n._onMenuKeyDown(e)},n._onMenuKeyDown=function(e){var t;if(!n.props.disabled){n.props.onKeyDown&&n.props.onKeyDown(e);var r=e.which===rc,i=e.which===oc;if(!e.defaultPrevented&&n._isValidMenuOpenKey(e)){var o=n.props.onMenuClick;o&&o(e,n.props),n._onToggleMenu(!1),e.preventDefault(),e.stopPropagation()}if(e.which!==ql&&e.which!==Ql||xa(!0,e.target,null===(t=n.context)||void 0===t?void 0:t.registeredProviders),!e.altKey&&!e.metaKey&&(r||i))if(!n.state.menuHidden&&n.props.menuProps)(void 0!==n._menuShouldFocusOnMount?n._menuShouldFocusOnMount:n.props.menuProps.shouldFocusOnMount)||(e.preventDefault(),e.stopPropagation(),n._menuShouldFocusOnMount=!0,n.forceUpdate())}},n._onTouchStart=function(){n._isSplitButton&&n._splitButtonContainer.current&&!("onpointerdown"in n._splitButtonContainer.current)&&n._handleTouchAndPointerEvent()},n._onMenuClick=function(e){var t=n.props,r=t.onMenuClick,i=t.menuProps;r&&r(e,n.props);var o="boolean"===typeof(null===i||void 0===i?void 0:i.shouldFocusOnContainer)?i.shouldFocusOnContainer:"mouse"===e.nativeEvent.pointerType;e.defaultPrevented||(n._onToggleMenu(o),e.preventDefault(),e.stopPropagation())},yu(n),n._async=new wu(n),n._events=new Cu(n),n.props.split,n._labelId=cl(),n._descriptionId=cl(),n._ariaDescriptionId=cl(),n.state={menuHidden:!0},n}return di(t,e),Object.defineProperty(t.prototype,"_isSplitButton",{get:function(){return!!this.props.menuProps&&!!this.props.onClick&&!0===this.props.split},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e,t=this.props,n=t.ariaDescription,r=t.ariaLabel,i=t.ariaHidden,o=t.className,a=t.disabled,s=t.allowDisabledFocus,l=t.primaryDisabled,c=t.secondaryText,u=void 0===c?this.props.description:c,d=t.href,h=t.iconProps,p=t.menuIconProps,f=t.styles,m=t.checked,g=t.variantClassName,v=t.theme,_=t.toggle,y=t.getClassNames,b=t.role,x=this.state.menuHidden,S=a||l;this._classNames=y?y(v,o,g,h&&h.className,p&&p.className,S,m,!x,!!this.props.menuProps,this.props.split,!!s):qf(v,f,o,g,h&&h.className,p&&p.className,S,!!this.props.menuProps,m,!x,this.props.split);var E=this,w=E._ariaDescriptionId,C=E._labelId,M=E._descriptionId,T=!S&&!!d,R=T?"a":"button",A=zl(Gl(T?{}:{type:"button"},this.props.rootProps,this.props),T?wl:Cl,["disabled"]),P=r||A["aria-label"],D=void 0;n?D=w:u&&this.props.onRenderDescription!==Du?D=M:A["aria-describedby"]&&(D=A["aria-describedby"]);var I=void 0;A["aria-labelledby"]?I=A["aria-labelledby"]:D&&!P&&(I=this._hasText()?C:void 0);var k=!(!1===this.props["data-is-focusable"]||a&&!s||this._isSplitButton),L="menuitemcheckbox"===b||"checkbox"===b,N=L||!0===_?!!m:void 0,O=Gl(A,((e={className:this._classNames.root,ref:this._mergedRef(this.props.elementRef,this._buttonElement),disabled:S&&!s,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onClick:this._onClick,"aria-label":P,"aria-labelledby":I,"aria-describedby":D,"aria-disabled":S,"data-is-focusable":k})[L?"aria-checked":"aria-pressed"]=N,e));if(i&&(O["aria-hidden"]=!0),this._isSplitButton)return this._onRenderSplitButtonContent(R,O);if(this.props.menuProps){var F=this.props.menuProps.id,U=void 0===F?"".concat(this._labelId,"-menu"):F;Gl(O,{"aria-expanded":!x,"aria-controls":x?null:U,"aria-haspopup":!0})}return this._onRenderContent(R,O)},t.prototype.componentDidMount=function(){this._isSplitButton&&this._splitButtonContainer.current&&("onpointerdown"in this._splitButtonContainer.current&&this._events.on(this._splitButtonContainer.current,"pointerdown",this._onPointerDown,!0),"onpointerup"in this._splitButtonContainer.current&&this.props.onPointerUp&&this._events.on(this._splitButtonContainer.current,"pointerup",this.props.onPointerUp,!0))},t.prototype.componentDidUpdate=function(e,t){this.props.onAfterMenuDismiss&&!t.menuHidden&&this.state.menuHidden&&this.props.onAfterMenuDismiss()},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.focus=function(){var e,t;this._isSplitButton&&this._splitButtonContainer.current?(xa(!0,void 0,null===(e=this.context)||void 0===e?void 0:e.registeredProviders),this._splitButtonContainer.current.focus()):this._buttonElement.current&&(xa(!0,void 0,null===(t=this.context)||void 0===t?void 0:t.registeredProviders),this._buttonElement.current.focus())},t.prototype.dismissMenu=function(){this._dismissMenu()},t.prototype.openMenu=function(e,t){this._openMenu(e,t)},t.prototype._onRenderContent=function(e,t){var n=this,i=this.props,o=e,a=i.menuIconProps,s=i.menuProps,l=i.onRenderIcon,c=void 0===l?this._onRenderIcon:l,u=i.onRenderAriaDescription,d=void 0===u?this._onRenderAriaDescription:u,h=i.onRenderChildren,p=void 0===h?this._onRenderChildren:h,f=i.onRenderMenu,m=void 0===f?this._onRenderMenu:f,g=i.onRenderMenuIcon,v=void 0===g?this._onRenderMenuIcon:g,_=i.disabled,y=i.keytipProps;y&&s&&(y=this._getMemoizedMenuButtonKeytipProps(y));var b=function(e){return r.createElement(o,hi({},t,e),r.createElement("span",{className:n._classNames.flexContainer,"data-automationid":"splitbuttonprimary"},c(i,n._onRenderIcon),n._onRenderTextContents(),d(i,n._onRenderAriaDescription),p(i,n._onRenderChildren),!n._isSplitButton&&(s||a||n.props.onRenderMenuIcon)&&v(n.props,n._onRenderMenuIcon),s&&!s.doNotLayer&&n._shouldRenderMenu()&&m(n._getMenuProps(s),n._onRenderMenu)))},x=y?r.createElement(df,{keytipProps:this._isSplitButton?void 0:y,ariaDescribedBy:t["aria-describedby"],disabled:_},(function(e){return b(e)})):b();return s&&s.doNotLayer?r.createElement(r.Fragment,null,x,this._shouldRenderMenu()&&m(this._getMenuProps(s),this._onRenderMenu)):r.createElement(r.Fragment,null,x,r.createElement(mc,null))},t.prototype._shouldRenderMenu=function(){var e=this.state.menuHidden,t=this.props,n=t.persistMenu,r=t.renderPersistedMenuHiddenOnMount;return!e||!(!n||!this._renderedVisibleMenu&&!r)},t.prototype._hasText=function(){return null!==this.props.text&&(void 0!==this.props.text||"string"===typeof this.props.children)},t.prototype._getMenuProps=function(e){var t=this.props.persistMenu,n=this.state.menuHidden;return e.ariaLabel||e.labelElementId||!this._hasText()||(e=hi(hi({},e),{labelElementId:this._labelId})),hi(hi({id:this._labelId+"-menu",directionalHint:Qu},e),{shouldFocusOnContainer:this._menuShouldFocusOnContainer,shouldFocusOnMount:this._menuShouldFocusOnMount,hidden:t?n:void 0,className:Js("ms-BaseButton-menuhost",e.className),target:this._isSplitButton?this._splitButtonContainer.current:this._buttonElement.current,onDismiss:this._onDismissMenu})},t.prototype._onRenderSplitButtonContent=function(e,t){var n=this,i=this.props,o=i.styles,a=void 0===o?{}:o,s=i.disabled,l=i.allowDisabledFocus,c=i.checked,u=i.getSplitButtonClassNames,d=i.primaryDisabled,h=i.menuProps,p=i.toggle,f=i.role,m=i.primaryActionButtonProps,g=this.props.keytipProps,v=this.state.menuHidden,_=u?u(!!s,!v,!!c,!!l):a&&Zf(a,!!s,!v,!!c,!!d);Gl(t,{onClick:void 0,onPointerDown:void 0,onPointerUp:void 0,tabIndex:-1,"data-is-focusable":!1}),g&&h&&(g=this._getMemoizedMenuButtonKeytipProps(g));var y=zl(t,[],["disabled"]);m&&Gl(t,m);var b=function(i){return r.createElement("div",hi({},y,{"data-ktp-target":i?i["data-ktp-target"]:void 0,role:f||"button","aria-disabled":s,"aria-haspopup":!0,"aria-expanded":!v,"aria-pressed":p?!!c:void 0,"aria-describedby":Iu(t["aria-describedby"],i?i["aria-describedby"]:void 0),className:_&&_.splitButtonContainer,onKeyDown:n._onSplitButtonContainerKeyDown,onTouchStart:n._onTouchStart,ref:n._splitButtonContainer,"data-is-focusable":!0,onClick:s||d?void 0:n._onSplitButtonPrimaryClick,tabIndex:!s&&!d||l?0:void 0,"aria-roledescription":t["aria-roledescription"],onFocusCapture:n._onSplitContainerFocusCapture}),r.createElement("span",{style:{display:"flex",width:"100%"}},n._onRenderContent(e,t),n._onRenderSplitButtonMenuButton(_,i),n._onRenderSplitButtonDivider(_)))};return g?r.createElement(df,{keytipProps:g,disabled:s},(function(e){return b(e)})):b()},t.prototype._onRenderSplitButtonDivider=function(e){if(e&&e.divider){return r.createElement("span",{className:e.divider,"aria-hidden":!0,onClick:function(e){e.stopPropagation()}})}return null},t.prototype._onRenderSplitButtonMenuButton=function(e,n){var i=this.props,o=i.allowDisabledFocus,a=i.checked,s=i.disabled,l=i.splitButtonMenuProps,c=i.splitButtonAriaLabel,u=i.primaryDisabled,d=this.state.menuHidden,h=this.props.menuIconProps;void 0===h&&(h={iconName:"ChevronDown"});var p=hi(hi({},l),{styles:e,checked:a,disabled:s,allowDisabledFocus:o,onClick:this._onMenuClick,menuProps:void 0,iconProps:hi(hi({},h),{className:this._classNames.menuIcon}),ariaLabel:c,"aria-haspopup":!0,"aria-expanded":!d,"data-is-focusable":!1});return r.createElement(t,hi({},p,{"data-ktp-execute-target":n?n["data-ktp-execute-target"]:n,onMouseDown:this._onMouseDown,tabIndex:u&&!o?0:-1}))},t.prototype._onPointerDown=function(e){var t=this.props.onPointerDown;t&&t(e),"touch"===e.pointerType&&(this._handleTouchAndPointerEvent(),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._handleTouchAndPointerEvent=function(){var e=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout((function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0,e.state.menuHidden&&e.focus()}),500)},t.prototype._isValidMenuOpenKey=function(e){return this.props.menuTriggerKeyCode?e.which===this.props.menuTriggerKeyCode:!!this.props.menuProps&&(e.which===oc&&(e.altKey||e.metaKey))},t.defaultProps={baseClassName:"ms-Button",styles:{},split:!1},t.contextType=pc,t}(r.Component);var Jf=function(){return r.useContext(kd)},$f=function(e){var t=e.stylesheetKey,n=e.children,r=eu(),i=r.useAdoptedStylesheetEx,o=r.useMergeStylesRootStylesheets,a=r.useWindow,s=Jf(),l=o(),c=a();return i(ni,s,l,c),i(t,s,l,c),n(!!s)},em=ia((function(e,t,n){return{stylesheetKey:e,inShadow:t,window:n,__isShadowConfig__:!0}})),tm=ia((function(e,t,n){var r,i=null!==(r=null!==t&&void 0!==t?t:e)&&void 0!==r?r:{};return i.__shadowConfig__=n,i}));function nm(e,t,n){return function(i){var o,a=(o=function(o){function a(e){var t=o.call(this,e)||this;return t._styleCache={},t._onSettingChanged=t._onSettingChanged.bind(t),t}return di(a,o),a.prototype.componentDidMount=function(){ka.observe(this._onSettingChanged)},a.prototype.componentWillUnmount=function(){ka.unobserve(this._onSettingChanged)},a.prototype.render=function(){var o=this;return r.createElement($f,{stylesheetKey:e},(function(a){return r.createElement(nl.Consumer,null,(function(s){var l,c=ka.getSettings(t,e,s.customizations),u=null!==(l=o.context.window)&&void 0!==l?l:ga(),d=em(e,a,u),h=o.props;if(c.styles&&"function"===typeof c.styles&&(c.styles=c.styles(hi(hi({},c),h))),n&&c.styles){if(o._styleCache.default!==c.styles||o._styleCache.component!==h.styles){var p=Es(c.styles,h.styles);p.__shadowConfig__=d,o._styleCache.default=c.styles,o._styleCache.component=h.styles,o._styleCache.merged=p}return r.createElement(i,hi({},c,h,{styles:o._styleCache.merged}))}var f=tm(c.styles,h.styles,d);return r.createElement(i,hi({},c,h,{styles:f}))}))}))},a.prototype._onSettingChanged=function(){this.forceUpdate()},a}(r.Component),o.displayName="Customized"+e,o.contextType=$s,o);return function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(i,a)}}var rm={outline:0},im=function(e){return{fontSize:e,margin:"0 4px",height:"16px",lineHeight:"16px",textAlign:"center",flexShrink:0}},om=ia((function(e){var t,n,r=e.semanticColors,i=e.effects,o=e.fonts,a=r.buttonBorder,s=r.disabledBackground,l=r.disabledText,c={left:-2,top:-2,bottom:-2,right:-2,outlineColor:"ButtonText"};return{root:[Sa(e,{inset:1,highContrastStyle:c,borderColor:"transparent"}),e.fonts.medium,{border:"1px solid "+a,borderRadius:i.roundedCorner2,boxSizing:"border-box",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0 16px",textDecoration:"none",textAlign:"center",userSelect:"none",":active > span":{position:"relative",left:0,top:0}}],rootDisabled:[Sa(e,{inset:1,highContrastStyle:c,borderColor:"transparent"}),{backgroundColor:s,borderColor:s,color:l,cursor:"default",":hover":rm,":focus":rm}],iconDisabled:(t={color:l},t[ua]={color:"GrayText"},t),menuIconDisabled:(n={color:l},n[ua]={color:"GrayText"},n),flexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},description:{display:"block"},textContainer:{flexGrow:1,display:"block"},icon:im(o.mediumPlus.fontSize),menuIcon:im(o.small.fontSize),label:{margin:"0 4px",lineHeight:"100%",display:"block"},screenReaderText:Qo}})),am=ia((function(e,t){var n,r,i;return Es(om(e),{root:(n={padding:"0 4px",height:"40px",color:e.palette.neutralPrimary,backgroundColor:"transparent",border:"1px solid transparent"},n[ua]={borderColor:"Window"},n),rootHovered:(r={color:e.palette.themePrimary},r[ua]={color:"Highlight"},r),iconHovered:{color:e.palette.themePrimary},rootPressed:{color:e.palette.black},rootExpanded:{color:e.palette.themePrimary},iconPressed:{color:e.palette.themeDarker},rootDisabled:(i={color:e.palette.neutralTertiary,backgroundColor:"transparent",borderColor:"transparent"},i[ua]={color:"GrayText"},i),rootChecked:{color:e.palette.black},iconChecked:{color:e.palette.themeDarker},flexContainer:{justifyContent:"flex-start"},icon:{color:e.palette.themeDarkAlt},iconDisabled:{color:"inherit"},menuIcon:{color:e.palette.neutralSecondary},textContainer:{flexGrow:0}},t)})),sm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return di(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return r.createElement(Qf,hi({},this.props,{variantClassName:"ms-Button--action ms-Button--command",styles:am(n,t),onRenderDescription:Du}))},t=fi([nm("ActionButton",["theme","styles"],!0)],t)}(r.Component),lm=sm;function cm(e,t){void 0===t&&(t=null);var n=r.useRef({ref:function(){var e=function(e){n.ref.current!==e&&(n.cleanup&&(n.cleanup(),n.cleanup=void 0),n.ref.current=e,null!==e&&(n.cleanup=n.callback(e)))};return e.current=t,e}(),callback:e}).current;return n.callback=e,n.ref}var um=function(e){var t=e.onOverflowItemsChanged,n=e.rtl,i=e.pinnedIndex,o=r.useRef(),a=r.useRef(),s=cm((function(e){var t=function(e,t){if("undefined"!==typeof ResizeObserver){var n=new ResizeObserver(t);return Array.isArray(e)?e.forEach((function(e){return n.observe(e)})):n.observe(e),function(){return n.disconnect()}}var r=function(){return t(void 0)},i=ga(Array.isArray(e)?e[0]:e);if(!i)return function(){};var o=i.requestAnimationFrame(r);return i.addEventListener("resize",r,!1),function(){i.cancelAnimationFrame(o),i.removeEventListener("resize",r,!1)}}(e,(function(t){a.current=t?t[0].contentRect.width:e.clientWidth,o.current&&o.current()}));return function(){t(),a.current=void 0}})),l=cm((function(e){return s(e.parentElement),function(){return s(null)}}));return ku((function(){var e=s.current,r=l.current;if(e&&r){for(var c=[],u=0;u<e.children.length;u++){var d=e.children[u];d instanceof HTMLElement&&d!==r&&c.push(d)}var h=[],p=0;o.current=function(){var e=a.current;if(void 0!==e){for(var t=c.length-1;t>=0;t--){if(void 0===h[t]){var o=n?e-c[t].offsetLeft:c[t].offsetLeft+c[t].offsetWidth;t+1<c.length&&t+1===i&&(p=h[t+1]-o),t===c.length-2&&(p+=r.offsetWidth),h[t]=o+p}if(e>h[t])return void m(t+1)}m(0)}};var f=c.length,m=function(e){f!==e&&(f=e,t(e,c.map((function(t,n){return{ele:t,isOverflowing:n>=e&&n!==i}}))))},g=void 0;if(void 0!==a.current){var v=ga(e);if(v){var _=v.requestAnimationFrame(o.current);g=function(){return v.cancelAnimationFrame(_)}}}return function(){g&&g(),m(c.length),o.current=void 0}}})),{menuButtonRef:l}},dm=function(e){function t(t){var n=e.call(this,t)||this;return yu(n),n}return di(t,e),t.prototype.render=function(){return r.createElement("div",hi({},zl(this.props,Bl)),this.props.children)},t}(r.Component),hm=lu(),pm=function(e,t){var n={links:[],keyToIndexMapping:{},keyToTabIdMapping:{}};return r.Children.forEach(r.Children.toArray(e.children),(function(r,i){if(fm(r)){var o=r.props,a=o.linkText,s=pi(o,["linkText"]),l=r.props.itemKey||i.toString();n.links.push(hi(hi({headerText:a},s),{itemKey:l})),n.keyToIndexMapping[l]=i,n.keyToTabIdMapping[l]=function(e,t,n,r){return e.getTabId?e.getTabId(n,r):t+"-Tab".concat(r)}(e,t,l,i)}else r&&fs("The children of a Pivot component must be of type PivotItem to be rendered.")})),n},fm=function(e){var t;return r.isValidElement(e)&&(null===(t=e.type)||void 0===t?void 0:t.name)===dm.name},mm=r.forwardRef((function(e,t){var n,i=r.useRef(null),o=r.useRef(null),a=Uc("Pivot"),s=iu(e.selectedKey,e.defaultSelectedKey),l=s[0],c=s[1],u=e.componentRef,d=e.theme,h=e.linkSize,p=e.linkFormat,f=e.overflowBehavior,m=e.overflowAriaLabel,g=e.focusZoneProps,v=e.overflowButtonAs,_={"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"]},y=zl(e,Bl,["aria-label","aria-labelledby"]),b=pm(e,a);r.useImperativeHandle(u,(function(){return{focus:function(){var e;null===(e=i.current)||void 0===e||e.focus()}}}));var x=function(e){if(!e)return null;var t=e.itemCount,i=e.itemIcon,o=e.headerText;return r.createElement("span",{className:n.linkContent},void 0!==i&&r.createElement("span",{className:n.icon},r.createElement(ju,{iconName:i})),void 0!==o&&r.createElement("span",{className:n.text}," ",e.headerText),void 0!==t&&r.createElement("span",{className:n.count}," (",t,")"))},S=function(e,t,i,o){var a,s=t.itemKey,l=t.headerButtonProps,c=t.onRenderItemLink,u=e.keyToTabIdMapping[s],d=i===s;a=c?c(t,x):x(t);var h=t.headerText||"";h+=t.itemCount?" ("+t.itemCount+")":"",h+=t.itemIcon?" xx":"";var p=t.role&&"tab"!==t.role?{role:t.role}:{role:"tab","aria-selected":d};return r.createElement(lm,hi({},l,p,{id:u,key:s,className:Js(o,d&&n.linkIsSelected),onClick:function(e){return E(s,e)},onKeyDown:function(e){return w(s,e)},"aria-label":t.ariaLabel,name:t.headerText,keytipProps:t.keytipProps,"data-content":h}),a)},E=function(e,t){t.preventDefault(),C(e,t)},w=function(e,t){t.which===ql&&(t.preventDefault(),C(e,t))},C=function(t,n){var i;if(c(t),b=pm(e,a),e.onLinkClick&&b.keyToIndexMapping[t]>=0){var s=b.keyToIndexMapping[t],l=r.Children.toArray(e.children)[s];fm(l)&&e.onLinkClick(l,n)}null===(i=o.current)||void 0===i||i.dismissMenu()};n=hm(e.styles,{theme:d,linkSize:h,linkFormat:p});var M=function(){return null===(e=l)||void 0!==e&&void 0!==b.keyToIndexMapping[e]?l:b.links.length?b.links[0].itemKey:void 0;var e}(),T=M?b.keyToIndexMapping[M]:0,R=b.links.map((function(e){return S(b,e,M,n.link)})),A=r.useMemo((function(){return{items:[],alignTargetEdge:!0,directionalHint:$u}}),[]),P=um({onOverflowItemsChanged:function(e,t){t.forEach((function(e){var t=e.ele,n=e.isOverflowing;return t.dataset.isOverflowing="".concat(n)})),A.items=b.links.slice(e).filter((function(e){return e.itemKey!==M})).map((function(t,r){return t.role="menuitem",{key:t.itemKey||"".concat(e+r),onRender:function(){return S(b,t,M,n.linkInMenu)}}}))},rtl:Ac(d),pinnedIndex:T}).menuButtonRef,D=v||lm;return r.createElement("div",hi({ref:t},y),r.createElement(Kd,hi({componentRef:i,role:"tablist"},_,{direction:ud.horizontal},g,{className:Js(n.root,null===g||void 0===g?void 0:g.className)}),R,"menu"===f&&r.createElement(D,{className:Js(n.link,n.overflowMenuButton),elementRef:P,componentRef:o,menuProps:A,menuIconProps:{iconName:"More",style:{color:"inherit"}},ariaLabel:m,role:"tab"})),M&&b.links.map((function(t){return(!0===t.alwaysRender||M===t.itemKey)&&function(t,i){if(e.headersOnly||!t)return null;var o=b.keyToIndexMapping[t],a=b.keyToTabIdMapping[t];return r.createElement("div",{role:"tabpanel",hidden:!i,key:t,"aria-hidden":!i,"aria-labelledby":a,className:n.itemContainer},r.Children.toArray(e.children)[o])}(t.itemKey,M===t.itemKey)})))}));mm.displayName="Pivot";var gm,vm={count:"ms-Pivot-count",icon:"ms-Pivot-icon",linkIsSelected:"is-selected",link:"ms-Pivot-link",linkContent:"ms-Pivot-linkContent",root:"ms-Pivot",rootIsLarge:"ms-Pivot--large",rootIsTabs:"ms-Pivot--tabs",text:"ms-Pivot-text",linkInMenu:"ms-Pivot-linkInMenu",overflowMenuButton:"ms-Pivot-overflowMenuButton"},_m=function(e,t,n){var r,i,o;void 0===n&&(n=!1);var a=e.linkSize,s=e.linkFormat,l=e.theme,c=l.semanticColors,u=l.fonts,d="large"===a,h="tabs"===s;return[u.medium,{color:c.actionLink,padding:"0 8px",position:"relative",backgroundColor:"transparent",border:0,borderRadius:0,selectors:{":hover":{backgroundColor:c.buttonBackgroundHovered,color:c.buttonTextHovered,cursor:"pointer"},":active":{backgroundColor:c.buttonBackgroundPressed,color:c.buttonTextHovered},":focus":{outline:"none"}}},!n&&[{display:"inline-block",lineHeight:44,height:44,marginRight:8,textAlign:"center",selectors:(r={},r[".".concat(_a," &:focus, :host(.").concat(_a,") &:focus")]={outline:"1px solid ".concat(c.focusBorder)},r[".".concat(_a," &:focus:after, :host(.").concat(_a,") &:focus:after")]={content:"attr(data-content)",position:"relative",border:0},r[":before"]={backgroundColor:"transparent",bottom:0,content:'""',height:2,left:8,position:"absolute",right:8,transition:"left ".concat(Oo," ").concat(Lo,",\n                        right ").concat(Oo," ").concat(Lo)},r[":after"]={color:"transparent",content:"attr(data-content)",display:"block",fontWeight:qo.bold,height:1,overflow:"hidden",visibility:"hidden"},r)},d&&{fontSize:u.large.fontSize},h&&[{marginRight:0,height:44,lineHeight:44,backgroundColor:c.buttonBackground,padding:"0 10px",verticalAlign:"top",selectors:(i={":focus":{outlineOffset:"-2px"}},i[".".concat(_a," &:focus::before, :host(.").concat(_a,") &:focus::before")]={height:"auto",background:"transparent",transition:"none"},i["&:hover, &:focus"]={color:c.buttonTextCheckedHovered},i["&:active, &:hover"]={color:c.primaryButtonText,backgroundColor:c.primaryButtonBackground},i["&.".concat(t.linkIsSelected)]={backgroundColor:c.primaryButtonBackground,color:c.primaryButtonText,fontWeight:qo.regular,selectors:(o={":before":{backgroundColor:"transparent",transition:"none",position:"absolute",top:0,left:0,right:0,bottom:0,content:'""',height:0},":hover":{backgroundColor:c.primaryButtonBackgroundHovered,color:c.primaryButtonText},":active":{backgroundColor:c.primaryButtonBackgroundPressed,color:c.primaryButtonText}},o[ua]=hi({fontWeight:qo.semibold,color:"HighlightText",background:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),o)},i[".".concat(_a," &.").concat(t.linkIsSelected,":focus, :host(.").concat(_a,") &.").concat(t.linkIsSelected,":focus")]={outlineColor:c.primaryButtonText},i)}]]]},ym=nu(mm,(function(e){var t,n,r,i,o=e.className,a=e.linkSize,s=e.linkFormat,l=e.theme,c=l.semanticColors,u=l.fonts,d=ca(vm,l),h="large"===a,p="tabs"===s;return{root:[d.root,u.medium,ps,{position:"relative",color:c.link,whiteSpace:"nowrap"},h&&d.rootIsLarge,p&&d.rootIsTabs,o],itemContainer:{selectors:{"&[hidden]":{display:"none"}}},link:mi(mi([d.link],_m(e,d),!0),[(t={},t["&[data-is-overflowing='true']"]={display:"none"},t)],!1),overflowMenuButton:[d.overflowMenuButton,(n={visibility:"hidden",position:"absolute",right:0},n[".".concat(d.link,"[data-is-overflowing='true'] ~ &")]={visibility:"visible",position:"relative"},n)],linkInMenu:mi(mi([d.linkInMenu],_m(e,d,!0),!0),[{justifyContent:"start",height:36,lineHeight:36,width:"100%"}],!1),linkIsSelected:[d.link,d.linkIsSelected,{fontWeight:qo.semibold,selectors:(r={":before":{backgroundColor:c.inputBackgroundChecked,selectors:(i={},i[ua]={backgroundColor:"Highlight"},i)},":hover::before":{left:0,right:0}},r[ua]={color:"Highlight"},r)}],linkContent:[d.linkContent,{flex:"0 1 100%",selectors:{"& > * ":{marginLeft:4},"& > *:first-child":{marginLeft:0}}}],text:[d.text,{display:"inline-block",verticalAlign:"top"}],count:[d.count,{display:"inline-block",verticalAlign:"top"}],icon:d.icon}}),void 0,{scope:"Pivot"}),bm=ia((function(e,t){var n,r,i,o,a,s,l,c,u,d,h,p,f,m,g,v,_,y=e.effects,b=e.palette,x=e.semanticColors,S={left:-2,top:-2,bottom:-2,right:-2,border:"none"},E={position:"absolute",width:1,right:31,top:8,bottom:8};return Es({splitButtonContainer:[Sa(e,{highContrastStyle:S,inset:2,pointerEvents:"none"}),{display:"inline-flex",".ms-Button--default":{borderTopRightRadius:"0",borderBottomRightRadius:"0",borderRight:"none",flexGrow:"1"},".ms-Button--primary":(n={borderTopRightRadius:"0",borderBottomRightRadius:"0",border:"none",flexGrow:"1",":hover":{border:"none"},":active":{border:"none"}},n[ua]=hi(hi({color:"WindowText",backgroundColor:"Window",border:"1px solid WindowText",borderRightWidth:"0"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),{":hover":{backgroundColor:"Highlight",border:"1px solid Highlight",borderRightWidth:"0",color:"HighlightText"},":active":{border:"1px solid Highlight"}}),n),".ms-Button--default + .ms-Button":(r={},r[ua]={border:"1px solid WindowText",borderLeftWidth:"0",":hover":{backgroundColor:"HighlightText",borderColor:"Highlight",color:"Highlight",".ms-Button-menuIcon":hi({backgroundColor:"HighlightText",color:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"})}},r),'.ms-Button--default + .ms-Button[aria-expanded="true"]':(i={},i[ua]={backgroundColor:"HighlightText",borderColor:"Highlight",color:"Highlight",".ms-Button-menuIcon":hi({backgroundColor:"HighlightText",color:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"})},i),".ms-Button--primary + .ms-Button":(o={border:"none"},o[ua]={border:"1px solid WindowText",borderLeftWidth:"0",":hover":{borderLeftWidth:"0",backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",".ms-Button-menuIcon":hi(hi({},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),{color:"HighlightText"})}},o),'.ms-Button--primary + .ms-Button[aria-expanded="true"]':(a={},a[ua]=hi(hi({backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),{".ms-Button-menuIcon":{color:"HighlightText"}}),a),".ms-Button.is-disabled":(s={},s[ua]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},s)}],splitButtonContainerHovered:{".ms-Button--default.is-disabled":(l={backgroundColor:x.buttonBackgroundDisabled,color:x.buttonTextDisabled},l[ua]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},l),".ms-Button--primary.is-disabled":(c={backgroundColor:x.primaryButtonBackgroundDisabled,color:x.primaryButtonTextDisabled},c[ua]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},c)},splitButtonContainerChecked:{".ms-Button--primary":(u={},u[ua]=hi({color:"Window",backgroundColor:"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),u)},splitButtonContainerCheckedHovered:{".ms-Button--primary":(d={},d[ua]=hi({color:"Window",backgroundColor:"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),d)},splitButtonContainerFocused:{outline:"none!important"},splitButtonMenuButton:(h={padding:6,height:"auto",boxSizing:"border-box",borderRadius:0,borderTopRightRadius:y.roundedCorner2,borderBottomRightRadius:y.roundedCorner2,border:"1px solid ".concat(b.neutralSecondaryAlt),borderLeft:"none",outline:"transparent",userSelect:"none",display:"inline-block",textDecoration:"none",textAlign:"center",cursor:"pointer",verticalAlign:"top",width:32,marginLeft:-1,marginTop:0,marginRight:0,marginBottom:0},h[ua]={".ms-Button-menuIcon":{color:"WindowText"}},h),splitButtonDivider:hi(hi({},E),(p={},p[ua]={backgroundColor:"WindowText"},p)),splitButtonDividerDisabled:hi(hi({},E),(f={},f[ua]={backgroundColor:"GrayText"},f)),splitButtonMenuButtonDisabled:(m={pointerEvents:"none",border:"none",":hover":{cursor:"default"},".ms-Button--primary":(g={},g[ua]={color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},g),".ms-Button-menuIcon":(v={},v[ua]={color:"GrayText"},v)},m[ua]={color:"GrayText",border:"1px solid GrayText",backgroundColor:"Window"},m),splitButtonFlexContainer:{display:"flex",height:"100%",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"},splitButtonContainerDisabled:(_={outline:"none",border:"none"},_[ua]=hi({color:"GrayText",borderColor:"GrayText",backgroundColor:"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),_),splitButtonMenuFocused:hi({},Sa(e,{highContrastStyle:S,inset:2}))},t)})),xm=ia((function(e,t,n,r){var i,o,a,s,l,c,u,d,h,p,f,m,g,v=om(e),_=bm(e),y=e.palette,b=e.semanticColors;return Es(v,_,{root:[Sa(e,{inset:2,highContrastStyle:{left:4,top:4,bottom:4,right:4,border:"none"},borderColor:"transparent"}),e.fonts.medium,(i={minWidth:"40px",backgroundColor:y.white,color:y.neutralPrimary,padding:"0 4px",border:"none",borderRadius:0},i[ua]={border:"none"},i)],rootHovered:(o={backgroundColor:y.neutralLighter,color:y.neutralDark},o[ua]={color:"Highlight"},o[".".concat(Kf.msButtonIcon)]={color:y.themeDarkAlt},o[".".concat(Kf.msButtonMenuIcon)]={color:y.neutralPrimary},o),rootPressed:(a={backgroundColor:y.neutralLight,color:y.neutralDark},a[".".concat(Kf.msButtonIcon)]={color:y.themeDark},a[".".concat(Kf.msButtonMenuIcon)]={color:y.neutralPrimary},a),rootChecked:(s={backgroundColor:y.neutralLight,color:y.neutralDark},s[".".concat(Kf.msButtonIcon)]={color:y.themeDark},s[".".concat(Kf.msButtonMenuIcon)]={color:y.neutralPrimary},s),rootCheckedHovered:(l={backgroundColor:y.neutralQuaternaryAlt},l[".".concat(Kf.msButtonIcon)]={color:y.themeDark},l[".".concat(Kf.msButtonMenuIcon)]={color:y.neutralPrimary},l),rootExpanded:(c={backgroundColor:y.neutralLight,color:y.neutralDark},c[".".concat(Kf.msButtonIcon)]={color:y.themeDark},c[".".concat(Kf.msButtonMenuIcon)]={color:y.neutralPrimary},c),rootExpandedHovered:{backgroundColor:y.neutralQuaternaryAlt},rootDisabled:(u={backgroundColor:y.white},u[".".concat(Kf.msButtonIcon)]=(d={color:b.disabledBodySubtext},d[ua]=hi({color:"GrayText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),d),u[ua]=hi({color:"GrayText",backgroundColor:"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),u),splitButtonContainer:(h={height:"100%"},h[ua]={border:"none"},h),splitButtonDividerDisabled:(p={},p[ua]={backgroundColor:"Window"},p),splitButtonDivider:{backgroundColor:y.neutralTertiaryAlt},splitButtonMenuButton:{backgroundColor:y.white,border:"none",borderTopRightRadius:"0",borderBottomRightRadius:"0",color:y.neutralSecondary,":hover":(f={backgroundColor:y.neutralLighter,color:y.neutralDark},f[ua]={color:"Highlight"},f[".".concat(Kf.msButtonIcon)]={color:y.neutralPrimary},f),":active":(m={backgroundColor:y.neutralLight},m[".".concat(Kf.msButtonIcon)]={color:y.neutralPrimary},m)},splitButtonMenuButtonDisabled:(g={backgroundColor:y.white},g[ua]=hi({color:"GrayText",border:"none",backgroundColor:"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),g),splitButtonMenuButtonChecked:{backgroundColor:y.neutralLight,color:y.neutralDark,":hover":{backgroundColor:y.neutralQuaternaryAlt}},splitButtonMenuButtonExpanded:{backgroundColor:y.neutralLight,color:y.black,":hover":{backgroundColor:y.neutralQuaternaryAlt}},splitButtonMenuIcon:{color:y.neutralPrimary},splitButtonMenuIconDisabled:{color:y.neutralTertiary},label:{fontWeight:"normal"},icon:{color:y.themePrimary},menuIcon:{color:y.neutralSecondary}},t)})),Sm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return di(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return r.createElement(Qf,hi({},this.props,{variantClassName:"ms-Button--commandBar",styles:xm(n,t),onRenderDescription:Du}))},t=fi([nm("CommandBarButton",["theme","styles"],!0)],t)}(r.Component);function Em(e){return Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(e)}function wm(e){var t=function(e,t){if("object"!=Em(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Em(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Em(t)?t:t+""}function Cm(e,t,n){return(t=wm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mm(Object(n),!0).forEach((function(t){Cm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Rm=(gm=class{constructor(){var e,t,n;this.shapes=[],this.selectedShapeId=null,this.nextId=0,E(e=this)?Jt(e,e,t,n):pr((function(){var r=Kn(e,n)[Y];if(!e[xn]){var i=Object.getPrototypeOf(e),o=new Set([].concat(D(e),D(i)));o.delete("constructor"),o.delete(Y),C(i,xn,o)}e[xn].forEach((function(e){return r.make_(e,!t||!(e in t)||t[e])}))}))}addShape(e){const t=()=>4*(Math.random()-.5);let n={x:0,y:0,z:0};"cube"===e&&(n={x:1.745,y:.055,z:.283});const r={id:this.nextId.toString(),type:e,position:{x:t(),y:1,z:t()},rotation:n,scale:{x:1,y:1,z:1},color:"#0078d4",visible:!0,hasChanged:!0};this.shapes.push(r),this.nextId++}removeShape(e){this.shapes=this.shapes.filter((t=>t.id!==e)),this.selectedShapeId===e&&(this.selectedShapeId=null)}selectShape(e){if(this.selectedShapeId){const e=this.shapes.find((e=>e.id===this.selectedShapeId));e&&(e.hasChanged=!0)}if(e){const t=this.shapes.find((t=>t.id===e));t&&(t.hasChanged=!0)}this.selectedShapeId=e}updateShape(e,t){const n=this.shapes.findIndex((t=>t.id===e));if(-1!==n){const e=Tm(Tm(Tm({},this.shapes[n]),t),{},{hasChanged:!0});this.shapes[n]=e}}get selectedShape(){return this.selectedShapeId&&this.shapes.find((e=>e.id===this.selectedShapeId))||null}get changedShapes(){return this.shapes.filter((e=>e.hasChanged))}resetChangeFlags(){this.shapes.forEach((e=>{e.hasChanged=!1}))}clearShapes(){this.shapes=[],this.selectedShapeId=null,this.nextId=0}},function(e,t,n,r,i){var o={};Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&Object.defineProperty(e,t,o)}(gm.prototype,"resetChangeFlags",[zt],Object.getOwnPropertyDescriptor(gm.prototype,"resetChangeFlags"),gm.prototype),gm);const Am=new Rm;const Pm=new class{constructor(){this.translations={zh:null,en:null}}detectBrowserLanguage(){return navigator.language.toLowerCase().startsWith("zh")?"zh":"en"}getInitialLanguage(){const e=localStorage.getItem("app-language");return!e||"zh"!==e&&"en"!==e?this.detectBrowserLanguage():e}saveLanguage(e){localStorage.setItem("app-language",e)}async loadTranslations(e){if(this.translations[e])return this.translations[e];try{const t=await fetch("/locales/".concat(e,".json"));if(!t.ok)throw new Error("Failed to load ".concat(e," translations"));const n=await t.json();return this.translations[e]=n,n}catch(t){return console.error("Error loading translations for ".concat(e,":"),t),"en"!==e?this.loadTranslations("en"):this.getFallbackTranslations()}}getFallbackTranslations(){return{create:"Create",manage:"Manage",sphere:"Sphere",cube:"Cube",cylinder:"Cylinder",cone:"Cone",torus:"Torus",deleteSelected:"Delete Selected",clearAll:"Clear All",shapeList:"Shape List",noShapes:"No shapes available. Please add some shapes to get started.",type:"Type",actions:"Actions",hide:"Hide",show:"Show",delete:"Delete",totalShapes:"Total Shapes",selectedShape:"Selected",unknown:"Unknown",language:"Language",chinese:"\u4e2d\u6587",english:"English",appName:"GeomTool",version:"v1.0"}}clearCache(){this.translations={zh:null,en:null}}};const Dm=new class{constructor(){this.currentLanguage="zh",this.translations=null,this.isLoading=!1,bn(this,{currentLanguage:Ue,translations:Ue,isLoading:Ue,setLanguage:zt}),this.initialize()}async initialize(){const e=Pm.getInitialLanguage();await this.setLanguage(e)}async setLanguage(e){if(this.currentLanguage!==e||!this.translations){this.setLoading(!0);try{const t=await Pm.loadTranslations(e);!function(e){qe(e.name,!1,e,this,void 0)}((()=>{this.currentLanguage=e,this.translations=t,this.isLoading=!1})),Pm.saveLanguage(e)}catch(t){console.error("Failed to load language:",t),this.setLoading(!1)}}}setLoading(e){this.isLoading=e}get t(){return this.translations||{create:"Create",manage:"Manage",sphere:"Sphere",cube:"Cube",cylinder:"Cylinder",cone:"Cone",torus:"Torus",deleteSelected:"Delete Selected",clearAll:"Clear All",shapeList:"Shape List",noShapes:"No shapes available.",type:"Type",actions:"Actions",hide:"Hide",show:"Show",delete:"Delete",totalShapes:"Total Shapes",selectedShape:"Selected",unknown:"Unknown",language:"Language",chinese:"\u4e2d\u6587",english:"English",appName:"GeomTool",version:"v1.0"}}};var Im;!function(e){e[e.Normal=0]="Normal",e[e.Divider=1]="Divider",e[e.Header=2]="Header",e[e.SelectAll=3]="SelectAll"}(Im||(Im={}));var km=function(){function e(){this._size=0}return e.prototype.updateOptions=function(e){for(var t=[],n=[],r=0,i=0;i<e.length;i++){var o=e[i],a=o.itemType,s=o.hidden;a===Im.Divider||a===Im.Header?(t.push(i),n.push(i)):s?n.push(i):r++}this._size=r,this._displayOnlyOptionsCache=t,this._notSelectableOptionsCache=n,this._cachedOptions=mi([],e,!0)},Object.defineProperty(e.prototype,"optionSetSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedOptions",{get:function(){return this._cachedOptions},enumerable:!1,configurable:!0}),e.prototype.positionInSet=function(e){if(void 0!==e){for(var t=0;e>this._notSelectableOptionsCache[t];)t++;if(this._displayOnlyOptionsCache[t]===e)throw new Error("Unexpected: Option at index ".concat(e," is not a selectable element."));if(this._notSelectableOptionsCache[t]!==e)return e-t+1}},e}(),Lm=lu({cacheSize:100}),Nm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return di(t,e),t.prototype.render=function(){var e=this.props,t=e.as,n=void 0===t?"label":t,i=e.children,o=e.className,a=e.disabled,s=e.styles,l=e.required,c=e.theme,u=Lm(s,{className:o,disabled:a,required:l,theme:c});return r.createElement(n,hi({},zl(this.props,Bl),{className:u.root}),i)},t}(r.Component),Om=nu(Nm,(function(e){var t,n=e.theme,r=e.className,i=e.disabled,o=e.required,a=n.semanticColors,s=qo.semibold,l=a.bodyText,c=a.disabledBodyText,u=a.errorText;return{root:["ms-Label",n.fonts.medium,{fontWeight:s,color:l,boxSizing:"border-box",boxShadow:"none",margin:0,display:"block",padding:"5px 0",wordWrap:"break-word",overflowWrap:"break-word"},i&&{color:c,selectors:(t={},t[ua]=hi({color:"GrayText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),t)},o&&{selectors:{"::after":{content:"' *'",color:u,paddingRight:12}}},r]}}),void 0,{scope:"Label"}),Fm=ia((function(e,t){var n,r=om(e),i=bm(e),o=e.palette;return Es(r,{root:{padding:"0 4px",width:"32px",height:"32px",backgroundColor:"transparent",border:"none",color:e.semanticColors.link},rootHovered:(n={color:o.themeDarkAlt,backgroundColor:o.neutralLighter},n[ua]={borderColor:"Highlight",color:"Highlight"},n),rootHasMenu:{width:"auto"},rootPressed:{color:o.themeDark,backgroundColor:o.neutralLight},rootExpanded:{color:o.themeDark,backgroundColor:o.neutralLight},rootChecked:{color:o.themeDark,backgroundColor:o.neutralLight},rootCheckedHovered:{color:o.themeDark,backgroundColor:o.neutralQuaternaryAlt},rootDisabled:{color:o.neutralTertiaryAlt}},i,t)})),Um=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return di(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme;return r.createElement(Qf,hi({},this.props,{variantClassName:"ms-Button--icon",styles:Fm(n,t),onRenderText:Du,onRenderDescription:Du}))},t=fi([nm("IconButton",["theme","styles"],!0)],t)}(r.Component),Bm=lu(),zm=function(e){function t(t){var n=e.call(this,t)||this;yu(n);var r=n.props.allowTouchBodyScroll,i=void 0!==r&&r;return n._allowTouchBodyScroll=i,n}return di(t,e),t.prototype.componentDidMount=function(){!this._allowTouchBodyScroll&&function(){var e=Za();e&&e.body&&!Td&&(e.body.classList.add(Rd),e.body.addEventListener("touchmove",Pd,{passive:!1,capture:!1})),Td++}()},t.prototype.componentWillUnmount=function(){!this._allowTouchBodyScroll&&function(){if(Td>0){var e=Za();e&&e.body&&1===Td&&(e.body.classList.remove(Rd),e.body.removeEventListener("touchmove",Pd)),Td--}}()},t.prototype.render=function(){var e=this.props,t=e.isDarkThemed,n=e.className,i=e.theme,o=e.styles,a=zl(this.props,Bl),s=Bm(o,{theme:i,className:n,isDark:t});return r.createElement("div",hi({},a,{className:s.root}))},t}(r.Component),Hm={root:"ms-Overlay",rootDark:"ms-Overlay--dark"},Vm=nu(zm,(function(e){var t,n=e.className,r=e.theme,i=e.isNone,o=e.isDark,a=r.palette,s=ca(Hm,r);return{root:[s.root,r.fonts.medium,{backgroundColor:a.whiteTranslucent40,top:0,right:0,bottom:0,left:0,position:"absolute",selectors:(t={},t[ua]={border:"1px solid WindowText",opacity:0},t)},i&&{visibility:"hidden"},o&&[s.rootDark,{backgroundColor:a.blackTranslucent40}],n]}}),void 0,{scope:"Overlay"}),Wm=function(e){for(var t=e.activeElement;null===t||void 0===t?void 0:t.shadowRoot;)t=t.shadowRoot.activeElement;return t},Gm=function(e){var t=e.target;return t&&t.shadowRoot&&(t=e.composedPath()[0]),t};function jm(e){var t=r.useRef((function(){throw new Error("Cannot call an event handler while rendering")}));return ku((function(){t.current=e}),[e]),ru((function(){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(void 0,e)}}))}var Xm,Km={disabled:!1,disableFirstFocus:!1,forceFocusInsideTrap:!0,isClickableOutsideFocusTrap:!1,"data-tabster":'{"uncontrolled": {"completely": true}}'},qm=r.forwardRef((function(e,t){var n,i=r.useRef(null),o=r.useRef(null),a=r.useRef(null),s=Cc(i,t),l=tl(),c=Jh(),u=!!Jf(),d=null===(n=sf(!1))||void 0===n||n,h=wc(Km,e),p=ru({hasFocus:!1,focusStackId:Uc("ftz-",h.id)}),f=h.children,m=h.componentRef,g=h.disabled,v=h.disableFirstFocus,_=h.forceFocusInsideTrap,y=h.focusPreviouslyFocusedInnerElement,b=h.firstFocusableSelector,x=h.firstFocusableTarget,S=h.disableRestoreFocus,E=void 0===S?h.ignoreExternalFocusing:S,w=h.isClickableOutsideFocusTrap,C=h.enableAriaHiddenSiblings,M={"aria-hidden":!0,style:{pointerEvents:"none",position:"fixed"},tabIndex:g?-1:0,"data-is-visible":!0,"data-is-focus-trap-zone-bumper":!0},T=r.useCallback((function(e){e!==o.current&&e!==a.current&&Md(e)}),[]),R=jm((function(){if(i.current){var e=p.previouslyFocusedElementInTrapZone;if(y&&e&&pd(i.current,e))T(e);else{var t=null;if("string"===typeof x)t=i.current.querySelector(x);else if(x)t=x(i.current);else if(b){var n="string"===typeof b?b:b();t=i.current.querySelector("."+n)}t||(t=vd(i.current,i.current.firstChild,!1,!1,!1,!0,void 0,void 0,void 0,u)),t&&T(t)}}})),A=function(e){if(!g&&i.current){var t,n,r,s=e===p.hasFocus?(t=i.current,n=a.current,void 0===(r=!1)&&(r=!0),gd(t,n,r,!1,!0,!0,!1,!0,u)):function(e,t,n,r,i){return void 0===r&&(r=!0),vd(e,t,r,!1,!1,n,!1,!0,void 0,i)}(i.current,o.current,!0,!1,u);s&&(s===o.current||s===a.current?R():s.focus())}},P=jm((function(e){if(qm.focusStack=qm.focusStack.filter((function(e){return p.focusStackId!==e})),l){var t=l.activeElement;E||"function"!==typeof(null===e||void 0===e?void 0:e.focus)||!pd(i.current,t)&&t!==l.body&&!t.shadowRoot||T(e)}})),D=jm((function(e){if(!g&&p.focusStackId===qm.focusStack.slice(-1)[0]){var t=Gm(e);t&&!pd(i.current,t)&&(l&&Wm(l)===l.body?setTimeout((function(){l&&Wm(l)===l.body&&(R(),p.hasFocus=!0)}),0):(R(),p.hasFocus=!0),e.preventDefault(),e.stopPropagation())}}));return r.useEffect((function(){var e=[];return _&&e.push(ih(c,"focus",D,!0)),w||e.push(ih(c,"click",D,!0)),function(){e.forEach((function(e){return e()}))}}),[_,w,c]),r.useEffect((function(){if(!g&&(d||_)&&i.current){qm.focusStack.push(p.focusStackId);var e=h.elementToFocusOnDismiss||Wm(l);return v||pd(i.current,e)||R(),function(){return P(e)}}}),[_,g]),r.useEffect((function(){if(!g&&C)return Gh(i.current)}),[g,C,i]),function(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){return function(){var e;null===(e=t.current)||void 0===e||e.call(t)}}),[])}((function(){delete p.previouslyFocusedElementInTrapZone})),function(e,t,n){r.useImperativeHandle(e,(function(){return{get previouslyFocusedElement(){return t},focus:n}}),[n,t])}(m,p.previouslyFocusedElementInTrapZone,R),r.createElement("div",hi({"aria-labelledby":h.ariaLabelledBy},zl(h,Bl),{ref:s,onFocusCapture:function(e){var t;null===(t=h.onFocusCapture)||void 0===t||t.call(h,e),e.target===o.current?A(!0):e.target===a.current&&A(!1),p.hasFocus=!0,e.target!==e.currentTarget&&e.target!==o.current&&e.target!==a.current&&(p.previouslyFocusedElementInTrapZone=Gm(e.nativeEvent))},onBlurCapture:function(e){var t;null===(t=h.onBlurCapture)||void 0===t||t.call(h,e);var n=e.relatedTarget;null===e.relatedTarget&&(n=Wm(l)),pd(i.current,n)||(p.hasFocus=!1)}}),r.createElement("div",hi({},M,{ref:o})),f,r.createElement("div",hi({},M,{ref:a})))}));qm.displayName="FocusTrapZone",qm.focusStack=[],function(e){e[e.smallFluid=0]="smallFluid",e[e.smallFixedFar=1]="smallFixedFar",e[e.smallFixedNear=2]="smallFixedNear",e[e.medium=3]="medium",e[e.large=4]="large",e[e.largeFixed=5]="largeFixed",e[e.extraLarge=6]="extraLarge",e[e.custom=7]="custom",e[e.customNear=8]="customNear"}(Xm||(Xm={}));var Ym,Zm=lu();!function(e){e[e.closed=0]="closed",e[e.animatingOpen=1]="animatingOpen",e[e.open=2]="open",e[e.animatingClosed=3]="animatingClosed"}(Ym||(Ym={}));var Qm,Jm,$m,eg,tg,ng=function(e){function t(t){var n=e.call(this,t)||this;n._panel=r.createRef(),n._animationCallback=null,n._hasCustomNavigation=!(!n.props.onRenderNavigation&&!n.props.onRenderNavigationContent),n.dismiss=function(e){n.props.onDismiss&&n.isActive&&n.props.onDismiss(e),(!e||e&&!e.defaultPrevented)&&n.close()},n._allowScrollOnPanel=function(e){var t,r,i;n._resizeObserver=n._createResizeObserver((function(t){t.length>0&&t[0].target===e&&n._updateFooterPosition()})),e?(null===(t=n._resizeObserver)||void 0===t||t.observe(e),n._allowTouchBodyScroll?(r=e,i=n._events,r&&i.on(r,"touchmove",(function(e){e.stopPropagation()}),{passive:!1})):function(e,t){var n=ga(e);if(e&&n){var r=0,i=null,o=n.getComputedStyle(e);t.on(e,"touchstart",(function(e){1===e.targetTouches.length&&(r=e.targetTouches[0].clientY)}),{passive:!1}),t.on(e,"touchmove",(function(e){if(1===e.targetTouches.length&&(e.stopPropagation(),i)){var t=e.targetTouches[0].clientY-r,a=Dd(e.target);a&&i!==a&&(i=a,o=n.getComputedStyle(i));var s=i.scrollTop,l="column-reverse"===(null===o||void 0===o?void 0:o.flexDirection);0===s&&(l?t<0:t>0)&&e.preventDefault(),i.scrollHeight-Math.abs(Math.ceil(s))<=i.clientHeight&&(l?t>0:t<0)&&e.preventDefault()}}),{passive:!1}),i=e}}(e,n._events)):n._events.off(n._scrollableContent),n._scrollableContent=e},n._onRenderNavigation=function(e){if(!n.props.onRenderNavigationContent&&!n.props.onRenderNavigation&&!n.props.hasCloseButton)return null;var t=n.props.onRenderNavigationContent,i=void 0===t?n._onRenderNavigationContent:t;return r.createElement("div",{className:n._classNames.navigation},i(e,n._onRenderNavigationContent))},n._onRenderNavigationContent=function(e){var t,i=e.closeButtonAriaLabel,o=e.hasCloseButton,a=e.onRenderHeader,s=void 0===a?n._onRenderHeader:a;if(o){var l=null===(t=n._classNames.subComponentStyles)||void 0===t?void 0:t.closeButton();return r.createElement(r.Fragment,null,!n._hasCustomNavigation&&s(n.props,n._onRenderHeader,n._headerTextId),r.createElement(Um,{styles:l,className:n._classNames.closeButton,onClick:n._onPanelClick,ariaLabel:i,title:i,"data-is-visible":!0,iconProps:{iconName:"Cancel"}}))}return null},n._onRenderHeader=function(e,t,i){var o=e.headerText,a=e.headerTextProps,s=void 0===a?{}:a;return o?r.createElement("div",{className:n._classNames.header},r.createElement("div",hi({id:i,role:"heading","aria-level":1},s,{className:Js(n._classNames.headerText,s.className)}),o)):null},n._onRenderBody=function(e){return r.createElement("div",{className:n._classNames.content},e.children)},n._onRenderFooter=function(e){var t=n.props.onRenderFooterContent,i=void 0===t?null:t;return i?r.createElement("div",{className:n._classNames.footer},r.createElement("div",{className:n._classNames.footerInner},i())):null},n._animateTo=function(e){e===Ym.open&&n.props.onOpen&&n.props.onOpen(),n._animationCallback=n._async.setTimeout((function(){n.setState({visibility:e}),n._onTransitionComplete(e)}),200)},n._clearExistingAnimationTimer=function(){null!==n._animationCallback&&n._async.clearTimeout(n._animationCallback)},n._onPanelClick=function(e){n.dismiss(e)},n._onTransitionComplete=function(e){n._updateFooterPosition(),e===Ym.open&&n.props.onOpened&&n.props.onOpened(),e===Ym.closed&&n.props.onDismissed&&n.props.onDismissed()};var i=n.props.allowTouchBodyScroll,o=void 0!==i&&i;return n._allowTouchBodyScroll=o,yu(n),n.state={isFooterSticky:!1,visibility:Ym.closed,id:cl("Panel")},n}return di(t,e),t.getDerivedStateFromProps=function(e,t){return void 0===e.isOpen?null:!e.isOpen||t.visibility!==Ym.closed&&t.visibility!==Ym.animatingClosed?e.isOpen||t.visibility!==Ym.open&&t.visibility!==Ym.animatingOpen?null:{visibility:Ym.animatingClosed}:{visibility:Ym.animatingOpen}},t.prototype.componentDidMount=function(){this._async=new wu(this),this._events=new Cu(this);var e=ep(this.context),t=$h(this.context);this._events.on(e,"resize",this._updateFooterPosition),this._shouldListenForOuterClick(this.props)&&this._events.on(null===t||void 0===t?void 0:t.body,"mousedown",this._dismissOnOuterClick,!0),this.props.isOpen&&this.setState({visibility:Ym.animatingOpen})},t.prototype.componentDidUpdate=function(e,t){var n=this._shouldListenForOuterClick(this.props),r=this._shouldListenForOuterClick(e);this.state.visibility!==t.visibility&&(this._clearExistingAnimationTimer(),this.state.visibility===Ym.animatingOpen?this._animateTo(Ym.open):this.state.visibility===Ym.animatingClosed&&this._animateTo(Ym.closed));var i=$h(this.context);n&&!r?this._events.on(null===i||void 0===i?void 0:i.body,"mousedown",this._dismissOnOuterClick,!0):!n&&r&&this._events.off(null===i||void 0===i?void 0:i.body,"mousedown",this._dismissOnOuterClick,!0)},t.prototype.componentWillUnmount=function(){var e;this._async.dispose(),this._events.dispose(),null===(e=this._resizeObserver)||void 0===e||e.disconnect()},t.prototype.render=function(){var e=this.props,t=e.className,n=void 0===t?"":t,i=e.elementToFocusOnDismiss,o=e.firstFocusableSelector,a=e.focusTrapZoneProps,s=e.forceFocusInsideTrap,l=e.hasCloseButton,c=e.headerText,u=e.headerClassName,d=void 0===u?"":u,h=e.ignoreExternalFocusing,p=e.isBlocking,f=e.isFooterAtBottom,m=e.isLightDismiss,g=e.isHiddenOnDismiss,v=e.layerProps,_=e.overlayProps,y=e.popupProps,b=e.type,x=e.styles,S=e.theme,E=e.customWidth,w=e.onLightDismissClick,C=void 0===w?this._onPanelClick:w,M=e.onRenderNavigation,T=void 0===M?this._onRenderNavigation:M,R=e.onRenderHeader,A=void 0===R?this._onRenderHeader:R,P=e.onRenderBody,D=void 0===P?this._onRenderBody:P,I=e.onRenderFooter,k=void 0===I?this._onRenderFooter:I,L=this.state,N=L.isFooterSticky,O=L.visibility,F=L.id,U=b===Xm.smallFixedNear||b===Xm.customNear,B=Ac(S)?U:!U,z=b===Xm.custom||b===Xm.customNear?{width:E}:{},H=zl(this.props,Bl),V=this.isActive,W=O===Ym.animatingClosed||O===Ym.animatingOpen;if(this._headerTextId=c&&F+"-headerText",!V&&!W&&!g)return null;this._classNames=Zm(x,{theme:S,className:n,focusTrapZoneClassName:a?a.className:void 0,hasCloseButton:l,headerClassName:d,isAnimating:W,isFooterSticky:N,isFooterAtBottom:f,isOnRightSide:B,isOpen:V,isHiddenOnDismiss:g,type:b,hasCustomNavigation:this._hasCustomNavigation});var G,j=this._classNames,X=this._allowTouchBodyScroll;return p&&V&&(G=r.createElement(Vm,hi({className:j.overlay,isDarkThemed:!1,onClick:m?C:void 0,allowTouchBodyScroll:X},_))),r.createElement(Up,hi({},v),r.createElement(Yh,hi({role:"dialog","aria-modal":p?"true":void 0,ariaLabelledBy:this._headerTextId?this._headerTextId:void 0,onDismiss:this.dismiss,className:j.hiddenPanel,enableAriaHiddenSiblings:!!V},y),r.createElement("div",hi({"aria-hidden":!V&&W},H,{ref:this._panel,className:j.root}),G,r.createElement(qm,hi({ignoreExternalFocusing:h,forceFocusInsideTrap:!(!p||g&&!V)&&s,firstFocusableSelector:o,isClickableOutsideFocusTrap:!0},a,{className:j.main,style:z,elementToFocusOnDismiss:i}),r.createElement("div",{className:j.contentInner},r.createElement("div",{ref:this._allowScrollOnPanel,className:j.scrollableContent,"data-is-scrollable":!0},r.createElement("div",{className:j.commands,"data-is-visible":!0},T(this.props,this._onRenderNavigation)),(this._hasCustomNavigation||!l)&&A(this.props,this._onRenderHeader,this._headerTextId),D(this.props,this._onRenderBody),k(this.props,this._onRenderFooter)))))))},t.prototype.open=function(){void 0===this.props.isOpen&&(this.isActive||this.setState({visibility:Ym.animatingOpen}))},t.prototype.close=function(){void 0===this.props.isOpen&&this.isActive&&this.setState({visibility:Ym.animatingClosed})},Object.defineProperty(t.prototype,"isActive",{get:function(){return this.state.visibility===Ym.open||this.state.visibility===Ym.animatingOpen},enumerable:!1,configurable:!0}),t.prototype._createResizeObserver=function(e){var t,n=$h(this.context),r=null;return(null===(t=null===n||void 0===n?void 0:n.defaultView)||void 0===t?void 0:t.ResizeObserver)&&(r=new n.defaultView.ResizeObserver(e)),r},t.prototype._shouldListenForOuterClick=function(e){return!!e.isBlocking&&!!e.isOpen},t.prototype._updateFooterPosition=function(){var e=this._scrollableContent;if(e){var t=e.clientHeight,n=e.scrollHeight;this.setState({isFooterSticky:t<n})}},t.prototype._dismissOnOuterClick=function(e){var t=this._panel.current;this.isActive&&t&&!e.defaultPrevented&&(pd(t,e.target)||(this.props.onOuterClick?this.props.onOuterClick(e):this.dismiss(e)))},t.defaultProps={isHiddenOnDismiss:!1,isOpen:void 0,isBlocking:!0,hasCloseButton:!0,type:Xm.smallFixedFar},t.contextType=$s,t}(r.Component),rg={root:"ms-Panel",main:"ms-Panel-main",commands:"ms-Panel-commands",contentInner:"ms-Panel-contentInner",scrollableContent:"ms-Panel-scrollableContent",navigation:"ms-Panel-navigation",closeButton:"ms-Panel-closeButton ms-PanelAction-close",header:"ms-Panel-header",headerText:"ms-Panel-headerText",content:"ms-Panel-content",footer:"ms-Panel-footer",footerInner:"ms-Panel-footerInner",isOpen:"is-open",hasCloseButton:"ms-Panel--hasCloseButton",smallFluid:"ms-Panel--smFluid",smallFixedNear:"ms-Panel--smLeft",smallFixedFar:"ms-Panel--sm",medium:"ms-Panel--md",large:"ms-Panel--lg",largeFixed:"ms-Panel--fixed",extraLarge:"ms-Panel--xl",custom:"ms-Panel--custom",customNear:"ms-Panel--customLeft"},ig="100%",og="auto",ag=272,sg=340,lg=592,cg=644,ug=940,dg="auto",hg=0,pg=48,fg=428,mg=176,gg=((Qm={})["@media (min-width: ".concat(da,"px)")]={width:sg},Qm),vg=((Jm={})["@media (min-width: ".concat(640,"px)")]={width:lg},Jm["@media (min-width: ".concat(1024,"px)")]={width:cg},Jm),_g=(($m={})["@media (min-width: ".concat(768,"px)")]={left:pg,width:og},$m["@media (min-width: ".concat(ha,"px)")]={left:fg},$m),yg=((eg={})["@media (min-width: ".concat(ha,"px)")]={left:dg,width:ug},eg),bg=((tg={})["@media (min-width: ".concat(ha,"px)")]={left:mg},tg),xg=function(e){var t;switch(e){case Xm.smallFixedFar:t=hi({},gg);break;case Xm.medium:t=hi(hi({},gg),vg);break;case Xm.large:t=hi(hi(hi({},gg),vg),_g);break;case Xm.largeFixed:t=hi(hi(hi(hi({},gg),vg),_g),yg);break;case Xm.extraLarge:t=hi(hi(hi(hi({},gg),vg),_g),bg)}return t},Sg={paddingLeft:"24px",paddingRight:"24px"},Eg=nu(ng,(function(e){var t,n,r,i,o=e.className,a=e.focusTrapZoneClassName,s=e.hasCloseButton,l=e.headerClassName,c=e.isAnimating,u=e.isFooterSticky,d=e.isFooterAtBottom,h=e.isOnRightSide,p=e.isOpen,f=e.isHiddenOnDismiss,m=e.hasCustomNavigation,g=e.theme,v=e.type,_=void 0===v?Xm.smallFixedFar:v,y=g.effects,b=g.fonts,x=g.semanticColors,S=ca(rg,g),E=_===Xm.custom||_===Xm.customNear;return{root:[S.root,g.fonts.medium,p&&S.isOpen,s&&S.hasCloseButton,{pointerEvents:"none",position:"absolute",top:0,left:0,right:0,bottom:0},E&&h&&S.custom,E&&!h&&S.customNear,o],overlay:[{pointerEvents:"auto",cursor:"pointer"},p&&c&&Zo.fadeIn100,!p&&c&&Zo.fadeOut100],hiddenPanel:[!p&&!c&&f&&{visibility:"hidden"}],main:[S.main,{backgroundColor:x.bodyBackground,boxShadow:y.elevation64,pointerEvents:"auto",position:"absolute",display:"flex",flexDirection:"column",overflowX:"hidden",overflowY:"auto",WebkitOverflowScrolling:"touch",bottom:0,top:0,left:dg,right:hg,width:ig,selectors:hi((t={},t[ua]={borderLeft:"3px solid ".concat(x.variantBorder),borderRight:"3px solid ".concat(x.variantBorder)},t),xg(_))},_===Xm.smallFluid&&{left:hg},_===Xm.smallFixedNear&&{left:hg,right:dg,width:ag},_===Xm.customNear&&{right:"auto",left:0},E&&{maxWidth:"100vw"},p&&c&&!h&&Zo.slideRightIn40,p&&c&&h&&Zo.slideLeftIn40,!p&&c&&!h&&Zo.slideLeftOut40,!p&&c&&h&&Zo.slideRightOut40,a],commands:[S.commands,{backgroundColor:x.bodyBackground,paddingTop:18,selectors:(n={},n["@media (min-height: ".concat(da,"px)")]={position:"sticky",top:0,zIndex:1},n)},m&&{paddingTop:"inherit"}],navigation:[S.navigation,{display:"flex",justifyContent:"flex-end"},m&&{height:"44px"}],contentInner:[S.contentInner,{display:"flex",flexDirection:"column",flexGrow:1,overflowY:"hidden"}],header:[S.header,Sg,{alignSelf:"flex-start"},s&&!m&&{flexGrow:1},m&&{flexShrink:0}],headerText:[S.headerText,b.xLarge,{color:x.bodyText,lineHeight:"27px",overflowWrap:"break-word",wordWrap:"break-word",wordBreak:"break-word",hyphens:"auto"},l],scrollableContent:[S.scrollableContent,{overflowY:"auto"},d&&{flexGrow:1,display:"inherit",flexDirection:"inherit"}],content:[S.content,Sg,{paddingBottom:20},d&&{selectors:(r={},r["@media (min-height: ".concat(da,"px)")]={flexGrow:1},r)}],footer:[S.footer,{flexShrink:0,borderTop:"1px solid transparent",transition:"opacity ".concat(Fo," ").concat(Lo),selectors:(i={},i["@media (min-height: ".concat(da,"px)")]={position:"sticky",bottom:0},i)},u&&{backgroundColor:x.bodyBackground,borderTopColor:x.variantBorder}],footerInner:[S.footerInner,Sg,{paddingBottom:16,paddingTop:16}],subComponentStyles:{closeButton:{root:[S.closeButton,{marginRight:14,color:g.palette.neutralSecondary,fontSize:Yo.large},m&&{marginRight:0,height:"auto",width:"44px"}],rootHovered:{color:g.palette.neutralPrimary}}}}}),void 0,{scope:"Panel"});function wg(e,t){for(var n=[],r=0,i=t;r<i.length;r++){var o=e[i[r]];o&&n.push(o)}return n}var Cg=lu(),Mg=r.forwardRef((function(e,t){var n=e.disabled,i=e.required,o=e.inputProps,a=e.name,s=e.ariaLabel,l=e.ariaLabelledBy,c=e.ariaDescribedBy,u=e.ariaPositionInSet,d=e.ariaSetSize,h=e.title,p=e.checkmarkIconProps,f=e.styles,m=e.theme,g=e.className,v=e.boxSide,_=void 0===v?"start":v,y=Uc("checkbox-",e.id),b=r.useRef(null),x=Cc(b,t),S=r.useRef(null),E=iu(e.checked,e.defaultChecked,e.onChange),w=E[0],C=E[1],M=iu(e.indeterminate,e.defaultIndeterminate),T=M[0],R=M[1];fc(b);var A=Cg(f,{theme:m,className:g,disabled:n,indeterminate:T,checked:w,reversed:"start"!==_,isUsingCustomLabelRender:!!e.onRenderLabel}),P=r.useCallback((function(e){T?(C(!!w,e),R(!1)):C(!w,e)}),[C,R,T,w]),D=r.useCallback((function(e){return e&&e.label?r.createElement("span",{className:A.text,title:e.title},e.label):null}),[A.text]),I=r.useCallback((function(e){if(S.current){var t=!!e;S.current.indeterminate=t,R(t)}}),[R]);!function(e,t,n,i,o){r.useImperativeHandle(e.componentRef,(function(){return{get checked(){return!!t},get indeterminate(){return!!n},set indeterminate(e){i(e)},focus:function(){o.current&&o.current.focus()}}}),[o,t,n,i])}(e,w,T,I,S),r.useEffect((function(){return I(T)}),[I,T]);var k=e.onRenderLabel||D,L=T?"mixed":void 0,N=hi(hi({className:A.input,type:"checkbox"},o),{checked:!!w,disabled:n,required:i,name:a,id:y,title:h,onChange:P,"aria-disabled":n,"aria-label":s,"aria-labelledby":l,"aria-describedby":c,"aria-posinset":u,"aria-setsize":d,"aria-checked":L});return r.createElement("div",{className:A.root,title:h,ref:x},r.createElement("input",hi({},N,{ref:S,title:h,"data-ktp-execute-target":!0})),r.createElement("label",{className:A.label,htmlFor:y},r.createElement("div",{className:A.checkbox,"data-ktp-target":!0},r.createElement(ju,hi({iconName:"CheckMark"},p,{className:A.checkmark}))),k(e,D)))}));Mg.displayName="CheckboxBase";var Tg={root:"ms-Checkbox",label:"ms-Checkbox-label",checkbox:"ms-Checkbox-checkbox",checkmark:"ms-Checkbox-checkmark",text:"ms-Checkbox-text"},Rg="20px",Ag="200ms",Pg="cubic-bezier(.4, 0, .23, 1)",Dg=nu(Mg,(function(e){var t,n,r,i,o,a,s,l,c,u,d,h,p,f,m,g,v,_,y=e.className,b=e.theme,x=e.reversed,S=e.checked,E=e.disabled,w=e.isUsingCustomLabelRender,C=e.indeterminate,M=b.semanticColors,T=b.effects,R=b.palette,A=b.fonts,P=ca(Tg,b),D=M.inputForegroundChecked,I=R.neutralSecondary,k=R.neutralPrimary,L=M.inputBackgroundChecked,N=M.inputBackgroundChecked,O=M.disabledBodySubtext,F=M.inputBorderHovered,U=M.inputBackgroundCheckedHovered,B=M.inputBackgroundChecked,z=M.inputBackgroundCheckedHovered,H=M.inputBackgroundCheckedHovered,V=M.inputTextHovered,W=M.disabledBodySubtext,G=M.bodyText,j=M.disabledText,X=[(t={content:'""',borderRadius:T.roundedCorner2,position:"absolute",width:10,height:10,top:4,left:4,boxSizing:"border-box",borderWidth:5,borderStyle:"solid",borderColor:E?O:L,transitionProperty:"border-width, border, border-color",transitionDuration:Ag,transitionTimingFunction:Pg},t[ua]={borderColor:"WindowText"},t)];return{root:[P.root,{position:"relative",display:"flex"},x&&"reversed",S&&"is-checked",!E&&"is-enabled",E&&"is-disabled",!E&&[!S&&(n={},n[":hover .".concat(P.checkbox)]=(r={borderColor:F},r[ua]={borderColor:"Highlight"},r),n[":focus .".concat(P.checkbox)]={borderColor:F},n[":hover .".concat(P.checkmark)]=(i={color:I,opacity:"1"},i[ua]={color:"Highlight"},i),n),S&&!C&&(o={},o[":hover .".concat(P.checkbox)]={background:z,borderColor:H},o[":focus .".concat(P.checkbox)]={background:z,borderColor:H},o[ua]=(a={},a[":hover .".concat(P.checkbox)]={background:"Highlight",borderColor:"Highlight"},a[":focus .".concat(P.checkbox)]={background:"Highlight"},a[":focus:hover .".concat(P.checkbox)]={background:"Highlight"},a[":focus:hover .".concat(P.checkmark)]={color:"Window"},a[":hover .".concat(P.checkmark)]={color:"Window"},a),o),C&&(s={},s[":hover .".concat(P.checkbox,", :hover .").concat(P.checkbox,":after")]=(l={borderColor:U},l[ua]={borderColor:"WindowText"},l),s[":focus .".concat(P.checkbox)]={borderColor:U},s[":hover .".concat(P.checkmark)]={opacity:"0"},s),(c={},c[":hover .".concat(P.text,", :focus .").concat(P.text)]=(u={color:V},u[ua]={color:E?"GrayText":"WindowText"},u),c)],y],input:(d={position:"absolute",background:"none",opacity:0},d[".".concat(_a," &:focus + label::before, :host(.").concat(_a,") &:focus + label::before")]=(h={outline:"1px solid "+b.palette.neutralSecondary,outlineOffset:"2px"},h[ua]={outline:"1px solid WindowText"},h),d),label:[P.label,b.fonts.medium,{display:"flex",alignItems:w?"center":"flex-start",cursor:E?"default":"pointer",position:"relative",userSelect:"none"},x&&{flexDirection:"row-reverse",justifyContent:"flex-end"},{"&::before":{position:"absolute",left:0,right:0,top:0,bottom:0,content:'""',pointerEvents:"none"}}],checkbox:[P.checkbox,(p={position:"relative",display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",height:Rg,width:Rg,border:"1px solid ".concat(k),borderRadius:T.roundedCorner2,boxSizing:"border-box",transitionProperty:"background, border, border-color",transitionDuration:Ag,transitionTimingFunction:Pg,overflow:"hidden",":after":C?X:null},p[ua]=hi({borderColor:"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),p),C&&{borderColor:L},x?{marginLeft:4}:{marginRight:4},!E&&!C&&S&&(f={background:B,borderColor:N},f[ua]={background:"Highlight",borderColor:"Highlight"},f),E&&(m={borderColor:O},m[ua]={borderColor:"GrayText"},m),S&&E&&(g={background:W,borderColor:O},g[ua]={background:"Window"},g)],checkmark:[P.checkmark,(v={opacity:S&&!C?"1":"0",color:D},v[ua]=hi({color:E?"GrayText":"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),v)],text:[P.text,(_={color:E?j:G,fontSize:A.medium.fontSize,lineHeight:"20px"},_[ua]=hi({color:E?"GrayText":"WindowText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),_),x?{marginRight:4}:{marginLeft:4}]}}),void 0,{scope:"Checkbox"}),Ig=lu(),kg={options:[]};var Lg=r.forwardRef((function(e,t){var n=wc(kg,e),i=r.useRef(null),o=Cc(t,i),a=Cf(i,n.responsiveMode),s=function(e){var t,n=e.defaultSelectedKeys,i=e.selectedKeys,o=e.defaultSelectedKey,a=e.selectedKey,s=e.options,l=e.multiSelect,c=sf(s),u=r.useState([]),d=u[0],h=u[1],p=s!==c,f=sf(t=l?p&&void 0!==n?n:i:p&&void 0!==o?o:a);return r.useEffect((function(){var e=function(){return s.map((function(e,t){return e.selected?t:-1})).filter((function(e){return-1!==e}))},n=function(e){return du(s,(function(t){return null!=e?t.key===e:!!t.selected||!!t.isSelected}))};void 0===t&&c||t===f&&!p||h(function(){if(void 0===t)return l?e():-1!==(a=n(null))?[a]:[];if(!Array.isArray(t))return-1!==(a=n(t))?[a]:[];for(var r=[],i=0,o=t;i<o.length;i++){var a,s=o[i];-1!==(a=n(s))&&r.push(a)}return r}())}),[p,l,c,f,s,t]),[d,h]}(n),l=s[0],c=s[1];return r.createElement(zg,hi({},n,{responsiveMode:a,hoisted:{rootRef:o,selectedIndices:l,setSelectedIndices:c}}))}));Lg.displayName="DropdownBase";var Ng,Og,Fg,Ug,Bg,zg=function(e){function t(t){var n=e.call(this,t)||this;n._host=r.createRef(),n._focusZone=r.createRef(),n._dropDown=r.createRef(),n._scrollIdleDelay=250,n._sizePosCache=new km,n._requestAnimationFrame=function(e){var t;return function(n){t||(t=new Set,_u(e,{componentWillUnmount:function(){t.forEach((function(e){return cancelAnimationFrame(e)}))}}));var r=requestAnimationFrame((function(){t.delete(r),n()}));t.add(r)}}(n),n.dismissMenu=function(){n.state.isOpen&&n.setState({isOpen:!1})},n._onChange=function(e,t,r,i,o){var a=n.props,s=a.onChange,l=a.onChanged;if(s||l){var c=o?hi(hi({},t[r]),{selected:!i}):t[r];s&&s(hi(hi({},e),{target:n._dropDown.current}),c,r),l&&l(c,r)}},n._getPlaceholder=function(){return n.props.placeholder||n.props.placeHolder},n._getTitle=function(e,t){var r=n.props.multiSelectDelimiter,i=void 0===r?", ":r;return e.map((function(e){return e.text})).join(i)},n._onRenderTitle=function(e){return r.createElement(r.Fragment,null,n._getTitle(e))},n._onRenderPlaceholder=function(e){return n._getPlaceholder()?r.createElement(r.Fragment,null,n._getPlaceholder()):null},n._onRenderContainer=function(e){var t=e.calloutProps,i=e.panelProps,o=n.props,a=o.responsiveMode,s=o.dropdownWidth,l=a<=mf.medium,c={firstFocusableTarget:"#".concat(n._listId,"1")},u=n._classNames.subComponentStyles?n._classNames.subComponentStyles.panel:void 0,d=void 0,h=void 0;return"auto"===s?h=n._dropDown.current?n._dropDown.current.clientWidth:0:d=s||(n._dropDown.current?n._dropDown.current.clientWidth:0),l?r.createElement(Eg,hi({closeButtonAriaLabel:"Close",focusTrapZoneProps:c,hasCloseButton:!0,isOpen:!0,isLightDismiss:!0,onDismiss:n._onDismiss,styles:u},i),n._renderFocusableList(e)):r.createElement(Bp,hi({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHintFixed:!1,directionalHint:Qu,calloutWidth:d,calloutMinWidth:h},t,{className:n._classNames.callout,target:n._dropDown.current,onDismiss:n._onDismiss,onScroll:n._onScroll,onPositioned:n._onPositioned}),n._renderFocusableList(e))},n._onRenderCaretDown=function(e){return r.createElement(ju,{className:n._classNames.caretDown,iconName:"ChevronDown","aria-hidden":!0})},n._onRenderList=function(e){var t=e.onRenderItem,i=void 0===t?n._onRenderItem:t,o={items:[]},a=[],s=function(){var e=o.id?[r.createElement("div",{role:"group",key:o.id,"aria-labelledby":o.id},o.items)]:o.items;a=mi(mi([],a,!0),e,!0),o={items:[]}};return e.options.forEach((function(e,t){!function(e,t){switch(e.itemType){case Im.Header:o.items.length>0&&s();var r=n._id+e.key;o.items.push(i(hi(hi({id:r},e),{index:t}),n._onRenderItem)),o.id=r;break;case Im.Divider:t>0&&o.items.push(i(hi(hi({},e),{index:t}),n._onRenderItem)),o.items.length>0&&s();break;default:o.items.push(i(hi(hi({},e),{index:t}),n._onRenderItem))}}(e,t)})),o.items.length>0&&s(),r.createElement(r.Fragment,null,a)},n._onRenderItem=function(e){switch(e.itemType){case Im.Divider:return n._renderSeparator(e);case Im.Header:return n._renderHeader(e);default:return n._renderOption(e)}},n._renderOption=function(e){var t,i=n.props,o=i.onRenderOption,a=void 0===o?n._onRenderOption:o,s=i.hoisted.selectedIndices,l=void 0===s?[]:s,c=!(void 0===e.index||!l)&&l.indexOf(e.index)>-1,u=e.hidden?n._classNames.dropdownItemHidden:c&&!0===e.disabled?n._classNames.dropdownItemSelectedAndDisabled:c?n._classNames.dropdownItemSelected:!0===e.disabled?n._classNames.dropdownItemDisabled:n._classNames.dropdownItem,d=e.title,h=n._listId+e.index,p=null!==(t=e.id)&&void 0!==t?t:h+"-label",f=n._classNames.subComponentStyles?n._classNames.subComponentStyles.multiSelectItem:void 0;return n.props.multiSelect?r.createElement(Dg,{id:h,key:e.key,disabled:e.disabled,onChange:n._onItemClick(e),inputProps:hi({"aria-selected":c,onMouseEnter:n._onItemMouseEnter.bind(n,e),onMouseLeave:n._onMouseItemLeave.bind(n,e),onMouseMove:n._onItemMouseMove.bind(n,e),role:"option"},{"data-index":e.index,"data-is-focusable":!(e.disabled||e.hidden)}),label:e.text,title:d,onRenderLabel:n._onRenderItemLabel.bind(n,hi(hi({},e),{id:p})),className:Js(u,"is-multi-select"),checked:c,styles:f,ariaPositionInSet:e.hidden?void 0:n._sizePosCache.positionInSet(e.index),ariaSetSize:e.hidden?void 0:n._sizePosCache.optionSetSize,ariaLabel:e.ariaLabel,ariaLabelledBy:e.ariaLabel?void 0:p}):r.createElement(lm,{id:h,key:e.key,"data-index":e.index,"data-is-focusable":!e.disabled,disabled:e.disabled,className:u,onClick:n._onItemClick(e),onMouseEnter:n._onItemMouseEnter.bind(n,e),onMouseLeave:n._onMouseItemLeave.bind(n,e),onMouseMove:n._onItemMouseMove.bind(n,e),role:"option","aria-selected":c?"true":"false",ariaLabel:e.ariaLabel,title:d,"aria-posinset":n._sizePosCache.positionInSet(e.index),"aria-setsize":n._sizePosCache.optionSetSize},a(e,n._onRenderOption))},n._onRenderOption=function(e){return r.createElement("span",{className:n._classNames.dropdownOptionText},e.text)},n._onRenderMultiselectOption=function(e){return r.createElement("span",{id:e.id,"aria-hidden":"true",className:n._classNames.dropdownOptionText},e.text)},n._onRenderItemLabel=function(e){var t=n.props.onRenderOption;return(void 0===t?n._onRenderMultiselectOption:t)(e,n._onRenderMultiselectOption)},n._onPositioned=function(e){n._focusZone.current&&n._requestAnimationFrame((function(){var e=n.props.hoisted.selectedIndices;if(n._focusZone.current)if(!n._hasBeenPositioned&&e&&e[0]&&!n.props.options[e[0]].disabled){var t=Za().getElementById("".concat(n._id,"-list").concat(e[0]));t&&n._focusZone.current.focusElement(t),n._hasBeenPositioned=!0}else n._focusZone.current.focus()})),n.state.calloutRenderEdge&&n.state.calloutRenderEdge===e.targetEdge||n.setState({calloutRenderEdge:e.targetEdge})},n._onItemClick=function(e){return function(t){e.disabled||(n.setSelectedIndex(t,e.index),n.props.multiSelect||n.setState({isOpen:!1}))}},n._onScroll=function(){var e=ep(n.context);n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(e.clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),n._scrollIdleTimeoutId=e.setTimeout((function(){n._isScrollIdle=!0}),n._scrollIdleDelay)},n._onMouseItemLeave=function(e,t){if(!n._shouldIgnoreMouseEvent()&&n._host.current)if(n._host.current.setActive)try{n._host.current.setActive()}catch(AT){}else n._host.current.focus()},n._onDismiss=function(){n.setState({isOpen:!1})},n._onDropdownBlur=function(e){n._isDisabled()||n.state.isOpen||(n.setState({hasFocus:!1}),n.props.onBlur&&n.props.onBlur(e))},n._onDropdownKeyDown=function(e){if(!n._isDisabled()&&(n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e),!n.props.onKeyDown||(n.props.onKeyDown(e),!e.defaultPrevented))){var t,r=n.props.hoisted.selectedIndices.length?n.props.hoisted.selectedIndices[0]:-1,i=e.altKey||e.metaKey,o=n.state.isOpen;switch(e.which){case ql:n.setState({isOpen:!o});break;case Zl:if(!o)return;n.setState({isOpen:!1});break;case rc:if(i){if(o){n.setState({isOpen:!1});break}return}n.props.multiSelect?n.setState({isOpen:!0}):n._isDisabled()||(t=n._moveIndex(e,-1,r-1,r));break;case oc:i&&(e.stopPropagation(),e.preventDefault()),i&&!o||n.props.multiSelect?n.setState({isOpen:!0}):n._isDisabled()||(t=n._moveIndex(e,1,r+1,r));break;case tc:n.props.multiSelect||(t=n._moveIndex(e,1,0,r));break;case ec:n.props.multiSelect||(t=n._moveIndex(e,-1,n.props.options.length-1,r));break;case Ql:break;default:return}t!==r&&(e.stopPropagation(),e.preventDefault())}},n._onDropdownKeyUp=function(e){if(!n._isDisabled()){var t=n._shouldHandleKeyUp(e),r=n.state.isOpen;n.props.onKeyUp&&(n.props.onKeyUp(e),e.defaultPrevented)||(e.which===Ql?(n.setState({isOpen:!r}),e.stopPropagation(),e.preventDefault()):t&&r&&n.setState({isOpen:!1}))}},n._onZoneKeyDown=function(e){var t,r,i;n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e);var o=e.altKey||e.metaKey;switch(e.which){case rc:o?n.setState({isOpen:!1}):n._host.current&&(i=md(n._host.current,n._host.current.lastChild,!0));break;case tc:case ec:case Jl:case $l:break;case oc:!o&&n._host.current&&(i=fd(n._host.current,n._host.current.firstChild,!0));break;case Zl:n.setState({isOpen:!1});break;case Kl:n.setState({isOpen:!1});var a=Za();a&&(e.shiftKey?null===(t=gd(a.body,n._dropDown.current,!1,!1,!0,!0))||void 0===t||t.focus():null===(r=vd(a.body,n._dropDown.current,!1,!1,!0,!0))||void 0===r||r.focus());break;default:return}i&&i.focus(),e.stopPropagation(),e.preventDefault()},n._onZoneKeyUp=function(e){n._shouldHandleKeyUp(e)&&n.state.isOpen&&(n.setState({isOpen:!1}),e.preventDefault())},n._onDropdownClick=function(e){if(!n.props.onClick||(n.props.onClick(e),!e.defaultPrevented)){var t=n.state.isOpen;n._isDisabled()||n._shouldOpenOnFocus()||n.setState({isOpen:!t}),n._isFocusedByClick=!1}},n._onDropdownMouseDown=function(){n._isFocusedByClick=!0},n._onFocus=function(e){if(!n._isDisabled()){n.props.onFocus&&n.props.onFocus(e);var t={hasFocus:!0};n._shouldOpenOnFocus()&&(t.isOpen=!0),n.setState(t)}},n._isDisabled=function(){var e=n.props.disabled,t=n.props.isDisabled;return void 0===e&&(e=t),e},n._onRenderLabel=function(e){var t=e.label,i=e.required,o=e.disabled,a=n._classNames.subComponentStyles?n._classNames.subComponentStyles.label:void 0;return t?r.createElement(Om,{className:n._classNames.label,id:n._labelId,required:i,styles:a,disabled:o},t):null},yu(n);t.multiSelect,t.selectedKey,t.selectedKeys,t.defaultSelectedKey,t.defaultSelectedKeys;var i=t.options;return n._id=t.id||cl("Dropdown"),n._labelId=n._id+"-label",n._listId=n._id+"-list",n._optionId=n._id+"-option",n._isScrollIdle=!0,n._hasBeenPositioned=!1,n._sizePosCache.updateOptions(i),n.state={isOpen:!1,hasFocus:!1,calloutRenderEdge:void 0},n}return di(t,e),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){var e=this.props;return wg(e.options,e.hoisted.selectedIndices)},enumerable:!1,configurable:!0}),t.prototype.componentWillUnmount=function(){clearTimeout(this._scrollIdleTimeoutId)},t.prototype.componentDidUpdate=function(e,t){!0===t.isOpen&&!1===this.state.isOpen&&(this._gotMouseMove=!1,this._hasBeenPositioned=!1,this.props.onDismiss&&this.props.onDismiss())},t.prototype.render=function(){var e=this._id,t=this.props,n=t.className,i=t.label,o=t.options,a=t.ariaLabel,s=t.required,l=t.errorMessage,c=t.styles,u=t.theme,d=t.panelProps,h=t.calloutProps,p=t.onRenderTitle,f=void 0===p?this._getTitle:p,m=t.onRenderContainer,g=void 0===m?this._onRenderContainer:m,v=t.onRenderCaretDown,_=void 0===v?this._onRenderCaretDown:v,y=t.onRenderLabel,b=void 0===y?this._onRenderLabel:y,x=t.onRenderItem,S=void 0===x?this._onRenderItem:x,E=t.hoisted.selectedIndices,w=this.state,C=w.isOpen,M=w.calloutRenderEdge,T=w.hasFocus,R=t.onRenderPlaceholder||t.onRenderPlaceHolder||this._getPlaceholder;o!==this._sizePosCache.cachedOptions&&this._sizePosCache.updateOptions(o);var A=wg(o,E),P=zl(t,Bl),D=this._isDisabled(),I=e+"-errorMessage";this._classNames=Ig(c,{theme:u,className:n,hasError:!!(l&&l.length>0),hasLabel:!!i,isOpen:C,required:s,disabled:D,isRenderingPlaceholder:!A.length,panelClassName:d?d.className:void 0,calloutClassName:h?h.className:void 0,calloutRenderEdge:M});var k=!!l&&l.length>0;return r.createElement("div",{className:this._classNames.root,ref:this.props.hoisted.rootRef,"aria-owns":C?this._listId:void 0},b(this.props,this._onRenderLabel),r.createElement("div",hi({"data-is-focusable":!D,"data-ktp-target":!0,ref:this._dropDown,id:e,tabIndex:D?-1:0,role:"combobox","aria-haspopup":"listbox","aria-expanded":C?"true":"false","aria-label":a,"aria-labelledby":i&&!a?Iu(this._labelId,this._optionId):void 0,"aria-describedby":k?this._id+"-errorMessage":void 0,"aria-required":s,"aria-disabled":D,"aria-invalid":k,"aria-controls":C?this._listId:void 0},P,{className:this._classNames.dropdown,onBlur:this._onDropdownBlur,onKeyDown:this._onDropdownKeyDown,onKeyUp:this._onDropdownKeyUp,onClick:this._onDropdownClick,onMouseDown:this._onDropdownMouseDown,onFocus:this._onFocus}),r.createElement("span",{id:this._optionId,className:this._classNames.title,"aria-live":T?"polite":void 0,"aria-atomic":!!T||void 0},A.length?f(A,this._onRenderTitle):R(t,this._onRenderPlaceholder)),r.createElement("span",{className:this._classNames.caretDownWrapper},_(t,this._onRenderCaretDown))),C&&g(hi(hi({},t),{onDismiss:this._onDismiss,onRenderItem:S}),this._onRenderContainer),k&&r.createElement("div",{role:"alert",id:I,className:this._classNames.errorMessage},l))},t.prototype.focus=function(e){this._dropDown.current&&(this._dropDown.current.focus(),e&&this.setState({isOpen:!0}))},t.prototype.setSelectedIndex=function(e,t){var n=this.props,r=n.options,i=n.selectedKey,o=n.selectedKeys,a=n.multiSelect,s=n.notifyOnReselect,l=n.hoisted.selectedIndices,c=void 0===l?[]:l,u=!!c&&c.indexOf(t)>-1,d=[];if(t=Math.max(0,Math.min(r.length-1,t)),void 0===i&&void 0===o){if(a||s||t!==c[0]){if(a)if(d=c?this._copyArray(c):[],u){var h=d.indexOf(t);h>-1&&d.splice(h,1)}else d.push(t);else d=[t];e.persist(),this.props.hoisted.setSelectedIndices(d),this._onChange(e,r,t,u,a)}}else this._onChange(e,r,t,u,a)},t.prototype._copyArray=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push(i)}return t},t.prototype._moveIndex=function(e,t,n,r){var i=this.props.options;if(r===n||0===i.length)return r;n>=i.length?n=0:n<0&&(n=i.length-1);for(var o=0;i[n].itemType===Im.Header||i[n].itemType===Im.Divider||i[n].disabled;){if(o>=i.length)return r;n+t<0?n=i.length:n+t>=i.length&&(n=-1),n+=t,o++}return this.setSelectedIndex(e,n),n},t.prototype._renderFocusableList=function(e){var t=e.onRenderList,n=void 0===t?this._onRenderList:t,i=e.label,o=e.ariaLabel,a=e.multiSelect;return r.createElement("div",{className:this._classNames.dropdownItemsWrapper,onKeyDown:this._onZoneKeyDown,onKeyUp:this._onZoneKeyUp,ref:this._host,tabIndex:0},r.createElement(Kd,{ref:this._focusZone,direction:ud.vertical,id:this._listId,className:this._classNames.dropdownItems,role:"listbox","aria-label":o,"aria-labelledby":i&&!o?this._labelId:void 0,"aria-multiselectable":a},n(e,this._onRenderList)))},t.prototype._renderSeparator=function(e){var t=e.index,n=e.key,i=e.hidden?this._classNames.dropdownDividerHidden:this._classNames.dropdownDivider;return t>0?r.createElement("div",{role:"presentation",key:n,className:i}):null},t.prototype._renderHeader=function(e){var t=this.props.onRenderOption,n=void 0===t?this._onRenderOption:t,i=e.key,o=e.id,a=e.hidden?this._classNames.dropdownItemHeaderHidden:this._classNames.dropdownItemHeader;return r.createElement("div",{id:o,key:i,className:a},n(e,this._onRenderOption))},t.prototype._onItemMouseEnter=function(e,t){this._shouldIgnoreMouseEvent()||t.currentTarget.focus()},t.prototype._onItemMouseMove=function(e,t){var n=$h(this.context),r=t.currentTarget;this._gotMouseMove=!0,this._isScrollIdle&&n.activeElement!==r&&r.focus()},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._isAltOrMeta=function(e){return e.which===Yl||"Meta"===e.key},t.prototype._shouldHandleKeyUp=function(e){var t=this._lastKeyDownWasAltOrMeta&&this._isAltOrMeta(e);return this._lastKeyDownWasAltOrMeta=!1,!!t&&!(qd()||Yd())},t.prototype._shouldOpenOnFocus=function(){var e=this.state.hasFocus,t=this.props.openOnKeyboardFocus;return!this._isFocusedByClick&&!0===t&&!e},t.defaultProps={options:[]},t.contextType=$s,t}(r.Component),Hg={root:"ms-Dropdown-container",label:"ms-Dropdown-label",dropdown:"ms-Dropdown",title:"ms-Dropdown-title",caretDownWrapper:"ms-Dropdown-caretDownWrapper",caretDown:"ms-Dropdown-caretDown",callout:"ms-Dropdown-callout",panel:"ms-Dropdown-panel",dropdownItems:"ms-Dropdown-items",dropdownItem:"ms-Dropdown-item",dropdownDivider:"ms-Dropdown-divider",dropdownOptionText:"ms-Dropdown-optionText",dropdownItemHeader:"ms-Dropdown-header",titleIsPlaceHolder:"ms-Dropdown-titleIsPlaceHolder",titleHasError:"ms-Dropdown-title--hasError"},Vg=((Ng={})["".concat(ua,", ").concat("@media screen and (-ms-high-contrast: black-on-white), screen and (forced-colors: active) and (prefers-color-scheme: light)".replace("@media ",""))]=hi({},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),Ng),Wg={selectors:hi((Og={},Og[ua]=(Fg={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},Fg[".".concat(_a," &:focus:after")]={borderColor:"HighlightText"},Fg),Og[".ms-Checkbox-checkbox"]=(Ug={},Ug[ua]={borderColor:"HighlightText"},Ug),Og),Vg)},Gg={selectors:(Bg={},Bg[ua]={borderColor:"Highlight"},Bg)},jg=pa(0,da),Xg=nu(Lg,(function(e){var t,n,r,i,o,a,s,l,c,u,d,h,p=e.theme,f=e.hasError,m=e.hasLabel,g=e.className,v=e.isOpen,_=e.disabled,y=e.required,b=e.isRenderingPlaceholder,x=e.panelClassName,S=e.calloutClassName,E=e.calloutRenderEdge;if(!p)throw new Error("theme is undefined or null in base Dropdown getStyles function.");var w=ca(Hg,p),C=p.palette,M=p.semanticColors,T=p.effects,R=p.fonts,A={color:M.menuItemTextHovered},P={color:M.menuItemText},D={borderColor:M.errorText},I=[w.dropdownItem,{backgroundColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:"flex",alignItems:"center",padding:"0 8px",width:"100%",minHeight:36,lineHeight:20,height:0,position:"relative",border:"1px solid transparent",borderRadius:0,wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",".ms-Button-flexContainer":{width:"100%"}}],k=[w.dropdownItemHeader,hi(hi({},R.medium),{fontWeight:qo.semibold,color:M.menuHeader,background:"none",backgroundColor:"transparent",border:"none",height:36,lineHeight:36,cursor:"default",padding:"0 8px",userSelect:"none",textAlign:"left",selectors:(t={},t[ua]=hi({color:"GrayText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),t)})],L=M.menuItemBackgroundPressed,N=function(e){var t,n;return void 0===e&&(e=!1),{selectors:(t={"&:hover":[{color:M.menuItemTextHovered,backgroundColor:e?L:M.menuItemBackgroundHovered},Wg],"&.is-multi-select:hover":[{backgroundColor:e?L:"transparent"},Wg],"&:active:hover":[{color:M.menuItemTextHovered,backgroundColor:e?M.menuItemBackgroundHovered:M.menuItemBackgroundPressed},Wg]},t[".".concat(_a," &:focus:after, :host(.").concat(_a,") &:focus:after")]=(n={left:0,top:0,bottom:0,right:0},n[ua]={inset:"2px"},n),t[ua]={border:"none"},t)}},O=mi(mi([],I,!0),[{backgroundColor:L,color:M.menuItemTextHovered},N(!0),Wg],!1),F=mi(mi([],I,!0),[{color:M.disabledText,cursor:"default",selectors:(n={},n[ua]={color:"GrayText",border:"none"},n)}],!1),U=E===Zd.bottom?"".concat(T.roundedCorner2," ").concat(T.roundedCorner2," 0 0"):"0 0 ".concat(T.roundedCorner2," ").concat(T.roundedCorner2),B=E===Zd.bottom?"0 0 ".concat(T.roundedCorner2," ").concat(T.roundedCorner2):"".concat(T.roundedCorner2," ").concat(T.roundedCorner2," 0 0");return{root:[w.root,g],label:w.label,dropdown:[w.dropdown,ps,R.medium,{color:M.menuItemText,borderColor:M.focusBorder,position:"relative",outline:0,userSelect:"none",selectors:(r={},r["&:hover ."+w.title]=[!_&&A,{borderColor:v?C.neutralSecondary:C.neutralPrimary},Gg],r["&:focus ."+w.title]=[!_&&A,{selectors:(i={},i[ua]={color:"Highlight"},i)}],r["&:focus:after"]=[{pointerEvents:"none",content:"''",position:"absolute",boxSizing:"border-box",top:"0px",left:"0px",width:"100%",height:"100%",border:_?"none":"2px solid ".concat(C.themePrimary),borderRadius:"2px",selectors:(o={},o[ua]={color:"Highlight"},o)}],r["&:active ."+w.title]=[!_&&A,{borderColor:C.themePrimary},Gg],r["&:hover ."+w.caretDown]=!_&&P,r["&:focus ."+w.caretDown]=[!_&&P,{selectors:(a={},a[ua]={color:"Highlight"},a)}],r["&:active ."+w.caretDown]=!_&&P,r["&:hover ."+w.titleIsPlaceHolder]=!_&&P,r["&:focus ."+w.titleIsPlaceHolder]=!_&&P,r["&:active ."+w.titleIsPlaceHolder]=!_&&P,r["&:hover ."+w.titleHasError]=D,r["&:active ."+w.titleHasError]=D,r)},v&&"is-open",_&&"is-disabled",y&&"is-required",y&&!m&&{selectors:(s={":before":{content:"'*'",color:M.errorText,position:"absolute",top:-5,right:-10}},s[ua]={selectors:{":after":{right:-14}}},s)}],title:[w.title,ps,{backgroundColor:M.inputBackground,borderWidth:1,borderStyle:"solid",borderColor:M.inputBorder,borderRadius:v?U:T.roundedCorner2,cursor:"pointer",display:"block",height:32,lineHeight:30,padding:"0 28px 0 8px",position:"relative",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},b&&[w.titleIsPlaceHolder,{color:M.inputPlaceholderText}],f&&[w.titleHasError,D],_&&{backgroundColor:M.disabledBackground,border:"none",color:M.disabledText,cursor:"default",selectors:(l={},l[ua]=hi({border:"1px solid GrayText",color:"GrayText",backgroundColor:"Window"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),l)}],caretDownWrapper:[w.caretDownWrapper,{height:32,lineHeight:30,paddingTop:1,position:"absolute",right:8,top:0},!_&&{cursor:"pointer"}],caretDown:[w.caretDown,{color:C.neutralSecondary,fontSize:R.small.fontSize,pointerEvents:"none"},_&&{color:M.disabledText,selectors:(c={},c[ua]=hi({color:"GrayText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),c)}],errorMessage:hi(hi({color:M.errorText},p.fonts.small),{paddingTop:5}),callout:[w.callout,{boxShadow:T.elevation8,borderRadius:B,selectors:(u={},u[".ms-Callout-main"]={borderRadius:B},u)},S],dropdownItemsWrapper:{selectors:{"&:focus":{outline:0}}},dropdownItems:[w.dropdownItems,{display:"block"}],dropdownItem:mi(mi([],I,!0),[N()],!1),dropdownItemSelected:O,dropdownItemDisabled:F,dropdownItemSelectedAndDisabled:[O,F,{backgroundColor:"transparent"}],dropdownItemHidden:mi(mi([],I,!0),[{display:"none"}],!1),dropdownDivider:[w.dropdownDivider,{height:1,backgroundColor:M.bodyDivider}],dropdownDividerHidden:[w.dropdownDivider,{display:"none"}],dropdownOptionText:[w.dropdownOptionText,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:0,maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",margin:"1px"}],dropdownItemHeader:k,dropdownItemHeaderHidden:mi(mi([],k,!0),[{display:"none"}],!1),subComponentStyles:{label:{root:{display:"inline-block"}},multiSelectItem:{root:{padding:0},label:{alignSelf:"stretch",padding:"0 8px",width:"100%"},input:{selectors:(d={},d[".".concat(_a," &:focus + label::before, :host(.").concat(_a,") &:focus + label::before")]={outlineOffset:"0px"},d)}},panel:{root:[x],main:{selectors:(h={},h[jg]={width:272},h)},contentInner:{padding:"0 0 20px"}}}}}),void 0,{scope:"Dropdown"});Xg.displayName="Dropdown";var Kg=n(579);const qg=ei((()=>{const e=[{key:"zh",text:Dm.t.chinese},{key:"en",text:Dm.t.english}];return(0,Kg.jsxs)("div",{style:{outline:"none !important",border:"none !important"},children:[(0,Kg.jsx)("style",{children:"\n          .language-selector .ms-Dropdown:focus .ms-Dropdown-title,\n          .language-selector .ms-Dropdown:focus-visible .ms-Dropdown-title,\n          .language-selector .ms-Dropdown .ms-Dropdown-title:focus,\n          .language-selector .ms-Dropdown .ms-Dropdown-title:focus-visible {\n            border: none !important;\n            outline: none !important;\n            box-shadow: none !important;\n          }\n        "}),(0,Kg.jsxs)(qc,{horizontal:!0,verticalAlign:"center",tokens:{childrenGap:1},className:"language-selector",children:[(0,Kg.jsx)(ju,{iconName:"Globe",styles:{root:{fontSize:"17px",color:"#666"}}}),(0,Kg.jsx)(Xg,{selectedKey:Dm.currentLanguage,options:e,onChange:(e,t)=>{t&&Dm.setLanguage(t.key)},styles:{root:{minWidth:"28px",width:"28px",outline:"none !important",border:"none !important",":focus":{outline:"none !important",border:"none !important"},":focus-within":{outline:"none !important",border:"none !important"}},dropdown:{minWidth:"28px",width:"28px",height:"26px",outline:"none !important",border:"none !important",boxShadow:"none !important",":focus":{outline:"none !important",border:"none !important",boxShadow:"none !important"},":focus-visible":{outline:"none !important",border:"none !important",boxShadow:"none !important"},":after":{display:"none !important"}},title:{fontSize:"13px",fontWeight:"500",height:"26px",lineHeight:"24px",border:"none !important",borderRadius:"4px",backgroundColor:"transparent",textAlign:"center",padding:"0 2px",minWidth:"28px",width:"28px",cursor:"pointer",transition:"all 0.2s ease",outline:"none !important",boxShadow:"none !important",":hover":{backgroundColor:"#f3f2f1",border:"none !important",outline:"none !important"},":active":{backgroundColor:"#edebe9",border:"none !important",outline:"none !important"},":focus":{border:"none !important",outline:"none !important",backgroundColor:"transparent",boxShadow:"none !important"},":focus-visible":{border:"none !important",outline:"none !important",boxShadow:"none !important"},":focus:after":{display:"none !important"},":after":{display:"none !important"}},caretDownWrapper:{display:"none"},caretDown:{display:"none"},callout:{fontSize:"12px",minWidth:"80px"},dropdownItem:{fontSize:"12px",height:"32px"},dropdownItemSelected:{backgroundColor:"#e3f2fd",color:"#1565c0"}},onRenderTitle:()=>(0,Kg.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontSize:"14px",fontWeight:"400",fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, Roboto, "Helvetica Neue", sans-serif'},children:"zh"===Dm.currentLanguage?"\u4e2d":"En"})})]})]})})),Yg=e=>{let{name:t,size:n=24,color:i="inherit"}=e;const[o,a]=(0,r.useState)("");return(0,r.useEffect)((()=>{fetch("/svg/".concat(t,".svg")).then((e=>e.text())).then((e=>{const t=e.replace(/width="24"/,'width="'.concat(n,'"')).replace(/height="24"/,'height="'.concat(n,'"'));a(t)})).catch((e=>{console.error("Failed to load SVG: ".concat(t),e)}))}),[t,n]),o?(0,Kg.jsx)("div",{style:{width:n,height:n,display:"inline-flex",alignItems:"center",justifyContent:"center",color:i},dangerouslySetInnerHTML:{__html:o}}):(0,Kg.jsx)("div",{style:{width:n,height:n,display:"inline-flex",alignItems:"center",justifyContent:"center"}})},Zg=ei((()=>{const e=e=>{Am.addShape(e)},t={root:{height:60,minWidth:60,border:"1px solid transparent",borderRadius:"4px",margin:"0px 1px",padding:"0px 4px 0px 4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#0078d4","&:hover":{border:"1px solid #c7e0f4",backgroundColor:"#f3f2f1"},"&:active":{backgroundColor:"#edebe9"},"& .ms-Button-flexContainer":{flexDirection:"column",alignItems:"center"}},label:{fontSize:"12px",fontWeight:"400",marginTop:"4px",marginBottom:"0px",textAlign:"center",lineHeight:"12px",whiteSpace:"nowrap",marginLeft:"1px !important",width:"100%",display:"flex",justifyContent:"center",color:"#323130"},icon:{fontSize:"36px",height:"42px",width:"42px",marginRight:"0 !important",marginTop:"2px",marginBottom:"2px"},rootDisabled:{color:"#a19f9d !important",border:"none !important",backgroundColor:"transparent !important","& .ms-Button-icon":{color:"#a19f9d !important"},"& .ms-Button-flexContainer .ms-Button-icon":{color:"#a19f9d !important"},"& .ms-Button-label":{color:"#a19f9d !important"},"& div":{color:"#a19f9d !important"},"&:hover":{border:"none !important",backgroundColor:"transparent !important"}}};return(0,Kg.jsxs)("div",{style:{backgroundColor:"#faf9f8",borderBottom:"2px solid #e1dfdd",minHeight:"85px",position:"relative"},children:[(0,Kg.jsx)("div",{style:{position:"absolute",top:"8px",right:"16px",zIndex:1e3},children:(0,Kg.jsx)(qg,{})}),(0,Kg.jsxs)(ym,{styles:{root:{padding:"0 16px",paddingLeft:"35%"},itemContainer:{padding:"2px 0 0px 0",minHeight:"70px"},link:{marginBottom:"0px",paddingBottom:"0px",padding:"2px 8px 0px 8px",lineHeight:"1",fontSize:"16px",margin:"0px"},linkIsSelected:{marginBottom:"0px",paddingBottom:"0px",padding:"2px 8px 0px 8px",lineHeight:"1",fontSize:"16px",margin:"0px","&::before":{bottom:"-3px",height:"2px"}}},children:[(0,Kg.jsx)(dm,{headerText:Dm.t.create,children:(0,Kg.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"8px 0",borderTop:"1px solid #e1dfdd"},children:(0,Kg.jsx)(qc,{horizontal:!0,styles:{root:{alignItems:"center",justifyContent:"flex-start",padding:"0 16px",paddingLeft:"25%"}},children:(0,Kg.jsxs)(qc,{horizontal:!0,tokens:{childrenGap:4},children:[(0,Kg.jsx)(Sm,{onRenderIcon:()=>(0,Kg.jsx)(Yg,{name:"sphere",size:36}),text:Dm.t.sphere,onClick:()=>e("sphere"),styles:t}),(0,Kg.jsx)(Sm,{onRenderIcon:()=>(0,Kg.jsx)(Yg,{name:"cube",size:36}),text:Dm.t.cube,onClick:()=>e("cube"),styles:t}),(0,Kg.jsx)(Sm,{onRenderIcon:()=>(0,Kg.jsx)(Yg,{name:"cylinder",size:36}),text:Dm.t.cylinder,onClick:()=>e("cylinder"),styles:t}),(0,Kg.jsx)(Sm,{onRenderIcon:()=>(0,Kg.jsx)(Yg,{name:"cone",size:36}),text:Dm.t.cone,onClick:()=>e("cone"),styles:t}),(0,Kg.jsx)(Sm,{onRenderIcon:()=>(0,Kg.jsx)(Yg,{name:"torus",size:36}),text:Dm.t.torus,onClick:()=>e("torus"),styles:t})]})})})},"create"),(0,Kg.jsx)(dm,{headerText:Dm.t.manage,children:(0,Kg.jsx)("div",{style:{backgroundColor:"#ffffff",padding:"8px 0",borderTop:"1px solid #e1dfdd"},children:(0,Kg.jsx)(qc,{horizontal:!0,styles:{root:{alignItems:"center",justifyContent:"flex-start",padding:"0 16px",paddingLeft:"25%"}},children:(0,Kg.jsxs)(qc,{horizontal:!0,tokens:{childrenGap:4},children:[(0,Kg.jsx)(Sm,{onRenderIcon:()=>(0,Kg.jsx)(Yg,{name:"delete",size:36}),text:Dm.t.deleteSelected,onClick:()=>{Am.selectedShapeId&&Am.removeShape(Am.selectedShapeId)},disabled:!Am.selectedShapeId,styles:t}),(0,Kg.jsx)(Sm,{onRenderIcon:()=>(0,Kg.jsx)(Yg,{name:"clear",size:36}),text:Dm.t.clearAll,onClick:()=>{Am.clearShapes()},disabled:0===Am.shapes.length,styles:t})]})})})},"manage")]})]})})),Qg="157",Jg=0,$g=1,ev=2,tv=100,nv=101,rv=102,iv=200,ov=201,av=202,sv=203,lv=204,cv=205,uv=206,dv=207,hv=208,pv=209,fv=210,mv=301,gv=302,vv=303,_v=304,yv=306,bv=1e3,xv=1001,Sv=1002,Ev=1003,wv=1004,Cv=1005,Mv=1006,Tv=1007,Rv=1008,Av=1009,Pv=1012,Dv=1013,Iv=1014,kv=1015,Lv=1016,Nv=1020,Ov=1023,Fv=1026,Uv=1027,Bv=33776,zv=33777,Hv=33778,Vv=33779,Wv=36492,Gv=2300,jv=2301,Xv=2302,Kv=2400,qv=2401,Yv=2402,Zv=3001,Qv="",Jv="srgb",$v="srgb-linear",e_="display-p3",t_="display-p3-linear",n_="linear",r_="srgb",i_="rec709",o_="p3",a_=7680,s_=512,l_=513,c_=514,u_=515,d_=516,h_=517,p_=518,f_=519,m_=35044,g_="300 es",v_=1035,__=2e3,y_=2001;class b_{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const x_=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const S_=Math.PI/180,E_=180/Math.PI;function w_(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(x_[255&e]+x_[e>>8&255]+x_[e>>16&255]+x_[e>>24&255]+"-"+x_[255&t]+x_[t>>8&255]+"-"+x_[t>>16&15|64]+x_[t>>24&255]+"-"+x_[63&n|128]+x_[n>>8&255]+"-"+x_[n>>16&255]+x_[n>>24&255]+x_[255&r]+x_[r>>8&255]+x_[r>>16&255]+x_[r>>24&255]).toLowerCase()}function C_(e,t,n){return Math.max(t,Math.min(n,e))}function M_(e,t){return(e%t+t)%t}function T_(e,t,n){return(1-n)*e+n*t}function R_(e){return 0===(e&e-1)&&0!==e}function A_(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function P_(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function D_(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}class I_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;I_.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(C_(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class k_{constructor(e,t,n,r,i,o,a,s,l){k_.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l)}set(e,t,n,r,i,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],f=r[0],m=r[3],g=r[6],v=r[1],_=r[4],y=r[7],b=r[2],x=r[5],S=r[8];return i[0]=o*f+a*v+s*b,i[3]=o*m+a*_+s*x,i[6]=o*g+a*y+s*S,i[1]=l*f+c*v+u*b,i[4]=l*m+c*_+u*x,i[7]=l*g+c*y+u*S,i[2]=d*f+h*v+p*b,i[5]=d*m+h*_+p*x,i[8]=d*g+h*y+p*S,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*o-a*l,d=a*s-c*i,h=l*i-o*s,p=t*u+n*d+r*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(r*l-c*n)*f,e[2]=(a*n-r*o)*f,e[3]=d*f,e[4]=(c*t-r*s)*f,e[5]=(r*i-a*t)*f,e[6]=h*f,e[7]=(n*s-l*t)*f,e[8]=(o*t-n*i)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(L_.makeScale(e,t)),this}rotate(e){return this.premultiply(L_.makeRotation(-e)),this}translate(e,t){return this.premultiply(L_.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const L_=new k_;function N_(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function O_(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function F_(){const e=O_("canvas");return e.style.display="block",e}const U_={};function B_(e){e in U_||(U_[e]=!0,console.warn(e))}const z_=(new k_).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),H_=(new k_).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),V_={[$v]:{transfer:n_,primaries:i_,toReference:e=>e,fromReference:e=>e},[Jv]:{transfer:r_,primaries:i_,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[t_]:{transfer:n_,primaries:o_,toReference:e=>e.applyMatrix3(H_),fromReference:e=>e.applyMatrix3(z_)},[e_]:{transfer:r_,primaries:o_,toReference:e=>e.convertSRGBToLinear().applyMatrix3(H_),fromReference:e=>e.applyMatrix3(z_).convertLinearToSRGB()}},W_=new Set([$v,t_]),G_={enabled:!0,_workingColorSpace:$v,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!W_.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=V_[t].toReference;return(0,V_[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return V_[e].primaries},getTransfer:function(e){return e===Qv?n_:V_[e].transfer}};function j_(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function X_(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let K_;class q_{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===K_&&(K_=O_("canvas")),K_.width=e.width,K_.height=e.height;const n=K_.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=K_}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=O_("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*j_(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*j_(t[e]/255)):t[e]=j_(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Y_=0;class Z_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:Y_++}),this.uuid=w_(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(Q_(r[t].image)):e.push(Q_(r[t]))}else e=Q_(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function Q_(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?q_.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let J_=0;class $_ extends b_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$_.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$_.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xv,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xv,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mv,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rv,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ov,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Av,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:$_.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Qv;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:J_++}),this.uuid=w_(),this.name="",this.source=new Z_(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new I_(0,0),this.repeat=new I_(1,1),this.center=new I_(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new k_,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"===typeof c?this.colorSpace=c:(B_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===Zv?Jv:Qv),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case bv:e.x=e.x-Math.floor(e.x);break;case xv:e.x=e.x<0?0:1;break;case Sv:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case bv:e.y=e.y-Math.floor(e.y);break;case xv:e.y=e.y<0?0:1;break;case Sv:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return B_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Jv?Zv:3e3}set encoding(e){B_("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Zv?Jv:Qv}}$_.DEFAULT_IMAGE=null,$_.DEFAULT_MAPPING=300,$_.DEFAULT_ANISOTROPY=1;class ey{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;ey.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],f=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<o&&Math.abs(u-f)<o&&Math.abs(p-m)<o){if(Math.abs(c+d)<a&&Math.abs(u+f)<a&&Math.abs(p+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,_=(c+d)/4,y=(u+f)/4,b=(p+m)/4;return e>s&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=_/n,i=y/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=_/r,i=b/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=y/i,r=b/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-p)/v,this.y=(u-f)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ty extends b_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ey(0,0,e,t),this.scissorTest=!1,this.viewport=new ey(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==n.encoding&&(B_("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Zv?Jv:Qv),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Mv,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new $_(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Z_(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ny extends ty{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class ry extends $_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ev,this.minFilter=Ev,this.wrapR=xv,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class iy extends $_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Ev,this.minFilter=Ev,this.wrapR=xv,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=i[o+0],h=i[o+1],p=i[o+2],f=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=f);if(u!==f||s!==d||l!==h||c!==p){let e=1-a;const t=s*d+l*h+c*p+u*f,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+d*i,l=l*e+h*i,c=c*e+p*i,u=u*e+f*i,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],d=i[o+1],h=i[o+2],p=i[o+3];return e[t]=a*p+c*u+s*h-l*d,e[t+1]=s*p+c*d+l*u-a*h,e[t+2]=l*p+c*h+a*d-s*u,e[t+3]=c*p-a*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),d=s(n/2),h=s(r/2),p=s(i/2);switch(o){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(C_(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=o*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ay{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;ay.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ly.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ly.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,c=s*n+a*t-i*r,u=s*r+i*n-o*t,d=-i*t-o*n-a*r;return this.x=l*s+d*-i+c*-a-u*-o,this.y=c*s+d*-o+u*-i-l*-a,this.z=u*s+d*-a+l*-o-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return sy.copy(this).projectOnVector(e),this.sub(sy)}reflect(e){return this.sub(sy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(C_(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const sy=new ay,ly=new oy;class cy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ay(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ay(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(dy.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(dy.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=dy.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),hy.copy(e.boundingBox),hy.applyMatrix4(e.matrixWorld),this.union(hy);else{const n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)dy.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(dy)}else null===n.boundingBox&&n.computeBoundingBox(),hy.copy(n.boundingBox),hy.applyMatrix4(e.matrixWorld),this.union(hy)}const n=e.children;for(let r=0,i=n.length;r<i;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,dy),dy.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(yy),by.subVectors(this.max,yy),py.subVectors(e.a,yy),fy.subVectors(e.b,yy),my.subVectors(e.c,yy),gy.subVectors(fy,py),vy.subVectors(my,fy),_y.subVectors(py,my);let t=[0,-gy.z,gy.y,0,-vy.z,vy.y,0,-_y.z,_y.y,gy.z,0,-gy.x,vy.z,0,-vy.x,_y.z,0,-_y.x,-gy.y,gy.x,0,-vy.y,vy.x,0,-_y.y,_y.x,0];return!!Ey(t,py,fy,my,by)&&(t=[1,0,0,0,1,0,0,0,1],!!Ey(t,py,fy,my,by)&&(xy.crossVectors(gy,vy),t=[xy.x,xy.y,xy.z],Ey(t,py,fy,my,by)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,dy).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(dy).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(uy[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),uy[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),uy[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),uy[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),uy[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),uy[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),uy[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),uy[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(uy)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const uy=[new ay,new ay,new ay,new ay,new ay,new ay,new ay,new ay],dy=new ay,hy=new cy,py=new ay,fy=new ay,my=new ay,gy=new ay,vy=new ay,_y=new ay,yy=new ay,by=new ay,xy=new ay,Sy=new ay;function Ey(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){Sy.fromArray(e,o);const a=i.x*Math.abs(Sy.x)+i.y*Math.abs(Sy.y)+i.z*Math.abs(Sy.z),s=t.dot(Sy),l=n.dot(Sy),c=r.dot(Sy);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const wy=new cy,Cy=new ay,My=new ay;class Ty{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ay,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):wy.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cy.subVectors(e,this.center);const t=Cy.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Cy,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(My.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cy.copy(e.center).add(My)),this.expandByPoint(Cy.copy(e.center).sub(My))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Ry=new ay,Ay=new ay,Py=new ay,Dy=new ay,Iy=new ay,ky=new ay,Ly=new ay;class Ny{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ay,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ay(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ry)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ry.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ry.copy(this.origin).addScaledVector(this.direction,t),Ry.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Ay.copy(e).add(t).multiplyScalar(.5),Py.copy(t).sub(e).normalize(),Dy.copy(this.origin).sub(Ay);const i=.5*e.distanceTo(t),o=-this.direction.dot(Py),a=Dy.dot(this.direction),s=-Dy.dot(Py),l=Dy.lengthSq(),c=Math.abs(1-o*o);let u,d,h,p;if(c>0)if(u=o*s-a,d=o*a-s,p=i*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+o*d+2*a)+d*(o*u+d+2*s)+l}else d=i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-o*i+a)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(o*i+a)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=o>0?-i:i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Ay).addScaledVector(Py,d),h}intersectSphere(e,t){Ry.subVectors(e.center,this.origin);const n=Ry.dot(this.direction),r=Ry.dot(Ry)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Ry)}intersectTriangle(e,t,n,r,i){Iy.subVectors(t,e),ky.subVectors(n,e),Ly.crossVectors(Iy,ky);let o,a=this.direction.dot(Ly);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Dy.subVectors(this.origin,e);const s=o*this.direction.dot(ky.crossVectors(Dy,ky));if(s<0)return null;const l=o*this.direction.dot(Iy.cross(Dy));if(l<0)return null;if(s+l>a)return null;const c=-o*Dy.dot(Ly);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Oy{constructor(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m){Oy.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m)}set(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Oy).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Fy.setFromMatrixColumn(e,0).length(),i=1/Fy.setFromMatrixColumn(e,1).length(),o=1/Fy.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-o*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*c,t[9]=i-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(By,e,zy)}lookAt(e,t,n){const r=this.elements;return Wy.subVectors(e,t),0===Wy.lengthSq()&&(Wy.z=1),Wy.normalize(),Hy.crossVectors(n,Wy),0===Hy.lengthSq()&&(1===Math.abs(n.z)?Wy.x+=1e-4:Wy.z+=1e-4,Wy.normalize(),Hy.crossVectors(n,Wy)),Hy.normalize(),Vy.crossVectors(Wy,Hy),r[0]=Hy.x,r[4]=Vy.x,r[8]=Wy.x,r[1]=Hy.y,r[5]=Vy.y,r[9]=Wy.y,r[2]=Hy.z,r[6]=Vy.z,r[10]=Wy.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],_=n[7],y=n[11],b=n[15],x=r[0],S=r[4],E=r[8],w=r[12],C=r[1],M=r[5],T=r[9],R=r[13],A=r[2],P=r[6],D=r[10],I=r[14],k=r[3],L=r[7],N=r[11],O=r[15];return i[0]=o*x+a*C+s*A+l*k,i[4]=o*S+a*M+s*P+l*L,i[8]=o*E+a*T+s*D+l*N,i[12]=o*w+a*R+s*I+l*O,i[1]=c*x+u*C+d*A+h*k,i[5]=c*S+u*M+d*P+h*L,i[9]=c*E+u*T+d*D+h*N,i[13]=c*w+u*R+d*I+h*O,i[2]=p*x+f*C+m*A+g*k,i[6]=p*S+f*M+m*P+g*L,i[10]=p*E+f*T+m*D+g*N,i[14]=p*w+f*R+m*I+g*O,i[3]=v*x+_*C+y*A+b*k,i[7]=v*S+_*M+y*P+b*L,i[11]=v*E+_*T+y*D+b*N,i[15]=v*w+_*R+y*I+b*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*a*d+n*l*d+r*a*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*o*d-r*o*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*h-i*o*u+n*o*h+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*d+r*o*u-n*o*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=u*m*l-f*d*l+f*s*h-a*m*h-u*s*g+a*d*g,_=p*d*l-c*m*l-p*s*h+o*m*h+c*s*g-o*d*g,y=c*f*l-p*u*l+p*a*h-o*f*h-c*a*g+o*u*g,b=p*u*s-c*f*s-p*a*d+o*f*d+c*a*m-o*u*m,x=t*v+n*_+r*y+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=v*S,e[1]=(f*d*i-u*m*i-f*r*h+n*m*h+u*r*g-n*d*g)*S,e[2]=(a*m*i-f*s*i+f*r*l-n*m*l-a*r*g+n*s*g)*S,e[3]=(u*s*i-a*d*i-u*r*l+n*d*l+a*r*h-n*s*h)*S,e[4]=_*S,e[5]=(c*m*i-p*d*i+p*r*h-t*m*h-c*r*g+t*d*g)*S,e[6]=(p*s*i-o*m*i-p*r*l+t*m*l+o*r*g-t*s*g)*S,e[7]=(o*d*i-c*s*i+c*r*l-t*d*l-o*r*h+t*s*h)*S,e[8]=y*S,e[9]=(p*u*i-c*f*i-p*n*h+t*f*h+c*n*g-t*u*g)*S,e[10]=(o*f*i-p*a*i+p*n*l-t*f*l-o*n*g+t*a*g)*S,e[11]=(c*a*i-o*u*i-c*n*l+t*u*l+o*n*h-t*a*h)*S,e[12]=b*S,e[13]=(c*f*r-p*u*r+p*n*d-t*f*d-c*n*m+t*u*m)*S,e[14]=(p*a*r-o*f*r-p*n*s+t*f*s+o*n*m-t*a*m)*S,e[15]=(o*u*r-c*a*r+c*n*s-t*u*s-o*n*d+t*a*d)*S,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,p=i*u,f=o*c,m=o*u,g=a*u,v=s*l,_=s*c,y=s*u,b=n.x,x=n.y,S=n.z;return r[0]=(1-(f+g))*b,r[1]=(h+y)*b,r[2]=(p-_)*b,r[3]=0,r[4]=(h-y)*x,r[5]=(1-(d+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(p+_)*S,r[9]=(m-v)*S,r[10]=(1-(d+f))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Fy.set(r[0],r[1],r[2]).length();const o=Fy.set(r[4],r[5],r[6]).length(),a=Fy.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Uy.copy(this);const s=1/i,l=1/o,c=1/a;return Uy.elements[0]*=s,Uy.elements[1]*=s,Uy.elements[2]*=s,Uy.elements[4]*=l,Uy.elements[5]*=l,Uy.elements[6]*=l,Uy.elements[8]*=c,Uy.elements[9]*=c,Uy.elements[10]*=c,t.setFromRotationMatrix(Uy),n.x=i,n.y=o,n.z=a,this}makePerspective(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:__;const s=this.elements,l=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),d=(n+r)/(n-r);let h,p;if(a===__)h=-(o+i)/(o-i),p=-2*o*i/(o-i);else{if(a!==y_)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-i),p=-o*i/(o-i)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:__;const s=this.elements,l=1/(t-e),c=1/(n-r),u=1/(o-i),d=(t+e)*l,h=(n+r)*c;let p,f;if(a===__)p=(o+i)*u,f=-2*u;else{if(a!==y_)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=i*u,f=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=f,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Fy=new ay,Uy=new Oy,By=new ay(0,0,0),zy=new ay(1,1,1),Hy=new ay,Vy=new ay,Wy=new ay,Gy=new Oy,jy=new oy;class Xy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xy.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(C_(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-C_(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(C_(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-C_(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(C_(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-C_(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Gy.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Gy,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return jy.setFromEuler(this),this.setFromQuaternion(jy,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Xy.DEFAULT_ORDER="XYZ";class Ky{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let qy=0;const Yy=new ay,Zy=new oy,Qy=new Oy,Jy=new ay,$y=new ay,eb=new ay,tb=new oy,nb=new ay(1,0,0),rb=new ay(0,1,0),ib=new ay(0,0,1),ob={type:"added"},ab={type:"removed"};class sb extends b_{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qy++}),this.uuid=w_(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sb.DEFAULT_UP.clone();const e=new ay,t=new Xy,n=new oy,r=new ay(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Oy},normalMatrix:{value:new k_}}),this.matrix=new Oy,this.matrixWorld=new Oy,this.matrixAutoUpdate=sb.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=sb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ky,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Zy.setFromAxisAngle(e,t),this.quaternion.multiply(Zy),this}rotateOnWorldAxis(e,t){return Zy.setFromAxisAngle(e,t),this.quaternion.premultiply(Zy),this}rotateX(e){return this.rotateOnAxis(nb,e)}rotateY(e){return this.rotateOnAxis(rb,e)}rotateZ(e){return this.rotateOnAxis(ib,e)}translateOnAxis(e,t){return Yy.copy(e).applyQuaternion(this.quaternion),this.position.add(Yy.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(nb,e)}translateY(e){return this.translateOnAxis(rb,e)}translateZ(e){return this.translateOnAxis(ib,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qy.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Jy.copy(e):Jy.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),$y.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qy.lookAt($y,Jy,this.up):Qy.lookAt(Jy,$y,this.up),this.quaternion.setFromRotationMatrix(Qy),r&&(Qy.extractRotation(r.matrixWorld),Zy.setFromRotationMatrix(Qy),this.quaternion.premultiply(Zy.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ob)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ab)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qy.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Qy.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qy),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){const i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($y,e,eb),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($y,tb,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}sb.DEFAULT_UP=new ay(0,1,0),sb.DEFAULT_MATRIX_AUTO_UPDATE=!0,sb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const lb=new ay,cb=new ay,ub=new ay,db=new ay,hb=new ay,pb=new ay,fb=new ay,mb=new ay,gb=new ay,vb=new ay;let _b=!1;class yb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ay,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ay,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ay;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),lb.subVectors(e,t),r.cross(lb);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){lb.subVectors(r,t),cb.subVectors(n,t),ub.subVectors(e,t);const o=lb.dot(lb),a=lb.dot(cb),s=lb.dot(ub),l=cb.dot(cb),c=cb.dot(ub),u=o*l-a*a;if(0===u)return i.set(-2,-1,-1);const d=1/u,h=(l*s-a*c)*d,p=(o*c-a*s)*d;return i.set(1-h-p,p,h)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,db),db.x>=0&&db.y>=0&&db.x+db.y<=1}static getUV(e,t,n,r,i,o,a,s){return!1===_b&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),_b=!0),this.getInterpolation(e,t,n,r,i,o,a,s)}static getInterpolation(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,db),s.setScalar(0),s.addScaledVector(i,db.x),s.addScaledVector(o,db.y),s.addScaledVector(a,db.z),s}static isFrontFacing(e,t,n,r){return lb.subVectors(n,t),cb.subVectors(e,t),lb.cross(cb).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return lb.subVectors(this.c,this.b),cb.subVectors(this.a,this.b),.5*lb.cross(cb).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return yb.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return yb.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return!1===_b&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),_b=!0),yb.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}getInterpolation(e,t,n,r,i){return yb.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return yb.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return yb.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,a;hb.subVectors(r,n),pb.subVectors(i,n),mb.subVectors(e,n);const s=hb.dot(mb),l=pb.dot(mb);if(s<=0&&l<=0)return t.copy(n);gb.subVectors(e,r);const c=hb.dot(gb),u=pb.dot(gb);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(hb,o);vb.subVectors(e,i);const h=hb.dot(vb),p=pb.dot(vb);if(p>=0&&h<=p)return t.copy(i);const f=h*l-s*p;if(f<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(pb,a);const m=c*p-h*u;if(m<=0&&u-c>=0&&h-p>=0)return fb.subVectors(i,r),a=(u-c)/(u-c+(h-p)),t.copy(r).addScaledVector(fb,a);const g=1/(m+f+d);return o=f*g,a=d*g,t.copy(n).addScaledVector(hb,o).addScaledVector(pb,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let bb=0;class xb extends b_{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bb++}),this.uuid=w_(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=tv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=a_,this.stencilZFail=a_,this.stencilZPass=a_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."));continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const Sb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Eb={h:0,s:0,l:0},wb={h:0,s:0,l:0};function Cb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Mb{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jv;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,G_.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G_.workingColorSpace;return this.r=e,this.g=t,this.b=n,G_.toWorkingColorSpace(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G_.workingColorSpace;if(e=M_(e,1),t=C_(t,0,1),n=C_(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Cb(i,r,e+1/3),this.g=Cb(i,r,e),this.b=Cb(i,r,e-1/3)}return G_.toWorkingColorSpace(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jv;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=t[1],a=t[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jv;const n=Sb[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=j_(e.r),this.g=j_(e.g),this.b=j_(e.b),this}copyLinearToSRGB(e){return this.r=X_(e.r),this.g=X_(e.g),this.b=X_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jv;return G_.fromWorkingColorSpace(Tb.copy(this),e),65536*Math.round(C_(255*Tb.r,0,255))+256*Math.round(C_(255*Tb.g,0,255))+Math.round(C_(255*Tb.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jv;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G_.workingColorSpace;G_.fromWorkingColorSpace(Tb.copy(this),t);const n=Tb.r,r=Tb.g,i=Tb.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const e=o-a;switch(l=c<=.5?e/(o+a):e/(2-o-a),o){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G_.workingColorSpace;return G_.fromWorkingColorSpace(Tb.copy(this),t),e.r=Tb.r,e.g=Tb.g,e.b=Tb.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jv;G_.fromWorkingColorSpace(Tb.copy(this),e);const t=Tb.r,n=Tb.g,r=Tb.b;return e!==Jv?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}offsetHSL(e,t,n){return this.getHSL(Eb),this.setHSL(Eb.h+e,Eb.s+t,Eb.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Eb),e.getHSL(wb);const n=T_(Eb.h,wb.h,t),r=T_(Eb.s,wb.s,t),i=T_(Eb.l,wb.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Tb=new Mb;Mb.NAMES=Sb;class Rb extends xb{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mb(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ab=new ay,Pb=new I_;class Db{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=m_,this.updateRange={offset:0,count:-1},this.gpuType=kv,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Pb.fromBufferAttribute(this,t),Pb.applyMatrix3(e),this.setXY(t,Pb.x,Pb.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ab.fromBufferAttribute(this,t),Ab.applyMatrix3(e),this.setXYZ(t,Ab.x,Ab.y,Ab.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ab.fromBufferAttribute(this,t),Ab.applyMatrix4(e),this.setXYZ(t,Ab.x,Ab.y,Ab.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ab.fromBufferAttribute(this,t),Ab.applyNormalMatrix(e),this.setXYZ(t,Ab.x,Ab.y,Ab.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ab.fromBufferAttribute(this,t),Ab.transformDirection(e),this.setXYZ(t,Ab.x,Ab.y,Ab.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=P_(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=D_(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=P_(t,this.array)),t}setX(e,t){return this.normalized&&(t=D_(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=P_(t,this.array)),t}setY(e,t){return this.normalized&&(t=D_(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=P_(t,this.array)),t}setZ(e,t){return this.normalized&&(t=D_(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=P_(t,this.array)),t}setW(e,t){return this.normalized&&(t=D_(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=D_(t,this.array),n=D_(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=D_(t,this.array),n=D_(n,this.array),r=D_(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=D_(t,this.array),n=D_(n,this.array),r=D_(r,this.array),i=D_(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==m_&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}class Ib extends Db{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class kb extends Db{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Lb extends Db{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Nb=0;const Ob=new Oy,Fb=new sb,Ub=new ay,Bb=new cy,zb=new cy,Hb=new ay;class Vb extends b_{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Nb++}),this.uuid=w_(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(N_(e)?kb:Ib)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new k_).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ob.makeRotationFromQuaternion(e),this.applyMatrix4(Ob),this}rotateX(e){return Ob.makeRotationX(e),this.applyMatrix4(Ob),this}rotateY(e){return Ob.makeRotationY(e),this.applyMatrix4(Ob),this}rotateZ(e){return Ob.makeRotationZ(e),this.applyMatrix4(Ob),this}translate(e,t,n){return Ob.makeTranslation(e,t,n),this.applyMatrix4(Ob),this}scale(e,t,n){return Ob.makeScale(e,t,n),this.applyMatrix4(Ob),this}lookAt(e){return Fb.lookAt(e),Fb.updateMatrix(),this.applyMatrix4(Fb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ub).negate(),this.translate(Ub.x,Ub.y,Ub.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Lb(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new cy);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ay(-1/0,-1/0,-1/0),new ay(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];Bb.setFromBufferAttribute(e),this.morphTargetsRelative?(Hb.addVectors(this.boundingBox.min,Bb.min),this.boundingBox.expandByPoint(Hb),Hb.addVectors(this.boundingBox.max,Bb.max),this.boundingBox.expandByPoint(Hb)):(this.boundingBox.expandByPoint(Bb.min),this.boundingBox.expandByPoint(Bb.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ty);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ay,1/0);if(e){const n=this.boundingSphere.center;if(Bb.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];zb.setFromBufferAttribute(n),this.morphTargetsRelative?(Hb.addVectors(Bb.min,zb.min),Bb.expandByPoint(Hb),Hb.addVectors(Bb.max,zb.max),Bb.expandByPoint(Hb)):(Bb.expandByPoint(zb.min),Bb.expandByPoint(zb.max))}Bb.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)Hb.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Hb));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)Hb.fromBufferAttribute(o,t),a&&(Ub.fromBufferAttribute(e,t),Hb.add(Ub)),r=Math.max(r,n.distanceToSquared(Hb))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Db(new Float32Array(4*a),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let C=0;C<a;C++)l[C]=new ay,c[C]=new ay;const u=new ay,d=new ay,h=new ay,p=new I_,f=new I_,m=new I_,g=new ay,v=new ay;function _(e,t,n){u.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),p.fromArray(o,2*e),f.fromArray(o,2*t),m.fromArray(o,2*n),d.sub(u),h.sub(u),f.sub(p),m.sub(p);const i=1/(f.x*m.y-m.x*f.y);isFinite(i)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(h,-f.y).multiplyScalar(i),v.copy(h).multiplyScalar(f.x).addScaledVector(d,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(v),c[t].add(v),c[n].add(v))}let y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(let C=0,M=y.length;C<M;++C){const e=y[C],t=e.start;for(let r=t,i=t+e.count;r<i;r+=3)_(n[r+0],n[r+1],n[r+2])}const b=new ay,x=new ay,S=new ay,E=new ay;function w(e){S.fromArray(i,3*e),E.copy(S);const t=l[e];b.copy(t),b.sub(S.multiplyScalar(S.dot(t))).normalize(),x.crossVectors(E,t);const n=x.dot(c[e])<0?-1:1;s[4*e]=b.x,s[4*e+1]=b.y,s[4*e+2]=b.z,s[4*e+3]=n}for(let C=0,M=y.length;C<M;++C){const e=y[C],t=e.start;for(let r=t,i=t+e.count;r<i;r+=3)w(n[r+0]),w(n[r+1]),w(n[r+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Db(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new ay,i=new ay,o=new ay,a=new ay,s=new ay,l=new ay,c=new ay,u=new ay;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),f=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,p),o.fromBufferAttribute(t,f),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Hb.fromBufferAttribute(e,t),Hb.normalize(),e.setXYZ(t,Hb.x,Hb.y,Hb.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let l=0,c=t.length;l<c;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new Db(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Vb,n=this.index.array,r=this.attributes;for(const a in r){const i=e(r[a],n);t.setAttribute(a,i)}const i=this.morphAttributes;for(const a in i){const r=[],o=i[a];for(let t=0,i=o.length;t<i;t++){const i=e(o[t],n);r.push(i)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const e=o[a];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Wb=new Oy,Gb=new Ny,jb=new Ty,Xb=new ay,Kb=new ay,qb=new ay,Yb=new ay,Zb=new ay,Qb=new ay,Jb=new I_,$b=new I_,ex=new I_,tx=new ay,nx=new ay,rx=new ay,ix=new ay,ox=new ay;class ax extends sb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rb;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){Qb.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],s=i[n];0!==r&&(Zb.fromBufferAttribute(s,e),o?Qb.addScaledVector(Zb,r):Qb.addScaledVector(Zb.sub(t),r))}t.add(Qb)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),jb.copy(n.boundingSphere),jb.applyMatrix4(i),Gb.copy(e.ray).recast(e.near),!1===jb.containsPoint(Gb.origin)){if(null===Gb.intersectSphere(jb,Xb))return;if(Gb.origin.distanceToSquared(Xb)>(e.far-e.near)**2)return}Wb.copy(i).invert(),Gb.copy(e.ray).applyMatrix4(Wb),null!==n.boundingBox&&!1===Gb.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Gb)}}_computeIntersections(e,t,n){let r;const i=this.geometry,o=this.material,a=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,d=i.groups,h=i.drawRange;if(null!==a)if(Array.isArray(o))for(let p=0,f=d.length;p<f;p++){const i=d[p],s=o[i.materialIndex];for(let o=Math.max(i.start,h.start),d=Math.min(a.count,Math.min(i.start+i.count,h.start+h.count));o<d;o+=3){r=sx(this,s,e,n,l,c,u,a.getX(o),a.getX(o+1),a.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),s=Math.min(a.count,h.start+h.count);i<s;i+=3){r=sx(this,o,e,n,l,c,u,a.getX(i),a.getX(i+1),a.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(o))for(let p=0,f=d.length;p<f;p++){const i=d[p],a=o[i.materialIndex];for(let o=Math.max(i.start,h.start),d=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));o<d;o+=3){r=sx(this,a,e,n,l,c,u,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),a=Math.min(s.count,h.start+h.count);i<a;i+=3){r=sx(this,o,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function sx(e,t,n,r,i,o,a,s,l,c){e.getVertexPosition(s,Kb),e.getVertexPosition(l,qb),e.getVertexPosition(c,Yb);const u=function(e,t,n,r,i,o,a,s){let l;if(l=1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,0===t.side,s),null===l)return null;ox.copy(s),ox.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(ox);return c<n.near||c>n.far?null:{distance:c,point:ox.clone(),object:e}}(e,t,n,r,Kb,qb,Yb,ix);if(u){i&&(Jb.fromBufferAttribute(i,s),$b.fromBufferAttribute(i,l),ex.fromBufferAttribute(i,c),u.uv=yb.getInterpolation(ix,Kb,qb,Yb,Jb,$b,ex,new I_)),o&&(Jb.fromBufferAttribute(o,s),$b.fromBufferAttribute(o,l),ex.fromBufferAttribute(o,c),u.uv1=yb.getInterpolation(ix,Kb,qb,Yb,Jb,$b,ex,new I_),u.uv2=u.uv1),a&&(tx.fromBufferAttribute(a,s),nx.fromBufferAttribute(a,l),rx.fromBufferAttribute(a,c),u.normal=yb.getInterpolation(ix,Kb,qb,Yb,tx,nx,rx,new ay),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const e={a:s,b:l,c:c,normal:new ay,materialIndex:0};yb.getNormal(Kb,qb,Yb,e.normal),u.face=e}return u}class lx extends Vb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,r,i,o,p,f,m,g,v){const _=o/m,y=p/g,b=o/2,x=p/2,S=f/2,E=m+1,w=g+1;let C=0,M=0;const T=new ay;for(let a=0;a<w;a++){const o=a*y-x;for(let s=0;s<E;s++){const d=s*_-b;T[e]=d*r,T[t]=o*i,T[n]=S,l.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=f>0?1:-1,c.push(T.x,T.y,T.z),u.push(s/m),u.push(1-a/g),C+=1}}for(let a=0;a<g;a++)for(let e=0;e<m;e++){const t=d+e+E*a,n=d+e+E*(a+1),r=d+(e+1)+E*(a+1),i=d+(e+1)+E*a;s.push(t,n,i),s.push(n,r,i),M+=6}a.addGroup(h,M,v),h+=M,d+=C}p("z","y","x",-1,-1,n,t,e,o,i,0),p("z","y","x",1,-1,n,t,-e,o,i,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,i,4),p("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new Lb(l,3)),this.setAttribute("normal",new Lb(c,3)),this.setAttribute("uv",new Lb(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lx(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cx(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function ux(e){const t={};for(let n=0;n<e.length;n++){const r=cx(e[n]);for(const e in r)t[e]=r[e]}return t}function dx(e){return null===e.getRenderTarget()?e.outputColorSpace:G_.workingColorSpace}const hx={clone:cx,merge:ux};class px extends xb{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cx(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class fx extends sb{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Oy,this.projectionMatrix=new Oy,this.projectionMatrixInverse=new Oy,this.coordinateSystem=__}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class mx extends fx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*E_*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*S_*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*E_*Math.atan(Math.tan(.5*S_*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*S_*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const gx=-90;class vx extends sb{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new mx(gx,1,e,t);r.layers=this.layers,this.add(r);const i=new mx(gx,1,e,t);i.layers=this.layers,this.add(i);const o=new mx(gx,1,e,t);o.layers=this.layers,this.add(o);const a=new mx(gx,1,e,t);a.layers=this.layers,this.add(a);const s=new mx(gx,1,e,t);s.layers=this.layers,this.add(s);const l=new mx(gx,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,o,a,s]=t;for(const l of t)this.remove(l);if(e===__)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==y_)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,a,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class _x extends $_{constructor(e,t,n,r,i,o,a,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:mv,n,r,i,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class yx extends ny{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];void 0!==t.encoding&&(B_("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Zv?Jv:Qv),this.texture=new _x(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Mv}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new lx(5,5,5),a=new px({name:"CubemapFromEquirect",uniforms:cx(n),vertexShader:r,fragmentShader:i,side:1,blending:0});a.uniforms.tEquirect.value=t;const s=new ax(o,a),l=t.minFilter;t.minFilter===Rv&&(t.minFilter=Mv);return new vx(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}const bx=new ay,xx=new ay,Sx=new k_;class Ex{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ay(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=bx.subVectors(n,t).cross(xx.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(bx),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Sx.getNormalMatrix(e),r=this.coplanarPoint(bx).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const wx=new Ty,Cx=new ay;class Mx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ex,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ex,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ex,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ex,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Ex;this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__;const n=this.planes,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],p=r[9],f=r[10],m=r[11],g=r[12],v=r[13],_=r[14],y=r[15];if(n[0].setComponents(s-i,d-l,m-h,y-g).normalize(),n[1].setComponents(s+i,d+l,m+h,y+g).normalize(),n[2].setComponents(s+o,d+c,m+p,y+v).normalize(),n[3].setComponents(s-o,d-c,m-p,y-v).normalize(),n[4].setComponents(s-a,d-u,m-f,y-_).normalize(),t===__)n[5].setComponents(s+a,d+u,m+f,y+_).normalize();else{if(t!==y_)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,f,_).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),wx.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),wx.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wx)}intersectsSprite(e){return wx.center.set(0,0,0),wx.radius=.7071067811865476,wx.applyMatrix4(e.matrixWorld),this.intersectsSphere(wx)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Cx.x=r.normal.x>0?e.max.x:e.min.x,Cx.y=r.normal.y>0?e.max.y:e.min.y,Cx.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Cx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Tx(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Rx(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const o=r.get(t);void 0===o?r.set(t,function(t,r){const i=t.array,o=t.usage,a=e.createBuffer();let s;if(e.bindBuffer(r,a),e.bufferData(r,i,o),t.onUploadCallback(),i instanceof Float32Array)s=e.FLOAT;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=e.HALF_FLOAT}else s=e.UNSIGNED_SHORT;else if(i instanceof Int16Array)s=e.SHORT;else if(i instanceof Uint32Array)s=e.UNSIGNED_INT;else if(i instanceof Int32Array)s=e.INT;else if(i instanceof Int8Array)s=e.BYTE;else if(i instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=e.UNSIGNED_BYTE}return{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){const o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}class Ax extends Vb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=e/a,d=t/s,h=[],p=[],f=[],m=[];for(let g=0;g<c;g++){const e=g*d-o;for(let t=0;t<l;t++){const n=t*u-i;p.push(n,-e,0),f.push(0,0,1),m.push(t/a),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<a;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new Lb(p,3)),this.setAttribute("normal",new Lb(f,3)),this.setAttribute("uv",new Lb(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ax(e.width,e.height,e.widthSegments,e.heightSegments)}}const Px={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal;\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Dx={common:{diffuse:{value:new Mb(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new k_},alphaMap:{value:null},alphaMapTransform:{value:new k_},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new k_}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new k_}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new k_}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new k_},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new k_},normalScale:{value:new I_(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new k_},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new k_}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new k_}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new k_}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mb(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Mb(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new k_},alphaTest:{value:0},uvTransform:{value:new k_}},sprite:{diffuse:{value:new Mb(16777215)},opacity:{value:1},center:{value:new I_(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new k_},alphaMap:{value:null},alphaMapTransform:{value:new k_},alphaTest:{value:0}}},Ix={basic:{uniforms:ux([Dx.common,Dx.specularmap,Dx.envmap,Dx.aomap,Dx.lightmap,Dx.fog]),vertexShader:Px.meshbasic_vert,fragmentShader:Px.meshbasic_frag},lambert:{uniforms:ux([Dx.common,Dx.specularmap,Dx.envmap,Dx.aomap,Dx.lightmap,Dx.emissivemap,Dx.bumpmap,Dx.normalmap,Dx.displacementmap,Dx.fog,Dx.lights,{emissive:{value:new Mb(0)}}]),vertexShader:Px.meshlambert_vert,fragmentShader:Px.meshlambert_frag},phong:{uniforms:ux([Dx.common,Dx.specularmap,Dx.envmap,Dx.aomap,Dx.lightmap,Dx.emissivemap,Dx.bumpmap,Dx.normalmap,Dx.displacementmap,Dx.fog,Dx.lights,{emissive:{value:new Mb(0)},specular:{value:new Mb(1118481)},shininess:{value:30}}]),vertexShader:Px.meshphong_vert,fragmentShader:Px.meshphong_frag},standard:{uniforms:ux([Dx.common,Dx.envmap,Dx.aomap,Dx.lightmap,Dx.emissivemap,Dx.bumpmap,Dx.normalmap,Dx.displacementmap,Dx.roughnessmap,Dx.metalnessmap,Dx.fog,Dx.lights,{emissive:{value:new Mb(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Px.meshphysical_vert,fragmentShader:Px.meshphysical_frag},toon:{uniforms:ux([Dx.common,Dx.aomap,Dx.lightmap,Dx.emissivemap,Dx.bumpmap,Dx.normalmap,Dx.displacementmap,Dx.gradientmap,Dx.fog,Dx.lights,{emissive:{value:new Mb(0)}}]),vertexShader:Px.meshtoon_vert,fragmentShader:Px.meshtoon_frag},matcap:{uniforms:ux([Dx.common,Dx.bumpmap,Dx.normalmap,Dx.displacementmap,Dx.fog,{matcap:{value:null}}]),vertexShader:Px.meshmatcap_vert,fragmentShader:Px.meshmatcap_frag},points:{uniforms:ux([Dx.points,Dx.fog]),vertexShader:Px.points_vert,fragmentShader:Px.points_frag},dashed:{uniforms:ux([Dx.common,Dx.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Px.linedashed_vert,fragmentShader:Px.linedashed_frag},depth:{uniforms:ux([Dx.common,Dx.displacementmap]),vertexShader:Px.depth_vert,fragmentShader:Px.depth_frag},normal:{uniforms:ux([Dx.common,Dx.bumpmap,Dx.normalmap,Dx.displacementmap,{opacity:{value:1}}]),vertexShader:Px.meshnormal_vert,fragmentShader:Px.meshnormal_frag},sprite:{uniforms:ux([Dx.sprite,Dx.fog]),vertexShader:Px.sprite_vert,fragmentShader:Px.sprite_frag},background:{uniforms:{uvTransform:{value:new k_},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Px.background_vert,fragmentShader:Px.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Px.backgroundCube_vert,fragmentShader:Px.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Px.cube_vert,fragmentShader:Px.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Px.equirect_vert,fragmentShader:Px.equirect_frag},distanceRGBA:{uniforms:ux([Dx.common,Dx.displacementmap,{referencePosition:{value:new ay},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Px.distanceRGBA_vert,fragmentShader:Px.distanceRGBA_frag},shadow:{uniforms:ux([Dx.lights,Dx.fog,{color:{value:new Mb(0)},opacity:{value:1}}]),vertexShader:Px.shadow_vert,fragmentShader:Px.shadow_frag}};Ix.physical={uniforms:ux([Ix.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new k_},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new k_},clearcoatNormalScale:{value:new I_(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new k_},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new k_},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new k_},sheen:{value:0},sheenColor:{value:new Mb(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new k_},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new k_},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new k_},transmissionSamplerSize:{value:new I_},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new k_},attenuationDistance:{value:0},attenuationColor:{value:new Mb(0)},specularColor:{value:new Mb(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new k_},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new k_},anisotropyVector:{value:new I_},anisotropyMap:{value:null},anisotropyMapTransform:{value:new k_}}]),vertexShader:Px.meshphysical_vert,fragmentShader:Px.meshphysical_frag};const kx={r:0,b:0,g:0};function Lx(e,t,n,r,i,o,a){const s=new Mb(0);let l,c,u=!0===o?0:1,d=null,h=0,p=null;function f(t,n){t.getRGB(kx,dx(e)),r.buffers.color.setClear(kx.r,kx.g,kx.b,n,a)}return{getClearColor:function(){return s},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),u=t,f(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,f(s,u)},render:function(o,m){let g=!1,v=!0===m.isScene?m.background:null;if(v&&v.isTexture){v=(m.backgroundBlurriness>0?n:t).get(v)}null===v?f(s,u):v&&v.isColor&&(f(v,1),g=!0);const _=e.xr.getEnvironmentBlendMode();"additive"===_?r.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===_&&r.buffers.color.setClear(0,0,0,0,a),(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.mapping===yv)?(void 0===c&&(c=new ax(new lx(1,1,1),new px({name:"BackgroundCubeMaterial",uniforms:cx(Ix.backgroundCube.uniforms),vertexShader:Ix.backgroundCube.vertexShader,fragmentShader:Ix.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=v,c.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=G_.getTransfer(v.colorSpace)!==r_,d===v&&h===v.version&&p===e.toneMapping||(c.material.needsUpdate=!0,d=v,h=v.version,p=e.toneMapping),c.layers.enableAll(),o.unshift(c,c.geometry,c.material,0,0,null)):v&&v.isTexture&&(void 0===l&&(l=new ax(new Ax(2,2),new px({name:"BackgroundMaterial",uniforms:cx(Ix.background.uniforms),vertexShader:Ix.background.vertexShader,fragmentShader:Ix.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=v,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=G_.getTransfer(v.colorSpace)!==r_,!0===v.matrixAutoUpdate&&v.updateMatrix(),l.material.uniforms.uvTransform.value.copy(v.matrix),d===v&&h===v.version&&p===e.toneMapping||(l.material.needsUpdate=!0,d=v,h=v.version,p=e.toneMapping),l.layers.enableAll(),o.unshift(l,l.geometry,l.material,0,0,null))}}}function Nx(e,t,n,r){const i=e.getParameter(e.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=p(null);let c=l,u=!1;function d(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function p(e){const t=[],n=[],r=[];for(let o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function m(e){g(e,0)}function g(n,i){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i){(r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function v(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function _(t,n,r,i,o,a,s){!0===s?e.vertexAttribIPointer(t,n,r,o,a):e.vertexAttribPointer(t,n,r,i,o,a)}function y(){b(),u=!0,c!==l&&(c=l,d(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,y,b){let x=!1;if(a){const t=function(t,n,i){const a=!0===i.wireframe;let l=s[t.id];void 0===l&&(l={},s[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[a];void 0===u&&(u=p(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[a]=u);return u}(y,h,l);c!==t&&(c=t,d(c.object)),x=function(e,t,n,r){const i=c.attributes,o=t.attributes;let a=0;const s=n.getAttributes();for(const l in s){if(s[l].location>=0){const t=i[l];let n=o[l];if(void 0===n&&("instanceMatrix"===l&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;a++}}return c.attributesNum!==a||c.index!==r}(i,y,h,b),x&&function(e,t,n,r){const i={},o=t.attributes;let a=0;const s=n.getAttributes();for(const l in s){if(s[l].location>=0){let t=o[l];void 0===t&&("instanceMatrix"===l&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[l]=n,a++}}c.attributes=i,c.attributesNum=a,c.index=r}(i,y,h,b)}else{const e=!0===l.wireframe;c.geometry===y.id&&c.program===h.id&&c.wireframe===e||(c.geometry=y.id,c.program=h.id,c.wireframe=e,x=!0)}null!==b&&n.update(b,e.ELEMENT_ARRAY_BUFFER),(x||u)&&(u=!1,function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();const l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const o=c[t];if(o.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const t=a.normalized,l=a.itemSize,c=n.get(a);if(void 0===c)continue;const u=c.buffer,d=c.type,h=c.bytesPerElement,p=!0===r.isWebGL2&&(d===e.INT||d===e.UNSIGNED_INT||a.gpuType===Dv);if(a.isInterleavedBufferAttribute){const n=a.data,r=n.stride,c=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<o.locationSize;e++)g(o.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<o.locationSize;e++)m(o.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<o.locationSize;e++)_(o.location+e,l/o.locationSize,d,t,r*h,(c+l/o.locationSize*e)*h,p)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<o.locationSize;e++)g(o.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<o.locationSize;e++)m(o.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<o.locationSize;e++)_(o.location+e,l/o.locationSize,d,t,l*h,l/o.locationSize*e*h,p)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(o.location,n);break;case 3:e.vertexAttrib3fv(o.location,n);break;case 4:e.vertexAttrib4fv(o.location,n);break;default:e.vertexAttrib1fv(o.location,n)}}}}v()}(i,l,h,y),null!==b&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){y();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const n in t){const e=t[n];for(const t in e)h(e[t].object),delete e[t];delete t[n]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)h(r[e].object),delete r[e];delete n[e.id]}},initAttributes:f,enableAttribute:m,disableUnusedAttributes:v}}function Ox(e,t,n,r){const i=r.isWebGL2;let o;this.setMode=function(e){o=e},this.render=function(t,r){e.drawArrays(o,t,r),n.update(r,o,1)},this.renderInstances=function(r,a,s){if(0===s)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,r,a,s),n.update(a,o,s)}}function Fx(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name;let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=o||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),p=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),f=e.getParameter(e.MAX_VERTEX_ATTRIBS),m=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),g=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),_=d>0,y=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:_,floatFragmentTextures:y,floatVertexTextures:_&&y,maxSamples:o?e.getParameter(e.MAX_SAMPLES):0}}function Ux(e){const t=this;let n=null,r=0,i=!1,o=!1;const a=new Ex,s=new k_,l={value:null,needsUpdate:!1};function c(e,n,r,i){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const t=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==o;++n,l+=4)a.copy(e[n]).applyMatrix4(i,s),a.normal.toArray(c,l),c[l+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(a,s,u){const d=a.clippingPlanes,h=a.clipIntersection,p=a.clipShadows,f=e.get(a);if(!i||null===d||0===d.length||o&&!p)o?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=o?0:r,t=4*e;let i=f.clippingState||null;l.value=i,i=c(d,s,t,u);for(let r=0;r!==t;++r)i[r]=n[r];f.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function Bx(e){let t=new WeakMap;function n(e,t){return t===vv?e.mapping=mv:t===_v&&(e.mapping=gv),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const o=i.mapping;if(o===vv||o===_v){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const a=new yx(o.height/2);return a.fromEquirectangularTexture(e,i),t.set(i,a),i.addEventListener("dispose",r),n(a.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class zx extends fx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Hx=[.125,.215,.35,.446,.526,.582],Vx=20,Wx=new zx,Gx=new Mb;let jx=null;const Xx=(1+Math.sqrt(5))/2,Kx=1/Xx,qx=[new ay(1,1,1),new ay(-1,1,1),new ay(1,1,-1),new ay(-1,1,-1),new ay(0,Xx,Kx),new ay(0,Xx,-Kx),new ay(Kx,0,Xx),new ay(-Kx,0,Xx),new ay(Xx,Kx,0),new ay(-Xx,Kx,0)];class Yx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;jx=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=$x(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Jx(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(jx),e.scissorTest=!1,Qx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===mv||e.mapping===gv?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),jx=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Mv,minFilter:Mv,generateMipmaps:!1,type:Lv,format:Ov,colorSpace:$v,depthBuffer:!1},r=Zx(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Zx(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const o=e-4+1+Hx.length;for(let a=0;a<o;a++){const o=Math.pow(2,i);n.push(o);let s=1/o;a>e-4?s=Hx[a-e+4-1]:0===a&&(s=0),r.push(s);const l=1/(o-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,p=6,f=3,m=2,g=1,v=new Float32Array(f*p*h),_=new Float32Array(m*p*h),y=new Float32Array(g*p*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,f*p*e),_.set(d,m*p*e);const i=[e,e,e,e,e,e];y.set(i,g*p*e)}const b=new Vb;b.setAttribute("position",new Db(v,f)),b.setAttribute("uv",new Db(_,m)),b.setAttribute("faceIndex",new Db(y,g)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(Vx),i=new ay(0,1,0),o=new px({name:"SphericalGaussianBlur",defines:{n:Vx,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return o}(r,e,t)}return r}_compileMaterial(e){const t=new ax(this._lodPlanes[0],e);this._renderer.compile(t,Wx)}_sceneToCubeUV(e,t,n,r){const i=new mx(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(Gx),s.toneMapping=0,s.autoClear=!1;const u=new Rb({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new ax(new lx,u);let h=!1;const p=e.background;p?p.isColor&&(u.color.copy(p),e.background=null,h=!0):(u.color.copy(Gx),h=!0);for(let f=0;f<6;f++){const t=f%3;0===t?(i.up.set(0,o[f],0),i.lookAt(a[f],0,0)):1===t?(i.up.set(0,0,o[f]),i.lookAt(0,a[f],0)):(i.up.set(0,o[f],0),i.lookAt(0,0,a[f]));const n=this._cubeSize;Qx(r,t*n,f>2?n:0,n,n),s.setRenderTarget(r),h&&s.render(d,i),s.render(e,i)}d.geometry.dispose(),d.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===mv||e.mapping===gv;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=$x()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Jx());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new ax(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const a=this._cubeSize;Qx(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,Wx)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=qx[(r-1)%qx.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new ax(this._lodPlanes[r],l),u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,p=i/h,f=isFinite(i)?1+Math.floor(3*p):Vx;f>Vx&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(f," samples when the maximum is set to ").concat(Vx));const m=[];let g=0;for(let y=0;y<Vx;++y){const e=y/p,t=Math.exp(-e*e/2);m.push(t),0===y?g+=t:y<f&&(g+=2*t)}for(let y=0;y<m.length;y++)m[y]=m[y]/g;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a);const{_lodMax:v}=this;u.dTheta.value=h,u.mipInt.value=v-n;const _=this._sizeLods[r];Qx(t,3*_*(r>v-4?r-v+4:0),4*(this._cubeSize-_),3*_,2*_),s.setRenderTarget(t),s.render(c,Wx)}}function Zx(e,t,n){const r=new ny(e,t,n);return r.texture.mapping=yv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Qx(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Jx(){return new px({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function $x(){return new px({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function eS(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,a=o===vv||o===_v,s=o===mv||o===gv;if(a||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new Yx(e)),r=a?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const o=i.image;if(a&&o&&o.height>0||s&&o&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(o)){null===n&&(n=new Yx(e));const o=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,o),i.addEventListener("dispose",r),o.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function tS(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function nS(e,t,n,r){const i={},o=new WeakMap;function a(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);for(const n in s.morphAttributes){const e=s.morphAttributes[n];for(let n=0,r=e.length;n<r;n++)t.remove(e[n])}s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(t.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{if(void 0===i)return;{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const s=new(N_(n)?kb:Ib)(n,1);s.version=a;const l=o.get(e);l&&t.remove(l),o.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const o in r)t.update(r[o],e.ARRAY_BUFFER);const i=n.morphAttributes;for(const o in i){const n=i[o];for(let r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function rS(e,t,n,r){const i=r.isWebGL2;let o,a,s;this.setMode=function(e){o=e},this.setIndex=function(e){a=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(o,r,a,t*s),n.update(r,o,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,d;if(i)u=e,d="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](o,l,a,r*s,c),n.update(l,o,c)}}function iS(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function oS(e,t){return e[0]-t[0]}function aS(e,t){return Math.abs(t[1])-Math.abs(e[1])}function sS(e,t,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new ey,s=[];for(let l=0;l<8;l++)s[l]=[l,0];return{update:function(l,c,u){const d=l.morphTargetInfluences;if(!0===t.isWebGL2){const h=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,p=void 0!==h?h.length:0;let f=o.get(c);if(void 0===f||f.count!==p){void 0!==f&&f.texture.dispose();const v=void 0!==c.morphAttributes.position,_=void 0!==c.morphAttributes.normal,y=void 0!==c.morphAttributes.color,b=c.morphAttributes.position||[],x=c.morphAttributes.normal||[],S=c.morphAttributes.color||[];let E=0;!0===v&&(E=1),!0===_&&(E=2),!0===y&&(E=3);let w=c.attributes.position.count*E,C=1;w>t.maxTextureSize&&(C=Math.ceil(w/t.maxTextureSize),w=t.maxTextureSize);const M=new Float32Array(w*C*4*p),T=new ry(M,w,C,p);T.type=kv,T.needsUpdate=!0;const R=4*E;for(let P=0;P<p;P++){const D=b[P],I=x[P],k=S[P],L=w*C*4*P;for(let N=0;N<D.count;N++){const O=N*R;!0===v&&(a.fromBufferAttribute(D,N),M[L+O+0]=a.x,M[L+O+1]=a.y,M[L+O+2]=a.z,M[L+O+3]=0),!0===_&&(a.fromBufferAttribute(I,N),M[L+O+4]=a.x,M[L+O+5]=a.y,M[L+O+6]=a.z,M[L+O+7]=0),!0===y&&(a.fromBufferAttribute(k,N),M[L+O+8]=a.x,M[L+O+9]=a.y,M[L+O+10]=a.z,M[L+O+11]=4===k.itemSize?a.w:1)}}function A(){T.dispose(),o.delete(c),c.removeEventListener("dispose",A)}f={count:p,texture:T,size:new I_(w,C)},o.set(c,f),c.addEventListener("dispose",A)}let m=0;for(let F=0;F<d.length;F++)m+=d[F];const g=c.morphTargetsRelative?1:1-m;u.getUniforms().setValue(e,"morphTargetBaseInfluence",g),u.getUniforms().setValue(e,"morphTargetInfluences",d),u.getUniforms().setValue(e,"morphTargetsTexture",f.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",f.size)}else{const U=void 0===d?0:d.length;let B=r[c.id];if(void 0===B||B.length!==U){B=[];for(let G=0;G<U;G++)B[G]=[G,0];r[c.id]=B}for(let j=0;j<U;j++){const X=B[j];X[0]=j,X[1]=d[j]}B.sort(aS);for(let K=0;K<8;K++)K<U&&B[K][1]?(s[K][0]=B[K][0],s[K][1]=B[K][1]):(s[K][0]=Number.MAX_SAFE_INTEGER,s[K][1]=0);s.sort(oS);const z=c.morphAttributes.position,H=c.morphAttributes.normal;let V=0;for(let q=0;q<8;q++){const Y=s[q],Z=Y[0],Q=Y[1];Z!==Number.MAX_SAFE_INTEGER&&Q?(z&&c.getAttribute("morphTarget"+q)!==z[Z]&&c.setAttribute("morphTarget"+q,z[Z]),H&&c.getAttribute("morphNormal"+q)!==H[Z]&&c.setAttribute("morphNormal"+q,H[Z]),i[q]=Q,V+=Q):(z&&!0===c.hasAttribute("morphTarget"+q)&&c.deleteAttribute("morphTarget"+q),H&&!0===c.hasAttribute("morphNormal"+q)&&c.deleteAttribute("morphNormal"+q),i[q]=0)}const W=c.morphTargetsRelative?1:1-V;u.getUniforms().setValue(e,"morphTargetBaseInfluence",W),u.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function lS(e,t,n,r){let i=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const s=r.render.frame,l=a.geometry,c=t.get(a,l);if(i.get(c)!==s&&(t.update(c),i.set(c,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),i.get(a)!==s&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),i.set(a,s))),a.isSkinnedMesh){const e=a.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return c},dispose:function(){i=new WeakMap}}}const cS=new $_,uS=new ry,dS=new iy,hS=new _x,pS=[],fS=[],mS=new Float32Array(16),gS=new Float32Array(9),vS=new Float32Array(4);function _S(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=pS[i];if(void 0===o&&(o=new Float32Array(i),pS[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function yS(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function bS(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function xS(e,t){let n=fS[t];void 0===n&&(n=new Int32Array(t),fS[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function SS(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ES(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(yS(n,t))return;e.uniform2fv(this.addr,t),bS(n,t)}}function wS(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(yS(n,t))return;e.uniform3fv(this.addr,t),bS(n,t)}}function CS(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(yS(n,t))return;e.uniform4fv(this.addr,t),bS(n,t)}}function MS(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(yS(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),bS(n,t)}else{if(yS(n,r))return;vS.set(r),e.uniformMatrix2fv(this.addr,!1,vS),bS(n,r)}}function TS(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(yS(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),bS(n,t)}else{if(yS(n,r))return;gS.set(r),e.uniformMatrix3fv(this.addr,!1,gS),bS(n,r)}}function RS(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(yS(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),bS(n,t)}else{if(yS(n,r))return;mS.set(r),e.uniformMatrix4fv(this.addr,!1,mS),bS(n,r)}}function AS(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function PS(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(yS(n,t))return;e.uniform2iv(this.addr,t),bS(n,t)}}function DS(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(yS(n,t))return;e.uniform3iv(this.addr,t),bS(n,t)}}function IS(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(yS(n,t))return;e.uniform4iv(this.addr,t),bS(n,t)}}function kS(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function LS(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(yS(n,t))return;e.uniform2uiv(this.addr,t),bS(n,t)}}function NS(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(yS(n,t))return;e.uniform3uiv(this.addr,t),bS(n,t)}}function OS(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(yS(n,t))return;e.uniform4uiv(this.addr,t),bS(n,t)}}function FS(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||cS,i)}function US(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||dS,i)}function BS(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||hS,i)}function zS(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||uS,i)}function HS(e,t){e.uniform1fv(this.addr,t)}function VS(e,t){const n=_S(t,this.size,2);e.uniform2fv(this.addr,n)}function WS(e,t){const n=_S(t,this.size,3);e.uniform3fv(this.addr,n)}function GS(e,t){const n=_S(t,this.size,4);e.uniform4fv(this.addr,n)}function jS(e,t){const n=_S(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function XS(e,t){const n=_S(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function KS(e,t){const n=_S(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function qS(e,t){e.uniform1iv(this.addr,t)}function YS(e,t){e.uniform2iv(this.addr,t)}function ZS(e,t){e.uniform3iv(this.addr,t)}function QS(e,t){e.uniform4iv(this.addr,t)}function JS(e,t){e.uniform1uiv(this.addr,t)}function $S(e,t){e.uniform2uiv(this.addr,t)}function eE(e,t){e.uniform3uiv(this.addr,t)}function tE(e,t){e.uniform4uiv(this.addr,t)}function nE(e,t,n){const r=this.cache,i=t.length,o=xS(n,i);yS(r,o)||(e.uniform1iv(this.addr,o),bS(r,o));for(let a=0;a!==i;++a)n.setTexture2D(t[a]||cS,o[a])}function rE(e,t,n){const r=this.cache,i=t.length,o=xS(n,i);yS(r,o)||(e.uniform1iv(this.addr,o),bS(r,o));for(let a=0;a!==i;++a)n.setTexture3D(t[a]||dS,o[a])}function iE(e,t,n){const r=this.cache,i=t.length,o=xS(n,i);yS(r,o)||(e.uniform1iv(this.addr,o),bS(r,o));for(let a=0;a!==i;++a)n.setTextureCube(t[a]||hS,o[a])}function oE(e,t,n){const r=this.cache,i=t.length,o=xS(n,i);yS(r,o)||(e.uniform1iv(this.addr,o),bS(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(t[a]||uS,o[a])}class aE{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return SS;case 35664:return ES;case 35665:return wS;case 35666:return CS;case 35674:return MS;case 35675:return TS;case 35676:return RS;case 5124:case 35670:return AS;case 35667:case 35671:return PS;case 35668:case 35672:return DS;case 35669:case 35673:return IS;case 5125:return kS;case 36294:return LS;case 36295:return NS;case 36296:return OS;case 35678:case 36198:case 36298:case 36306:case 35682:return FS;case 35679:case 36299:case 36307:return US;case 35680:case 36300:case 36308:case 36293:return BS;case 36289:case 36303:case 36311:case 36292:return zS}}(t.type)}}class sE{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return HS;case 35664:return VS;case 35665:return WS;case 35666:return GS;case 35674:return jS;case 35675:return XS;case 35676:return KS;case 5124:case 35670:return qS;case 35667:case 35671:return YS;case 35668:case 35672:return ZS;case 35669:case 35673:return QS;case 5125:return JS;case 36294:return $S;case 36295:return eE;case 36296:return tE;case 35678:case 36198:case 36298:case 36306:case 35682:return nE;case 35679:case 36299:case 36307:return rE;case 35680:case 36300:case 36308:case 36293:return iE;case 36289:case 36303:case 36311:case 36292:return oE}}(t.type)}}class lE{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}}}const cE=/(\w+)(\])?(\[|\.)?/g;function uE(e,t){e.seq.push(t),e.map[t.id]=t}function dE(e,t,n){const r=e.name,i=r.length;for(cE.lastIndex=0;;){const o=cE.exec(r),a=cE.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){uE(n,void 0===c?new aE(s,e,t):new sE(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new lE(s),uE(n,e)),n=e}}}class hE{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);dE(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function pE(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let fE=0;function mE(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let a=i;a<o;a++){const e=a+1;r.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[a]))}return r.join("\n")}(e.getShaderSource(t),r)}return i}function gE(e,t){const n=function(e){const t=G_.getPrimaries(G_.workingColorSpace),n=G_.getPrimaries(e);let r;switch(t===n?r="":t===o_&&n===i_?r="LinearDisplayP3ToLinearSRGB":t===i_&&n===o_&&(r="LinearSRGBToLinearDisplayP3"),e){case $v:case t_:return[r,"LinearTransferOETF"];case Jv:case e_:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[r,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function vE(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function _E(e){return""!==e}function yE(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function bE(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const xE=/^[ \t]*#include +<([\w\d./]+)>/gm;function SE(e){return e.replace(xE,wE)}const EE=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function wE(e,t){let n=Px[t];if(void 0===n){const e=EE.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=Px[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return SE(n)}const CE=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ME(e){return e.replace(CE,TE)}function TE(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function RE(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function AE(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case mv:case gv:t="ENVMAP_TYPE_CUBE";break;case yv:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===gv&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),p=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(_E).join("\n")}(n),f=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),m=i.createProgram();let g,v,_=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(_E).join("\n"),g.length>0&&(g+="\n"),v=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f].filter(_E).join("\n"),v.length>0&&(v+="\n")):(g=[RE(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(_E).join("\n"),v=[p,RE(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Px.tonemapping_pars_fragment:"",0!==n.toneMapping?vE("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Px.colorspace_pars_fragment,gE("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(_E).join("\n")),a=SE(a),a=yE(a,n),a=bE(a,n),s=SE(s),s=yE(s,n),s=bE(s,n),a=ME(a),s=ME(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(_="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===g_?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===g_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const y=_+g+a,b=_+v+s,x=pE(i,i.VERTEX_SHADER,y),S=pE(i,i.FRAGMENT_SHADER,b);if(i.attachShader(m,x),i.attachShader(m,S),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const t=i.getProgramInfoLog(m).trim(),n=i.getShaderInfoLog(x).trim(),r=i.getShaderInfoLog(S).trim();let o=!0,a=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(o=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,m,x,S);else{const e=mE(i,x,"vertex"),n=mE(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+"\n\nProgram Info Log: "+t+"\n"+e+"\n"+n)}else""!==t?console.warn("THREE.WebGLProgram: Program Info Log:",t):""!==n&&""!==r||(a=!1);a&&(this.diagnostics={runnable:o,programLog:t,vertexShader:{log:n,prefix:g},fragmentShader:{log:r,prefix:v}})}let E,w;return i.deleteShader(x),i.deleteShader(S),this.getUniforms=function(){return void 0===E&&(E=new hE(i,m)),E},this.getAttributes=function(){return void 0===w&&(w=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;let a=1;r.type===e.FLOAT_MAT2&&(a=2),r.type===e.FLOAT_MAT3&&(a=3),r.type===e.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:e.getAttribLocation(t,o),locationSize:a}}return n}(i,m)),w},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=fE++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=S,this}let PE=0;class DE{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new IE(e),t.set(e,n)),n}}class IE{constructor(e){this.id=PE++,this.code=e,this.usedTimes=0}}function kE(e,t,n,r,i,o,a){const s=new Ky,l=new DE,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures;let p=i.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(o,s,c,g,v){const _=g.fog,y=v.geometry,b=o.isMeshStandardMaterial?g.environment:null,x=(o.isMeshStandardMaterial?n:t).get(o.envMap||b),S=x&&x.mapping===yv?x.image.height:null,E=f[o.type];null!==o.precision&&(p=i.getMaxPrecision(o.precision),p!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",p,"instead."));const w=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,C=void 0!==w?w.length:0;let M,T,R,A,P=0;if(void 0!==y.morphAttributes.position&&(P=1),void 0!==y.morphAttributes.normal&&(P=2),void 0!==y.morphAttributes.color&&(P=3),E){const e=Ix[E];M=e.vertexShader,T=e.fragmentShader}else M=o.vertexShader,T=o.fragmentShader,l.update(o),R=l.getVertexShaderID(o),A=l.getFragmentShaderID(o);const D=e.getRenderTarget(),I=!0===v.isInstancedMesh,k=!!o.map,L=!!o.matcap,N=!!x,O=!!o.aoMap,F=!!o.lightMap,U=!!o.bumpMap,B=!!o.normalMap,z=!!o.displacementMap,H=!!o.emissiveMap,V=!!o.metalnessMap,W=!!o.roughnessMap,G=o.anisotropy>0,j=o.clearcoat>0,X=o.iridescence>0,K=o.sheen>0,q=o.transmission>0,Y=G&&!!o.anisotropyMap,Z=j&&!!o.clearcoatMap,Q=j&&!!o.clearcoatNormalMap,J=j&&!!o.clearcoatRoughnessMap,$=X&&!!o.iridescenceMap,ee=X&&!!o.iridescenceThicknessMap,te=K&&!!o.sheenColorMap,ne=K&&!!o.sheenRoughnessMap,re=!!o.specularMap,ie=!!o.specularColorMap,oe=!!o.specularIntensityMap,ae=q&&!!o.transmissionMap,se=q&&!!o.thicknessMap,le=!!o.gradientMap,ce=!!o.alphaMap,ue=o.alphaTest>0,de=!!o.alphaHash,he=!!o.extensions,pe=!!y.attributes.uv1,fe=!!y.attributes.uv2,me=!!y.attributes.uv3;let ge=0;return o.toneMapped&&(null!==D&&!0!==D.isXRRenderTarget||(ge=e.toneMapping)),{isWebGL2:u,shaderID:E,shaderType:o.type,shaderName:o.name,vertexShader:M,fragmentShader:T,defines:o.defines,customVertexShaderID:R,customFragmentShaderID:A,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:p,instancing:I,instancingColor:I&&null!==v.instanceColor,supportsVertexTextures:h,outputColorSpace:null===D?e.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:$v,map:k,matcap:L,envMap:N,envMapMode:N&&x.mapping,envMapCubeUVHeight:S,aoMap:O,lightMap:F,bumpMap:U,normalMap:B,displacementMap:h&&z,emissiveMap:H,normalMapObjectSpace:B&&1===o.normalMapType,normalMapTangentSpace:B&&0===o.normalMapType,metalnessMap:V,roughnessMap:W,anisotropy:G,anisotropyMap:Y,clearcoat:j,clearcoatMap:Z,clearcoatNormalMap:Q,clearcoatRoughnessMap:J,iridescence:X,iridescenceMap:$,iridescenceThicknessMap:ee,sheen:K,sheenColorMap:te,sheenRoughnessMap:ne,specularMap:re,specularColorMap:ie,specularIntensityMap:oe,transmission:q,transmissionMap:ae,thicknessMap:se,gradientMap:le,opaque:!1===o.transparent&&1===o.blending,alphaMap:ce,alphaTest:ue,alphaHash:de,combine:o.combine,mapUv:k&&m(o.map.channel),aoMapUv:O&&m(o.aoMap.channel),lightMapUv:F&&m(o.lightMap.channel),bumpMapUv:U&&m(o.bumpMap.channel),normalMapUv:B&&m(o.normalMap.channel),displacementMapUv:z&&m(o.displacementMap.channel),emissiveMapUv:H&&m(o.emissiveMap.channel),metalnessMapUv:V&&m(o.metalnessMap.channel),roughnessMapUv:W&&m(o.roughnessMap.channel),anisotropyMapUv:Y&&m(o.anisotropyMap.channel),clearcoatMapUv:Z&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:J&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:$&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:ee&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:te&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:ne&&m(o.sheenRoughnessMap.channel),specularMapUv:re&&m(o.specularMap.channel),specularColorMapUv:ie&&m(o.specularColorMap.channel),specularIntensityMapUv:oe&&m(o.specularIntensityMap.channel),transmissionMapUv:ae&&m(o.transmissionMap.channel),thicknessMapUv:se&&m(o.thicknessMap.channel),alphaMapUv:ce&&m(o.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(B||G),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUv1s:pe,vertexUv2s:fe,vertexUv3s:me,pointsUvs:!0===v.isPoints&&!!y.attributes.uv&&(k||ce),fog:!!_,useFog:!0===o.fog,fogExp2:_&&_.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:C,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,useLegacyLights:e._useLegacyLights,decodeVideoTexture:k&&!0===o.map.isVideoTexture&&G_.getTransfer(o.map.colorSpace)===r_,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:he&&!0===o.extensions.derivatives,extensionFragDepth:he&&!0===o.extensions.fragDepth,extensionDrawBuffers:he&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:he&&!0===o.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=f[e.type];let n;if(t){const e=Ix[t];n=hx.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=c.length;e<i;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new AE(e,n,t,o),c.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function LE(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function NE(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function OE(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function FE(){const e=[];let t=0;const n=[],r=[],i=[];function o(n,r,i,o,a,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)},unshift:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||NE),r.length>1&&r.sort(t||OE),i.length>1&&i.sort(t||OE)}}}function UE(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new FE,e.set(t,[i])):n>=r.length?(i=new FE,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function BE(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new ay,color:new Mb};break;case"SpotLight":n={position:new ay,direction:new ay,color:new Mb,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ay,color:new Mb,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ay,skyColor:new Mb,groundColor:new Mb};break;case"RectAreaLight":n={color:new Mb,position:new ay,halfWidth:new ay,halfHeight:new ay}}return e[t.id]=n,n}}}let zE=0;function HE(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function VE(e,t){const n=new BE,r=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new I_};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new I_,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)i.probe.push(new ay);const o=new ay,a=new Oy,s=new Oy;return{setup:function(o,a){let s=0,l=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let u=0,d=0,h=0,p=0,f=0,m=0,g=0,v=0,_=0,y=0,b=0;o.sort(HE);const x=!0===a?Math.PI:1;for(let e=0,t=o.length;e<t;e++){const t=o[e],a=t.color,S=t.intensity,E=t.distance,w=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=a.r*S*x,l+=a.g*S*x,c+=a.b*S*x;else if(t.isLightProbe){for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],S);b++}else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*x),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=w,i.directionalShadowMatrix[u]=t.shadow.matrix,m++}i.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(a).multiplyScalar(S*x),e.distance=E,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[h]=e;const o=t.shadow;if(t.map&&(i.spotLightMap[_]=t.map,_++,o.updateMatrices(t),t.castShadow&&y++),i.spotLightMatrix[h]=o.matrix,t.castShadow){const e=r.get(t);e.shadowBias=o.bias,e.shadowNormalBias=o.normalBias,e.shadowRadius=o.radius,e.shadowMapSize=o.mapSize,i.spotShadow[h]=e,i.spotShadowMap[h]=w,v++}h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(a).multiplyScalar(S),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[p]=e,p++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*x),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[d]=n,i.pointShadowMap[d]=w,i.pointShadowMatrix[d]=t.shadow.matrix,g++}i.point[d]=e,d++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(S*x),e.groundColor.copy(t.groundColor).multiplyScalar(S*x),i.hemi[f]=e,f++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Dx.LTC_FLOAT_1,i.rectAreaLTC2=Dx.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Dx.LTC_HALF_1,i.rectAreaLTC2=Dx.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;const S=i.hash;S.directionalLength===u&&S.pointLength===d&&S.spotLength===h&&S.rectAreaLength===p&&S.hemiLength===f&&S.numDirectionalShadows===m&&S.numPointShadows===g&&S.numSpotShadows===v&&S.numSpotMaps===_&&S.numLightProbes===b||(i.directional.length=u,i.spot.length=h,i.rectArea.length=p,i.point.length=d,i.hemi.length=f,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+_-y,i.spotLightMap.length=_,i.numSpotLightShadowsWithMaps=y,i.numLightProbes=b,S.directionalLength=u,S.pointLength=d,S.spotLength=h,S.rectAreaLength=p,S.hemiLength=f,S.numDirectionalShadows=m,S.numPointShadows=g,S.numSpotShadows=v,S.numSpotMaps=_,S.numLightProbes=b,i.version=zE++)},setupView:function(e,t){let n=0,r=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,p=e.length;h<p;h++){const t=e[h];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s.identity(),a.copy(t.matrixWorld),a.premultiply(d),s.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(t.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),r++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:i}}function WE(e,t){const n=new VE(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function GE(e,t){let n=new WeakMap;return{get:function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const o=n.get(r);let a;return void 0===o?(a=new WE(e,t),n.set(r,[a])):i>=o.length?(a=new WE(e,t),o.push(a)):a=o[i],a},dispose:function(){n=new WeakMap}}}class jE extends xb{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class XE extends xb{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function KE(e,t,n){let r=new Mx;const i=new I_,o=new I_,a=new ey,s=new jE({depthPacking:3201}),l=new XE,c={},u=n.maxTextureSize,d={[Jg]:1,[$g]:0,[ev]:2},h=new px({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new I_},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const f=new Vb;f.setAttribute("position",new Db(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new ax(f,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function _(n,r){const o=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new ny(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,o,h,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,o,p,m,null)}function y(t,n,r,i){let o=null;const a=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=o.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=o.clone(),r[t]=i),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){e.properties.get(o).light=r}return o}function b(n,i,o,a,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=i[c.materialIndex];if(u&&u.visible){const t=y(n,u,a,s);e.renderBufferDirect(o,null,r,t,n,c)}}}else if(i.visible){const t=y(n,i,a,s);e.renderBufferDirect(o,null,r,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)b(l[e],i,o,a,s)}this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const p=3!==v&&3===this.type,f=3===v&&3!==this.type;for(let m=0,g=t.length;m<g;m++){const l=t[m],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const d=c.getFrameExtents();if(i.multiply(d),o.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/d.x),i.x=o.x*d.x,c.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/d.y),i.y=o.y*d.y,c.mapSize.y=o.y)),null===c.map||!0===p||!0===f){const e=3!==this.type?{minFilter:Ev,magFilter:Ev}:{};null!==c.map&&c.map.dispose(),c.map=new ny(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const g=c.getViewportCount();for(let e=0;e<g;e++){const t=c.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),h.viewport(a),c.updateMatrices(l,e),r=c.getFrustum(),b(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&3===this.type&&_(c,s),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,d)}}function qE(e,t,n){const r=n.isWebGL2;const i=new function(){let t=!1;const n=new ey;let r=null;const i=new ey(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(t){t?z(e.DEPTH_TEST):H(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},a=new function(){let t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?z(e.STENCIL_TEST):H(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}},s=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,h=[],p=null,f=!1,m=null,g=null,v=null,_=null,y=null,b=null,x=null,S=!1,E=null,w=null,C=null,M=null,T=null;const R=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let A=!1,P=0;const D=e.getParameter(e.VERSION);-1!==D.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(D)[1]),A=P>=1):-1!==D.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),A=P>=2);let I=null,k={};const L=e.getParameter(e.SCISSOR_BOX),N=e.getParameter(e.VIEWPORT),O=(new ey).fromArray(L),F=(new ey).fromArray(N);function U(t,n,i,o){const a=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let l=0;l<i;l++)!r||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage3D(n,0,e.RGBA,1,1,o,0,e.RGBA,e.UNSIGNED_BYTE,a);return s}const B={};function z(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function H(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}B[e.TEXTURE_2D]=U(e.TEXTURE_2D,e.TEXTURE_2D,1),B[e.TEXTURE_CUBE_MAP]=U(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(B[e.TEXTURE_2D_ARRAY]=U(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),B[e.TEXTURE_3D]=U(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),z(e.DEPTH_TEST),o.setFunc(3),j(!1),X(1),z(e.CULL_FACE),G(0);const V={[tv]:e.FUNC_ADD,[nv]:e.FUNC_SUBTRACT,[rv]:e.FUNC_REVERSE_SUBTRACT};if(r)V[103]=e.MIN,V[104]=e.MAX;else{const e=t.get("EXT_blend_minmax");null!==e&&(V[103]=e.MIN_EXT,V[104]=e.MAX_EXT)}const W={[iv]:e.ZERO,[ov]:e.ONE,[av]:e.SRC_COLOR,[lv]:e.SRC_ALPHA,[fv]:e.SRC_ALPHA_SATURATE,[hv]:e.DST_COLOR,[uv]:e.DST_ALPHA,[sv]:e.ONE_MINUS_SRC_COLOR,[cv]:e.ONE_MINUS_SRC_ALPHA,[pv]:e.ONE_MINUS_DST_COLOR,[dv]:e.ONE_MINUS_DST_ALPHA};function G(t,n,r,i,o,a,s,l){if(0!==t){if(!1===f&&(z(e.BLEND),f=!0),5===t)o=o||n,a=a||r,s=s||i,n===g&&o===y||(e.blendEquationSeparate(V[n],V[o]),g=n,y=o),r===v&&i===_&&a===b&&s===x||(e.blendFuncSeparate(W[r],W[i],W[a],W[s]),v=r,_=i,b=a,x=s),m=t,S=!1;else if(t!==m||l!==S){if(g===tv&&y===tv||(e.blendEquation(e.FUNC_ADD),g=tv,y=tv),l)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,_=null,b=null,x=null,m=t,S=l}}else!0===f&&(H(e.BLEND),f=!1)}function j(t){E!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),E=t)}function X(t){0!==t?(z(e.CULL_FACE),t!==w&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):H(e.CULL_FACE),w=t}function K(t,n,r){t?(z(e.POLYGON_OFFSET_FILL),M===n&&T===r||(e.polygonOffset(n,r),M=n,T=r)):H(e.POLYGON_OFFSET_FILL)}return{buffers:{color:i,depth:o,stencil:a},enable:z,disable:H,bindFramebuffer:function(t,n){return u[t]!==n&&(e.bindFramebuffer(t,n),u[t]=n,r&&(t===e.DRAW_FRAMEBUFFER&&(u[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(u[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){let o=h,a=!1;if(r)if(o=d.get(i),void 0===o&&(o=[],d.set(i,o)),r.isWebGLMultipleRenderTargets){const t=r.texture;if(o.length!==t.length||o[0]!==e.COLOR_ATTACHMENT0){for(let n=0,r=t.length;n<r;n++)o[n]=e.COLOR_ATTACHMENT0+n;o.length=t.length,a=!0}}else o[0]!==e.COLOR_ATTACHMENT0&&(o[0]=e.COLOR_ATTACHMENT0,a=!0);else o[0]!==e.BACK&&(o[0]=e.BACK,a=!0);a&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:G,setMaterial:function(t,n){2===t.side?H(e.CULL_FACE):z(e.CULL_FACE);let r=1===t.side;n&&(r=!r),j(r),1===t.blending&&!1===t.transparent?G(0):G(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),i.setMask(t.colorWrite);const s=t.stencilWrite;a.setTest(s),s&&(a.setMask(t.stencilWriteMask),a.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),a.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),K(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?z(e.SAMPLE_ALPHA_TO_COVERAGE):H(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:j,setCullFace:X,setLineWidth:function(t){t!==C&&(A&&e.lineWidth(t),C=t)},setPolygonOffset:K,setScissorTest:function(t){t?z(e.SCISSOR_TEST):H(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+R-1),I!==t&&(e.activeTexture(t),I=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===I?e.TEXTURE0+R-1:I);let i=k[r];void 0===i&&(i={type:void 0,texture:void 0},k[r]=i),i.type===t&&i.texture===n||(I!==r&&(e.activeTexture(r),I=r),e.bindTexture(t,n||B[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=k[I];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){let r=l.get(n);void 0===r&&(r=new WeakMap,l.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=l.get(n).get(t);s.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),s.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===O.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),O.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===r&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},I=null,k={},u={},d=new WeakMap,h=[],p=null,f=!1,m=null,g=null,v=null,_=null,y=null,b=null,x=null,S=!1,E=null,w=null,C=null,M=null,T=null,O.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),i.reset(),o.reset(),a.reset()}}}function YE(e,t,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),f=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(W){}function _(e,t){return v?new OffscreenCanvas(e,t):O_("canvas")}function y(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?A_:Math.floor,o=r(i*e.width),a=r(i*e.height);void 0===m&&(m=_(o,a));const s=n?_(o,a):m;s.width=o,s.height=a;return s.getContext("2d").drawImage(e,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+a+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return R_(e.width)&&R_(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ev&&e.minFilter!==Mv}function S(t){e.generateMipmap(t)}function E(n,r,i,o){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===s)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;if(r===e.RED&&(i===e.FLOAT&&(l=e.R32F),i===e.HALF_FLOAT&&(l=e.R16F),i===e.UNSIGNED_BYTE&&(l=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.R8UI),i===e.UNSIGNED_SHORT&&(l=e.R16UI),i===e.UNSIGNED_INT&&(l=e.R32UI),i===e.BYTE&&(l=e.R8I),i===e.SHORT&&(l=e.R16I),i===e.INT&&(l=e.R32I)),r===e.RG&&(i===e.FLOAT&&(l=e.RG32F),i===e.HALF_FLOAT&&(l=e.RG16F),i===e.UNSIGNED_BYTE&&(l=e.RG8)),r===e.RGBA){const t=a?n_:G_.getTransfer(o);i===e.FLOAT&&(l=e.RGBA32F),i===e.HALF_FLOAT&&(l=e.RGBA16F),i===e.UNSIGNED_BYTE&&(l=t===r_?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)}return l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get("EXT_color_buffer_float"),l}function w(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&e.minFilter!==Ev&&e.minFilter!==Mv?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function C(t){return t===Ev||t===wv||t===Cv?e.NEAREST:e.LINEAR}function M(e){const t=e.target;t.removeEventListener("dispose",M),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=g.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&R(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&f.delete(t)}function T(t){const n=t.target;n.removeEventListener("dispose",T),function(t){const n=t.texture,i=r.get(t),o=r.get(n);void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(i.__webglFramebuffer[r]))for(let t=0;t<i.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(i.__webglFramebuffer[r][t]);else e.deleteFramebuffer(i.__webglFramebuffer[r]);i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[r])}else{if(Array.isArray(i.__webglFramebuffer))for(let t=0;t<i.__webglFramebuffer.length;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]);else e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let s=0,l=n.length;s<l;s++){const t=r.get(n[s]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),a.memory.textures--),r.remove(n[s])}r.remove(n),r.remove(t)}(n)}function R(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete g.get(i)[n.__cacheKey],a.memory.textures--}let A=0;function P(t,i){const o=r.get(t);if(t.isVideoTexture&&function(e){const t=a.render.frame;f.get(e)!==t&&(f.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void O(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+i)}const D={[bv]:e.REPEAT,[xv]:e.CLAMP_TO_EDGE,[Sv]:e.MIRRORED_REPEAT},I={[Ev]:e.NEAREST,[wv]:e.NEAREST_MIPMAP_NEAREST,[Cv]:e.NEAREST_MIPMAP_LINEAR,[Mv]:e.LINEAR,[Tv]:e.LINEAR_MIPMAP_NEAREST,[Rv]:e.LINEAR_MIPMAP_LINEAR},k={[s_]:e.NEVER,[f_]:e.ALWAYS,[l_]:e.LESS,[u_]:e.LEQUAL,[c_]:e.EQUAL,[p_]:e.GEQUAL,[d_]:e.GREATER,[h_]:e.NOTEQUAL};function L(n,o,a){if(a?(e.texParameteri(n,e.TEXTURE_WRAP_S,D[o.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,D[o.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,D[o.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,I[o.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,I[o.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),o.wrapS===xv&&o.wrapT===xv||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C(o.minFilter)),o.minFilter!==Ev&&o.minFilter!==Mv&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,k[o.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const a=t.get("EXT_texture_filter_anisotropic");if(o.magFilter===Ev)return;if(o.minFilter!==Cv&&o.minFilter!==Rv)return;if(o.type===kv&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&o.type===Lv&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function N(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",M));const i=n.source;let o=g.get(i);void 0===o&&(o={},g.set(i,o));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;const i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&R(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return r}function O(t,i,a){let l=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(l=e.TEXTURE_3D);const c=N(t,i),d=i.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+a);const h=r.get(d);if(d.version!==h.__version||!0===c){n.activeTexture(e.TEXTURE0+a);const t=G_.getPrimaries(G_.workingColorSpace),r=i.colorSpace===Qv?null:G_.getPrimaries(i.colorSpace),p=i.colorSpace===Qv||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);const f=function(e){return!s&&(e.wrapS!==xv||e.wrapT!==xv||e.minFilter!==Ev&&e.minFilter!==Mv)}(i)&&!1===b(i.image);let m=y(i.image,f,!1,u);m=V(i,m);const g=b(m)||s,v=o.convert(i.format,i.colorSpace);let _,C=o.convert(i.type),M=E(i.internalFormat,v,C,i.colorSpace,i.isVideoTexture);L(l,i,g);const T=i.mipmaps,R=s&&!0!==i.isVideoTexture,A=void 0===h.__version||!0===c,P=w(i,m,g);if(i.isDepthTexture)M=e.DEPTH_COMPONENT,s?M=i.type===kv?e.DEPTH_COMPONENT32F:i.type===Iv?e.DEPTH_COMPONENT24:i.type===Nv?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===kv&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Fv&&M===e.DEPTH_COMPONENT&&i.type!==Pv&&i.type!==Iv&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Iv,C=o.convert(i.type)),i.format===Uv&&M===e.DEPTH_COMPONENT&&(M=e.DEPTH_STENCIL,i.type!==Nv&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Nv,C=o.convert(i.type))),A&&(R?n.texStorage2D(e.TEXTURE_2D,1,M,m.width,m.height):n.texImage2D(e.TEXTURE_2D,0,M,m.width,m.height,0,v,C,null));else if(i.isDataTexture)if(T.length>0&&g){R&&A&&n.texStorage2D(e.TEXTURE_2D,P,M,T[0].width,T[0].height);for(let t=0,r=T.length;t<r;t++)_=T[t],R?n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,v,C,_.data):n.texImage2D(e.TEXTURE_2D,t,M,_.width,_.height,0,v,C,_.data);i.generateMipmaps=!1}else R?(A&&n.texStorage2D(e.TEXTURE_2D,P,M,m.width,m.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,m.width,m.height,v,C,m.data)):n.texImage2D(e.TEXTURE_2D,0,M,m.width,m.height,0,v,C,m.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){R&&A&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,M,T[0].width,T[0].height,m.depth);for(let t=0,r=T.length;t<r;t++)_=T[t],i.format!==Ov?null!==v?R?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,m.depth,v,_.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,M,_.width,_.height,m.depth,0,_.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):R?n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,_.width,_.height,m.depth,v,C,_.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,M,_.width,_.height,m.depth,0,v,C,_.data)}else{R&&A&&n.texStorage2D(e.TEXTURE_2D,P,M,T[0].width,T[0].height);for(let t=0,r=T.length;t<r;t++)_=T[t],i.format!==Ov?null!==v?R?n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,v,_.data):n.compressedTexImage2D(e.TEXTURE_2D,t,M,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):R?n.texSubImage2D(e.TEXTURE_2D,t,0,0,_.width,_.height,v,C,_.data):n.texImage2D(e.TEXTURE_2D,t,M,_.width,_.height,0,v,C,_.data)}else if(i.isDataArrayTexture)R?(A&&n.texStorage3D(e.TEXTURE_2D_ARRAY,P,M,m.width,m.height,m.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,m.width,m.height,m.depth,v,C,m.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,M,m.width,m.height,m.depth,0,v,C,m.data);else if(i.isData3DTexture)R?(A&&n.texStorage3D(e.TEXTURE_3D,P,M,m.width,m.height,m.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,m.width,m.height,m.depth,v,C,m.data)):n.texImage3D(e.TEXTURE_3D,0,M,m.width,m.height,m.depth,0,v,C,m.data);else if(i.isFramebufferTexture){if(A)if(R)n.texStorage2D(e.TEXTURE_2D,P,M,m.width,m.height);else{let t=m.width,r=m.height;for(let i=0;i<P;i++)n.texImage2D(e.TEXTURE_2D,i,M,t,r,0,v,C,null),t>>=1,r>>=1}}else if(T.length>0&&g){R&&A&&n.texStorage2D(e.TEXTURE_2D,P,M,T[0].width,T[0].height);for(let t=0,r=T.length;t<r;t++)_=T[t],R?n.texSubImage2D(e.TEXTURE_2D,t,0,0,v,C,_):n.texImage2D(e.TEXTURE_2D,t,M,v,C,_);i.generateMipmaps=!1}else R?(A&&n.texStorage2D(e.TEXTURE_2D,P,M,m.width,m.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,v,C,m)):n.texImage2D(e.TEXTURE_2D,0,M,v,C,m);x(i,g)&&S(l),h.__version=d.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function F(t,i,a,s,l,c){const u=o.convert(a.format,a.colorSpace),d=o.convert(a.type),p=E(a.internalFormat,u,d,a.colorSpace);if(!r.get(i).__hasExternalTextures){const t=Math.max(1,i.width>>c),r=Math.max(1,i.height>>c);l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,c,p,t,r,i.depth,0,u,d,null):n.texImage2D(l,c,p,t,r,0,u,d,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),H(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,r.get(a).__webglTexture,0,z(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,r.get(a).__webglTexture,c),n.bindFramebuffer(e.FRAMEBUFFER,null)}function U(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){let i=!0===s?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT16;if(r||H(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===kv?i=e.DEPTH_COMPONENT32F:t.type===Iv&&(i=e.DEPTH_COMPONENT24));const r=z(n);H(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,r,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,r,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=z(n);r&&!1===H(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):H(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const a=t[i],s=o.convert(a.format,a.colorSpace),l=o.convert(a.type),c=E(a.internalFormat,s,l,a.colorSpace),u=z(n);r&&!1===H(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,c,n.width,n.height):H(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function B(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),P(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,a=z(i);if(i.depthTexture.format===Fv)H(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==Uv)throw new Error("Unknown depthTexture format");H(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),U(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),U(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function z(e){return Math.min(d,e.samples)}function H(e){const n=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){const r=e.colorSpace,i=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===v_||r!==$v&&r!==Qv&&(G_.getTransfer(r)===r_?!1===s?!0===t.has("EXT_sRGB")&&i===Ov?(e.format=v_,e.minFilter=Mv,e.generateMipmaps=!1):n=q_.sRGBToLinear(n):i===Ov&&o===Av||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){const e=A;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),A+=1,e},this.resetTextureUnits=function(){A=0},this.setTexture2D=P,this.setTexture2DArray=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?O(o,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?O(o,t,i):n.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?function(t,i,a){if(6!==i.image.length)return;const l=N(t,i),u=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+a);const d=r.get(u);if(u.version!==d.__version||!0===l){n.activeTexture(e.TEXTURE0+a);const t=G_.getPrimaries(G_.workingColorSpace),r=i.colorSpace===Qv?null:G_.getPrimaries(i.colorSpace),h=i.colorSpace===Qv||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const p=i.isCompressedTexture||i.image[0].isCompressedTexture,f=i.image[0]&&i.image[0].isDataTexture,m=[];for(let e=0;e<6;e++)m[e]=p||f?f?i.image[e].image:i.image[e]:y(i.image[e],!1,!0,c),m[e]=V(i,m[e]);const g=m[0],v=b(g)||s,_=o.convert(i.format,i.colorSpace),C=o.convert(i.type),M=E(i.internalFormat,_,C,i.colorSpace),T=s&&!0!==i.isVideoTexture,R=void 0===d.__version||!0===l;let A,P=w(i,g,v);if(L(e.TEXTURE_CUBE_MAP,i,v),p){T&&R&&n.texStorage2D(e.TEXTURE_CUBE_MAP,P,M,g.width,g.height);for(let t=0;t<6;t++){A=m[t].mipmaps;for(let r=0;r<A.length;r++){const o=A[r];i.format!==Ov?null!==_?T?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,o.width,o.height,_,o.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,M,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,o.width,o.height,_,C,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,M,o.width,o.height,0,_,C,o.data)}}}else{A=i.mipmaps,T&&R&&(A.length>0&&P++,n.texStorage2D(e.TEXTURE_CUBE_MAP,P,M,m[0].width,m[0].height));for(let t=0;t<6;t++)if(f){T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m[t].width,m[t].height,_,C,m[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,M,m[t].width,m[t].height,0,_,C,m[t].data);for(let r=0;r<A.length;r++){const i=A[r].image[t].image;T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,_,C,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,M,i.width,i.height,0,_,C,i.data)}}else{T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,_,C,m[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,M,_,C,m[t]);for(let r=0;r<A.length;r++){const i=A[r];T?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,_,C,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,M,_,C,i.image[t])}}}x(i,v)&&S(e.TEXTURE_CUBE_MAP),d.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(a,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){const o=r.get(t);void 0!==n&&F(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&B(t)},this.setupRenderTarget=function(t){const l=t.texture,c=r.get(t),u=r.get(l);t.addEventListener("dispose",T),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,a.memory.textures++);const d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,p=b(t)||s;if(d){c.__webglFramebuffer=[];for(let t=0;t<6;t++)if(s&&l.mipmaps&&l.mipmaps.length>0){c.__webglFramebuffer[t]=[];for(let n=0;n<l.mipmaps.length;n++)c.__webglFramebuffer[t][n]=e.createFramebuffer()}else c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(s&&l.mipmaps&&l.mipmaps.length>0){c.__webglFramebuffer=[];for(let t=0;t<l.mipmaps.length;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else c.__webglFramebuffer=e.createFramebuffer();if(h)if(i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&t.samples>0&&!1===H(t)){const r=h?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);const a=o.convert(i.format,i.colorSpace),s=o.convert(i.type),l=E(i.internalFormat,a,s,i.colorSpace,!0===t.isXRRenderTarget),u=z(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),U(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(d){n.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),L(e.TEXTURE_CUBE_MAP,l,p);for(let n=0;n<6;n++)if(s&&l.mipmaps&&l.mipmaps.length>0)for(let r=0;r<l.mipmaps.length;r++)F(c.__webglFramebuffer[n][r],t,l,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else F(c.__webglFramebuffer[n],t,l,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);x(l,p)&&S(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){const i=t.texture;for(let o=0,a=i.length;o<a;o++){const a=i[o],s=r.get(a);n.bindTexture(e.TEXTURE_2D,s.__webglTexture),L(e.TEXTURE_2D,a,p),F(c.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,0),x(a,p)&&S(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(s?r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(r,u.__webglTexture),L(r,l,p),s&&l.mipmaps&&l.mipmaps.length>0)for(let n=0;n<l.mipmaps.length;n++)F(c.__webglFramebuffer[n],t,l,e.COLOR_ATTACHMENT0,r,n);else F(c.__webglFramebuffer,t,l,e.COLOR_ATTACHMENT0,r,0);x(l,p)&&S(r),n.unbindTexture()}t.depthBuffer&&B(t)},this.updateRenderTargetMipmap=function(t){const i=b(t)||s,o=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let a=0,s=o.length;a<s;a++){const s=o[a];if(x(s,i)){const i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=r.get(s).__webglTexture;n.bindTexture(i,o),S(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(s&&t.samples>0&&!1===H(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,a=t.height;let s=e.COLOR_BUFFER_BIT;const l=[],c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&l.push(c);const h=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===h&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]),!0===h&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[c]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[c])),d){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,o,a,0,0,o,a,s,e.NEAREST),p&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const o=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,o,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=B,this.setupFrameBufferTexture=F,this.useMultisampledRTT=H}function ZE(e,t,n){const r=n.isWebGL2;return{convert:function(n){let i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qv;const a=G_.getTransfer(o);if(n===Av)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===Pv)return e.UNSIGNED_SHORT;if(n===Dv)return e.INT;if(n===Iv)return e.UNSIGNED_INT;if(n===kv)return e.FLOAT;if(n===Lv)return r?e.HALF_FLOAT:(i=t.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(1021===n)return e.ALPHA;if(n===Ov)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===Fv)return e.DEPTH_COMPONENT;if(n===Uv)return e.DEPTH_STENCIL;if(n===v_)return i=t.get("EXT_sRGB"),null!==i?i.SRGB_ALPHA_EXT:null;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(n===Bv||n===zv||n===Hv||n===Vv)if(a===r_){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===Bv)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===zv)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Hv)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Vv)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===Bv)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===zv)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Hv)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Vv)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(35840===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return i=t.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(37492===n)return a===r_?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(37808===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return a===r_?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Wv||36494===n||36495===n){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===Wv)return a===r_?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===Wv)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Nv?r?e.UNSIGNED_INT_24_8:(i=t.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}class QE extends mx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=e}}class JE extends sb{constructor(){super(),this.isGroup=!0,this.type="Group"}}const $E={type:"move"};class ew{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new JE,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new JE,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ay,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ay),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new JE,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ay,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ay),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),r=this._getHandJoint(l,o);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent($E)))}return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new JE;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class tw extends $_{constructor(e,t,n,r,i,o,a,s,l,c){if((c=void 0!==c?c:Fv)!==Fv&&c!==Uv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Fv&&(n=Iv),void 0===n&&c===Uv&&(n=Nv),super(null,r,i,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:Ev,this.minFilter=void 0!==s?s:Ev,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class nw extends b_{constructor(e,t){super();const n=this;let r=null,i=1,o=null,a="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,p=null;const f=t.getContextAttributes();let m=null,g=null;const v=[],_=[],y=new mx;y.layers.enable(1),y.viewport=new ey;const b=new mx;b.layers.enable(2),b.viewport=new ey;const x=[y,b],S=new QE;S.layers.enable(1),S.layers.enable(2);let E=null,w=null;function C(e){const t=_.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||o),n.dispatchEvent({type:e.type,data:e.inputSource}))}function M(){r.removeEventListener("select",C),r.removeEventListener("selectstart",C),r.removeEventListener("selectend",C),r.removeEventListener("squeeze",C),r.removeEventListener("squeezestart",C),r.removeEventListener("squeezeend",C),r.removeEventListener("end",M),r.removeEventListener("inputsourceschange",T);for(let e=0;e<v.length;e++){const t=_[e];null!==t&&(_[e]=null,v[e].disconnect(t))}E=null,w=null,e.setRenderTarget(m),h=null,d=null,u=null,r=null,g=null,I.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function T(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=_.indexOf(n);r>=0&&(_[r]=null,v[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=_.indexOf(n);if(-1===r){for(let e=0;e<v.length;e++){if(e>=_.length){_.push(n),r=e;break}if(null===_[e]){_[e]=n,r=e;break}}if(-1===r)break}const i=v[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new ew,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new ew,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new ew,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(m=e.getRenderTarget(),r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",M),r.addEventListener("inputsourceschange",T),!0!==f.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||f.antialias,alpha:!0,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),g=new ny(h.framebufferWidth,h.framebufferHeight,{format:Ov,type:Av,colorSpace:e.outputColorSpace,stencilBuffer:f.stencil})}else{let n=null,o=null,a=null;f.depth&&(a=f.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=f.stencil?Uv:Fv,o=f.stencil?Nv:Iv);const s={colorFormat:t.RGBA8,depthFormat:a,scaleFactor:i};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),g=new ny(d.textureWidth,d.textureHeight,{format:Ov,type:Av,depthTexture:new tw(d.textureWidth,d.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:f.stencil,colorSpace:e.outputColorSpace,samples:f.antialias?4:0});e.properties.get(g).__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,o=await r.requestReferenceSpace(a),I.setContext(r),I.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const R=new ay,A=new ay;function P(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;S.near=b.near=y.near=e.near,S.far=b.far=y.far=e.far,E===S.near&&w===S.far||(r.updateRenderState({depthNear:S.near,depthFar:S.far}),E=S.near,w=S.far);const t=e.parent,n=S.cameras;P(S,t);for(let r=0;r<n.length;r++)P(n[r],t);2===n.length?function(e,t,n){R.setFromMatrixPosition(t.matrixWorld),A.setFromMatrixPosition(n.matrixWorld);const r=R.distanceTo(A),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],h=a*u,p=a*d,f=r/(-u+d),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=a+f,v=s+f,_=h-m,y=p+(r-m),b=l*s/v*g,x=c*s/v*g;e.projectionMatrix.makePerspective(_,y,b,x,g,v),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(S,y,b):S.projectionMatrix.copy(y.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*E_*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,S,t)},this.getCamera=function(){return S},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)};let D=null;const I=new Tx;I.setAnimationLoop((function(t,r){if(c=r.getViewerPose(l||o),p=r,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==S.cameras.length&&(S.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let o=null;if(null!==h)o=h.getViewport(i);else{const t=u.getViewSubImage(d,i);o=t.viewport,0===r&&(e.setRenderTargetTextures(g,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let a=x[r];void 0===a&&(a=new mx,a.layers.enable(r),a.viewport=new ey,x[r]=a),a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(i.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(o.x,o.y,o.width,o.height),0===r&&(S.matrix.copy(a.matrix),S.matrix.decompose(S.position,S.quaternion,S.scale)),!0===n&&S.cameras.push(a)}}for(let e=0;e<v.length;e++){const t=_[e],n=v[e];null!==t&&void 0!==n&&n.update(t,r,l||o)}D&&D(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),p=null})),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}function rw(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,1===i.side&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),1===i.side&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);const o=t.get(i).envMap;if(o&&(r.envMap.value=o,r.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;const t=!0===e._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*t,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,dx(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,o,a,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));const i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,o,a):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function iw(e,t,n,r){let i={},o={},a=[];const s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t,n){const r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{const e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let h=i[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const r=16;let i=0;for(let o=0,a=t.length;o<a;o++){const e=t[o],a={boundary:0,storage:0},s=Array.isArray(e.value)?e.value:[e.value];for(let t=0,n=s.length;t<n;t++){const e=c(s[t]);a.boundary+=e.boundary,a.storage+=e.storage}if(e.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,o>0){i=n%r;0!==i&&r-i-a.boundary<0&&(n+=r-i,e.__offset=n)}n+=a.storage}i=n%r,i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",u));const p=d.program;r.updateUBOMapping(n,p);const f=t.render.frame;o[n.id]!==f&&(!function(t){const n=i[t.id],r=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,a=r.length;i<a;i++){const t=r[i];if(!0===l(t,i,o)){const n=t.__offset,r=Array.isArray(t.value)?t.value:[t.value];let i=0;for(let o=0;o<r.length;o++){const a=r[o],s=c(a);"number"===typeof a?(t.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,n+i,t.__data)):a.isMatrix3?(t.__data[0]=a.elements[0],t.__data[1]=a.elements[1],t.__data[2]=a.elements[2],t.__data[3]=a.elements[0],t.__data[4]=a.elements[3],t.__data[5]=a.elements[4],t.__data[6]=a.elements[5],t.__data[7]=a.elements[0],t.__data[8]=a.elements[6],t.__data[9]=a.elements[7],t.__data[10]=a.elements[8],t.__data[11]=a.elements[0]):(a.toArray(t.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,n,t.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),o[n.id]=f)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);a=[],i={},o={}}}}class ow{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=F_(),context:n=null,depth:r=!0,stencil:i=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;let d;this.isWebGLRenderer=!0,d=null!==n?n.getContextAttributes().alpha:o;const h=new Uint32Array(4),p=new Int32Array(4);let f=null,m=null;const g=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Jv,this._useLegacyLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const _=this;let y=!1,b=0,x=0,S=null,E=-1,w=null;const C=new ey,M=new ey;let T=null;const R=new Mb(0);let A=0,P=t.width,D=t.height,I=1,k=null,L=null;const N=new ey(0,0,P,D),O=new ey(0,0,P,D);let F=!1;const U=new Mx;let B=!1,z=!1,H=null;const V=new Oy,W=new I_,G=new ay,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function X(){return null===S?I:1}let K,q,Y,Z,Q,J,$,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,he,pe,fe,me,ge,ve=n;function _e(e,n){for(let r=0;r<e.length;r++){const i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{const e={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(Qg)),t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",Se,!1),t.addEventListener("webglcontextcreationerror",Ee,!1),null===ve){const t=["webgl2","webgl","experimental-webgl"];if(!0===_.isWebGL1Renderer&&t.shift(),ve=_e(t,e),null===ve)throw _e(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&ve instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ne){throw console.error("THREE.WebGLRenderer: "+Ne.message),Ne}function ye(){K=new tS(ve),q=new Fx(ve,K,e),K.init(q),fe=new ZE(ve,K,q),Y=new qE(ve,K,q),Z=new iS(ve),Q=new LE,J=new YE(ve,K,Y,Q,q,fe,Z),$=new Bx(_),ee=new eS(_),te=new Rx(ve,q),me=new Nx(ve,K,te,q),ne=new nS(ve,te,Z,me),re=new lS(ve,ne,te,Z),de=new sS(ve,q,J),le=new Ux(Q),ie=new kE(_,$,ee,K,q,me,le),oe=new rw(_,Q),ae=new UE,se=new GE(K,q),ue=new Lx(_,$,ee,Y,re,d,s),ce=new KE(_,re,q),ge=new iw(ve,Z,q,Y),he=new Ox(ve,K,Z,q),pe=new rS(ve,K,Z,q),Z.programs=ie.programs,_.capabilities=q,_.extensions=K,_.properties=Q,_.renderLists=ae,_.shadowMap=ce,_.state=Y,_.info=Z}ye();const be=new nw(_,ve);function xe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const e=Z.autoReset,t=ce.enabled,n=ce.autoUpdate,r=ce.needsUpdate,i=ce.type;ye(),Z.autoReset=e,ce.enabled=t,ce.autoUpdate=n,ce.needsUpdate=r,ce.type=i}function Ee(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function we(e){const t=e.target;t.removeEventListener("dispose",we),function(e){(function(e){const t=Q.get(e).programs;void 0!==t&&(t.forEach((function(e){ie.releaseProgram(e)})),e.isShaderMaterial&&ie.releaseShaderCache(e))})(e),Q.remove(e)}(t)}this.xr=be,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){const e=K.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=K.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(P,D,!1))},this.getSize=function(e){return e.set(P,D)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(P=e,D=n,t.width=Math.floor(e*I),t.height=Math.floor(n*I),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(P*I,D*I).floor()},this.setDrawingBufferSize=function(e,n,r){P=e,D=n,I=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(C)},this.getViewport=function(e){return e.copy(N)},this.setViewport=function(e,t,n,r){e.isVector4?N.set(e.x,e.y,e.z,e.w):N.set(e,t,n,r),Y.viewport(C.copy(N).multiplyScalar(I).floor())},this.getScissor=function(e){return e.copy(O)},this.setScissor=function(e,t,n,r){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,n,r),Y.scissor(M.copy(O).multiplyScalar(I).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){Y.setScissorTest(F=e)},this.setOpaqueSort=function(e){k=e},this.setTransparentSort=function(e){L=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==S){const t=S.texture.format;e=1033===t||1031===t||1029===t}if(e){const e=S.texture.type,t=e===Av||e===Iv||e===Pv||e===Nv||1017===e||1018===e,n=ue.getClearColor(),r=ue.getClearAlpha(),i=n.r,o=n.g,a=n.b;t?(h[0]=i,h[1]=o,h[2]=a,h[3]=r,ve.clearBufferuiv(ve.COLOR,0,h)):(p[0]=i,p[1]=o,p[2]=a,p[3]=r,ve.clearBufferiv(ve.COLOR,0,p))}else n|=ve.COLOR_BUFFER_BIT}e&&(n|=ve.DEPTH_BUFFER_BIT),t&&(n|=ve.STENCIL_BUFFER_BIT),ve.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",Se,!1),t.removeEventListener("webglcontextcreationerror",Ee,!1),ae.dispose(),se.dispose(),Q.dispose(),$.dispose(),ee.dispose(),re.dispose(),me.dispose(),ge.dispose(),ie.dispose(),be.dispose(),be.removeEventListener("sessionstart",Me),be.removeEventListener("sessionend",Te),H&&(H.dispose(),H=null),Re.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=j);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=j);J.resetTextureUnits();const o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===S?_.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:$v,l=(r.isMeshStandardMaterial?ee:$).get(r.envMap||a),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,p=!!n.morphAttributes.color;let f=0;r.toneMapped&&(null!==S&&!0!==S.isXRRenderTarget||(f=_.toneMapping));const g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,y=Q.get(r),b=m.state.lights;if(!0===B&&(!0===z||e!==w)){const t=e===w&&r.id===E;le.setState(r,e,t)}let x=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==b.state.version||y.outputColorSpace!==s||i.isInstancedMesh&&!1===y.instancing?x=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?x=!0:i.isSkinnedMesh||!0!==y.skinning?i.isInstancedMesh&&!0===y.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===y.instancingColor&&null!==i.instanceColor||y.envMap!==l||!0===r.fog&&y.fog!==o?x=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===le.numPlanes&&y.numIntersection===le.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==d||y.morphNormals!==h||y.morphColors!==p||y.toneMapping!==f||!0===q.isWebGL2&&y.morphTargetsCount!==v)&&(x=!0):x=!0:x=!0:x=!0:(x=!0,y.__version=r.version);let C=y.currentProgram;!0===x&&(C=ke(r,t,i));let M=!1,T=!1,R=!1;const A=C.getUniforms(),P=y.uniforms;Y.useProgram(C.program)&&(M=!0,T=!0,R=!0);r.id!==E&&(E=r.id,T=!0);if(M||w!==e){A.setValue(ve,"projectionMatrix",e.projectionMatrix),A.setValue(ve,"viewMatrix",e.matrixWorldInverse);const t=A.map.cameraPosition;void 0!==t&&t.setValue(ve,G.setFromMatrixPosition(e.matrixWorld)),q.logarithmicDepthBuffer&&A.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&A.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),w!==e&&(w=e,T=!0,R=!0)}if(i.isSkinnedMesh){A.setOptional(ve,i,"bindMatrix"),A.setOptional(ve,i,"bindMatrixInverse");const e=i.skeleton;e&&(q.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),A.setValue(ve,"boneTexture",e.boneTexture,J),A.setValue(ve,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const k=n.morphAttributes;(void 0!==k.position||void 0!==k.normal||void 0!==k.color&&!0===q.isWebGL2)&&de.update(i,n,C);(T||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,A.setValue(ve,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(P.envMap.value=l,P.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);T&&(A.setValue(ve,"toneMappingExposure",_.toneMappingExposure),y.needsLights&&(N=R,(L=P).ambientLightColor.needsUpdate=N,L.lightProbe.needsUpdate=N,L.directionalLights.needsUpdate=N,L.directionalLightShadows.needsUpdate=N,L.pointLights.needsUpdate=N,L.pointLightShadows.needsUpdate=N,L.spotLights.needsUpdate=N,L.spotLightShadows.needsUpdate=N,L.rectAreaLights.needsUpdate=N,L.hemisphereLights.needsUpdate=N),o&&!0===r.fog&&oe.refreshFogUniforms(P,o),oe.refreshMaterialUniforms(P,r,I,D,H),hE.upload(ve,y.uniformsList,P,J));var L,N;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(hE.upload(ve,y.uniformsList,P,J),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&A.setValue(ve,"center",i.center);if(A.setValue(ve,"modelViewMatrix",i.modelViewMatrix),A.setValue(ve,"normalMatrix",i.normalMatrix),A.setValue(ve,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(q.isWebGL2){const n=e[t];ge.update(n,C),ge.bind(n,C)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return C}(e,t,n,r,i);Y.setMaterial(r,a);let l=n.index,c=1;if(!0===r.wireframe){if(l=ne.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,p=(u.start+u.count)*c;null!==o&&(h=Math.max(h,o.start*c),p=Math.min(p,(o.start+o.count)*c)),null!==l?(h=Math.max(h,0),p=Math.min(p,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),p=Math.min(p,d.count));const f=p-h;if(f<0||f===1/0)return;let g;me.setup(i,r,s,n,l);let v=he;if(null!==l&&(g=te.get(l),v=pe,v.setIndex(g)),i.isMesh)!0===r.wireframe?(Y.setLineWidth(r.wireframeLinewidth*X()),v.setMode(ve.LINES)):v.setMode(ve.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),Y.setLineWidth(e*X()),i.isLineSegments?v.setMode(ve.LINES):i.isLineLoop?v.setMode(ve.LINE_LOOP):v.setMode(ve.LINE_STRIP)}else i.isPoints?v.setMode(ve.POINTS):i.isSprite&&v.setMode(ve.TRIANGLES);if(i.isInstancedMesh)v.renderInstances(h,f,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(h,f,t)}else v.render(h,f)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,ke(e,t,n),e.side=0,e.needsUpdate=!0,ke(e,t,n),e.side=2):ke(e,t,n)}m=se.get(e),m.init(),v.push(m),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))})),m.setupLights(_._useLegacyLights),e.traverse((function(t){const r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),v.pop(),m=null};let Ce=null;function Me(){Re.stop()}function Te(){Re.start()}const Re=new Tx;function Ae(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)m.pushLight(e),e.castShadow&&m.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||U.intersectsSprite(e)){r&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(V);const t=re.update(e),i=e.material;i.visible&&f.push(e,t,i,n,G.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||U.intersectsObject(e))){const t=re.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),G.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),G.copy(t.boundingSphere.center)),G.applyMatrix4(e.matrixWorld).applyMatrix4(V)),Array.isArray(i)){const r=t.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&f.push(e,t,s,n,G.z,a)}}else i.visible&&f.push(e,t,i,n,G.z,null)}const i=e.children;for(let o=0,a=i.length;o<a;o++)Ae(i[o],t,n,r)}function Pe(e,t,n,r){const i=e.opaque,o=e.transmissive,a=e.transparent;m.setupLightsView(n),!0===B&&le.setGlobalState(_.clippingPlanes,n),o.length>0&&function(e,t,n,r){const i=q.isWebGL2;null===H&&(H=new ny(1,1,{generateMipmaps:!0,type:K.has("EXT_color_buffer_half_float")?Lv:Av,minFilter:Rv,samples:i?4:0}));_.getDrawingBufferSize(W),i?H.setSize(W.x,W.y):H.setSize(A_(W.x),A_(W.y));const o=_.getRenderTarget();_.setRenderTarget(H),_.getClearColor(R),A=_.getClearAlpha(),A<1&&_.setClearColor(16777215,.5);_.clear();const a=_.toneMapping;_.toneMapping=0,De(e,n,r),J.updateMultisampleRenderTarget(H),J.updateRenderTargetMipmap(H);let s=!1;for(let l=0,c=t.length;l<c;l++){const e=t[l],i=e.object,o=e.geometry,a=e.material,c=e.group;if(2===a.side&&i.layers.test(r.layers)){const e=a.side;a.side=1,a.needsUpdate=!0,Ie(i,n,r,o,a,c),a.side=e,a.needsUpdate=!0,s=!0}}!0===s&&(J.updateMultisampleRenderTarget(H),J.updateRenderTargetMipmap(H));_.setRenderTarget(o),_.setClearColor(R,A),_.toneMapping=a}(i,o,t,n),r&&Y.viewport(C.copy(r)),i.length>0&&De(i,t,n),o.length>0&&De(o,t,n),a.length>0&&De(a,t,n),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function De(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;a.layers.test(n.layers)&&Ie(a,t,n,s,l,c)}}function Ie(e,t,n,r,i,o){e.onBeforeRender(_,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(_,t,n,r,e,o),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,_.renderBufferDirect(n,t,r,i,e,o),i.side=0,i.needsUpdate=!0,_.renderBufferDirect(n,t,r,i,e,o),i.side=2):_.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(_,t,n,r,i,o)}function ke(e,t,n){!0!==t.isScene&&(t=j);const r=Q.get(e),i=m.state.lights,o=m.state.shadowsArray,a=i.state.version,s=ie.getParameters(e,i.state,o,t,n),l=ie.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ee:$).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",we),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return Le(e,s),u}else s.uniforms=ie.getUniforms(e),e.onBuild(n,s,_),e.onBeforeCompile(s,_),u=ie.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=le.uniform),Le(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=u.getUniforms(),p=hE.seqWithValue(h.seq,d);return r.currentProgram=u,r.uniformsList=p,u}function Le(e,t){const n=Q.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Re.setAnimationLoop((function(e){Ce&&Ce(e)})),"undefined"!==typeof self&&Re.setContext(self),this.setAnimationLoop=function(e){Ce=e,be.setAnimationLoop(e),null===e?Re.stop():Re.start()},be.addEventListener("sessionstart",Me),be.addEventListener("sessionend",Te),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===y)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(!0===be.cameraAutoUpdate&&be.updateCamera(t),t=be.getCamera()),!0===e.isScene&&e.onBeforeRender(_,e,t,S),m=se.get(e,v.length),m.init(),v.push(m),V.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),U.setFromProjectionMatrix(V),z=this.localClippingEnabled,B=le.init(this.clippingPlanes,z),f=ae.get(e,g.length),f.init(),g.push(f),Ae(e,t,0,_.sortObjects),f.finish(),!0===_.sortObjects&&f.sort(k,L),this.info.render.frame++,!0===B&&le.beginShadows();const n=m.state.shadowsArray;if(ce.render(n,e,t),!0===B&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),ue.render(f,e),m.setupLights(_._useLegacyLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Pe(f,e,r,r.viewport)}}else Pe(f,e,t);null!==S&&(J.updateMultisampleRenderTarget(S),J.updateRenderTargetMipmap(S)),!0===e.isScene&&e.onAfterRender(_,e,t),me.resetDefaultState(),E=-1,w=null,v.pop(),m=v.length>0?v[v.length-1]:null,g.pop(),f=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(e,t,n){Q.get(e.texture).__webglTexture=t,Q.get(e.depthTexture).__webglTexture=n;const r=Q.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===K.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=Q.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;S=e,b=t,x=n;let r=!0,i=null,o=!1,a=!1;if(e){const s=Q.get(e);void 0!==s.__useDefaultFramebuffer?(Y.bindFramebuffer(ve.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?J.setupRenderTarget(e):s.__hasExternalTextures&&J.rebindTextures(e,Q.get(e.texture).__webglTexture,Q.get(e.depthTexture).__webglTexture);const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const c=Q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],o=!0):i=q.isWebGL2&&e.samples>0&&!1===J.useMultisampledRTT(e)?Q.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,C.copy(e.viewport),M.copy(e.scissor),T=e.scissorTest}else C.copy(N).multiplyScalar(I).floor(),M.copy(O).multiplyScalar(I).floor(),T=F;if(Y.bindFramebuffer(ve.FRAMEBUFFER,i)&&q.drawBuffers&&r&&Y.drawBuffers(e,i),Y.viewport(C),Y.scissor(M),Y.setScissorTest(T),o){const r=Q.get(e.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=Q.get(e.texture),i=t||0;ve.framebufferTextureLayer(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}E=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=Q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){Y.bindFramebuffer(ve.FRAMEBUFFER,s);try{const a=e.texture,s=a.format,l=a.type;if(s!==Ov&&fe.convert(s)!==ve.getParameter(ve.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===Lv&&(K.has("EXT_color_buffer_half_float")||q.isWebGL2&&K.has("EXT_color_buffer_float"));if(l!==Av&&fe.convert(l)!==ve.getParameter(ve.IMPLEMENTATION_COLOR_READ_TYPE)&&(l!==kv||!(q.isWebGL2||K.has("OES_texture_float")||K.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ve.readPixels(t,n,r,i,fe.convert(s),fe.convert(l),o)}finally{const e=null!==S?Q.get(S).__webglFramebuffer:null;Y.bindFramebuffer(ve.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);J.setTexture2D(t,0),ve.copyTexSubImage2D(ve.TEXTURE_2D,n,0,0,e.x,e.y,i,o),Y.unbindTexture()},this.copyTextureToTexture=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=t.image.width,o=t.image.height,a=fe.convert(n.format),s=fe.convert(n.type);J.setTexture2D(n,0),ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,n.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?ve.texSubImage2D(ve.TEXTURE_2D,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(ve.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ve.texSubImage2D(ve.TEXTURE_2D,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&ve.generateMipmap(ve.TEXTURE_2D),Y.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(_.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=e.max.x-e.min.x+1,a=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=fe.convert(r.format),c=fe.convert(r.type);let u;if(r.isData3DTexture)J.setTexture3D(r,0),u=ve.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");J.setTexture2DArray(r,0),u=ve.TEXTURE_2D_ARRAY}ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,r.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,r.unpackAlignment);const d=ve.getParameter(ve.UNPACK_ROW_LENGTH),h=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),p=ve.getParameter(ve.UNPACK_SKIP_PIXELS),f=ve.getParameter(ve.UNPACK_SKIP_ROWS),m=ve.getParameter(ve.UNPACK_SKIP_IMAGES),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ve.pixelStorei(ve.UNPACK_ROW_LENGTH,g.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,g.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,e.min.x),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,e.min.y),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?ve.texSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ve.compressedTexSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,g.data)):ve.texSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,c,g),ve.pixelStorei(ve.UNPACK_ROW_LENGTH,d),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,h),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,p),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,f),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,m),0===i&&r.generateMipmaps&&ve.generateMipmap(u),Y.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?J.setTextureCube(e,0):e.isData3DTexture?J.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?J.setTexture2DArray(e,0):J.setTexture2D(e,0),Y.unbindTexture()},this.resetState=function(){b=0,x=0,S=null,Y.reset(),me.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return __}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===e_?"display-p3":"srgb",t.unpackColorSpace=G_.workingColorSpace===t_?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Jv?Zv:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Zv?Jv:$v}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}(class extends ow{}).prototype.isWebGL1Renderer=!0;class aw extends sb{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class sw extends xb{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mb(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const lw=new ay,cw=new ay,uw=new Oy,dw=new Ny,hw=new Ty;class pw extends sb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Vb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new sw;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)lw.fromBufferAttribute(t,e-1),cw.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=lw.distanceTo(cw);e.setAttribute("lineDistance",new Lb(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),hw.copy(n.boundingSphere),hw.applyMatrix4(r),hw.radius+=i,!1===e.ray.intersectsSphere(hw))return;uw.copy(r).invert(),dw.copy(e.ray).applyMatrix4(uw);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new ay,c=new ay,u=new ay,d=new ay,h=this.isLineSegments?2:1,p=n.index,f=n.attributes.position;if(null!==p){for(let n=Math.max(0,o.start),r=Math.min(p.count,o.start+o.count)-1;n<r;n+=h){const r=p.getX(n),i=p.getX(n+1);l.fromBufferAttribute(f,r),c.fromBufferAttribute(f,i);if(dw.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);const o=e.ray.origin.distanceTo(d);o<e.near||o>e.far||t.push({distance:o,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,o.start),r=Math.min(f.count,o.start+o.count)-1;n<r;n+=h){l.fromBufferAttribute(f,n),c.fromBufferAttribute(f,n+1);if(dw.distanceSqToSegment(l,c,d,u)>s)continue;d.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(d);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}const fw=new ay,mw=new ay;class gw extends pw{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)fw.fromBufferAttribute(t,e),mw.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+fw.distanceTo(mw);e.setAttribute("lineDistance",new Lb(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class vw extends Vb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],d=[],h=[];let p=0;const f=[],m=n/2;let g=0;function v(n){const i=p,o=new I_,f=new ay;let v=0;const _=!0===n?e:t,y=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*y,0),d.push(0,y,0),h.push(.5,.5),p++;const b=p;for(let e=0;e<=r;e++){const t=e/r*s+a,n=Math.cos(t),i=Math.sin(t);f.x=_*i,f.y=m*y,f.z=_*n,u.push(f.x,f.y,f.z),d.push(0,y,0),o.x=.5*n+.5,o.y=.5*i*y+.5,h.push(o.x,o.y),p++}for(let e=0;e<r;e++){const t=i+e,r=b+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new ay,v=new ay;let _=0;const y=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,_=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+a,l=Math.sin(i),f=Math.cos(i);v.x=_*l,v.y=-g*n+m,v.z=_*f,u.push(v.x,v.y,v.z),o.set(l,y,f).normalize(),d.push(o.x,o.y,o.z),h.push(t,1-g),c.push(p++)}f.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=f[t][e],r=f[t+1][e],i=f[t+1][e+1],o=f[t][e+1];c.push(n,r,o),c.push(r,i,o),_+=6}l.addGroup(g,_,0),g+=_}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new Lb(u,3)),this.setAttribute("normal",new Lb(d,3)),this.setAttribute("uv",new Lb(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _w extends vw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(e){return new _w(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}const yw=new ay,bw=new ay,xw=new ay,Sw=new yb;class Ew extends Vb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(S_*t),o=e.getIndex(),a=e.getAttribute("position"),s=o?o.count:a.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<s;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=Sw;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),s.fromBufferAttribute(a,l[2]),Sw.getNormal(xw),u[0]="".concat(Math.round(t.x*r),",").concat(Math.round(t.y*r),",").concat(Math.round(t.z*r)),u[1]="".concat(Math.round(n.x*r),",").concat(Math.round(n.y*r),",").concat(Math.round(n.z*r)),u[2]="".concat(Math.round(s.x*r),",").concat(Math.round(s.y*r),",").concat(Math.round(s.z*r)),u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],o=Sw[c[e]],a=Sw[c[t]],s="".concat(n,"_").concat(r),p="".concat(r,"_").concat(n);p in d&&d[p]?(xw.dot(d[p].normal)<=i&&(h.push(o.x,o.y,o.z),h.push(a.x,a.y,a.z)),d[p]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:xw.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];yw.fromBufferAttribute(a,t),bw.fromBufferAttribute(a,n),h.push(yw.x,yw.y,yw.z),h.push(bw.x,bw.y,bw.z)}this.setAttribute("position",new Lb(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ww extends Vb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new ay,d=new ay,h=[],p=[],f=[],m=[];for(let g=0;g<=n;g++){const h=[],v=g/n;let _=0;0===g&&0===o?_=.5/t:g===n&&s===Math.PI&&(_=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(o+v*a),u.y=e*Math.cos(o+v*a),u.z=e*Math.sin(r+s*i)*Math.sin(o+v*a),p.push(u.x,u.y,u.z),d.copy(u).normalize(),f.push(d.x,d.y,d.z),m.push(s+_,1-v),h.push(l++)}c.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],a=c[g+1][e+1];(0!==g||o>0)&&h.push(t,r,a),(g!==n-1||s<Math.PI)&&h.push(r,i,a)}this.setIndex(h),this.setAttribute("position",new Lb(p,3)),this.setAttribute("normal",new Lb(f,3)),this.setAttribute("uv",new Lb(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ww(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Cw extends Vb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],s=[],l=[],c=new ay,u=new ay,d=new ay;for(let h=0;h<=n;h++)for(let o=0;o<=r;o++){const p=o/r*i,f=h/n*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(p),u.y=(e+t*Math.cos(f))*Math.sin(p),u.z=t*Math.sin(f),a.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(o/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,a=(r+1)*h+e;o.push(t,n,a),o.push(n,i,a)}this.setIndex(o),this.setAttribute("position",new Lb(a,3)),this.setAttribute("normal",new Lb(s,3)),this.setAttribute("uv",new Lb(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Mw extends sw{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Tw(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Rw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}class Aw{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Pw extends Aw{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Kv,endingEnd:Kv}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case qv:i=e,a=2*t-n;break;case Yv:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case qv:o=e,s=2*n-t;break;case Yv:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(r-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,_=(-1-h)*m+(1.5+h)*f+.5*p,y=h*m-h*f;for(let b=0;b!==a;++b)i[b]=g*o[c+b]+v*o[l+b]+_*o[s+b]+y*o[u+b];return i}}class Dw extends Aw{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==a;++d)i[d]=o[l+d]*u+o[s+d]*c;return i}}class Iw extends Aw{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class kw{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Tw(t,this.TimeBufferType),this.values=Tw(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Tw(e.times,Array),values:Tw(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Iw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Dw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Pw(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Gv:t=this.InterpolantFactoryMethodDiscrete;break;case jv:t=this.InterpolantFactoryMethodLinear;break;case Xv:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gv;case this.InterpolantFactoryMethodLinear:return jv;case this.InterpolantFactoryMethodSmooth:return Xv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=n.slice(i,o),this.values=this.values.slice(i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==i;a++){const t=n[a];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,t,o),e=!1;break}o=t}if(void 0!==r&&Rw(r))for(let a=0,s=r.length;a!==s;++a){const t=r[a];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Xv,i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}kw.prototype.TimeBufferType=Float32Array,kw.prototype.ValueBufferType=Float32Array,kw.prototype.DefaultInterpolation=jv;class Lw extends kw{}Lw.prototype.ValueTypeName="bool",Lw.prototype.ValueBufferType=Array,Lw.prototype.DefaultInterpolation=Gv,Lw.prototype.InterpolantFactoryMethodLinear=void 0,Lw.prototype.InterpolantFactoryMethodSmooth=void 0;class Nw extends kw{}Nw.prototype.ValueTypeName="color";class Ow extends kw{}Ow.prototype.ValueTypeName="number";class Fw extends Aw{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)oy.slerpFlat(i,0,o,l-a,o,l,s);return i}}class Uw extends kw{InterpolantFactoryMethodLinear(e){return new Fw(this.times,this.values,this.getValueSize(),e)}}Uw.prototype.ValueTypeName="quaternion",Uw.prototype.DefaultInterpolation=jv,Uw.prototype.InterpolantFactoryMethodSmooth=void 0;class Bw extends kw{}Bw.prototype.ValueTypeName="string",Bw.prototype.ValueBufferType=Array,Bw.prototype.DefaultInterpolation=Gv,Bw.prototype.InterpolantFactoryMethodLinear=void 0,Bw.prototype.InterpolantFactoryMethodSmooth=void 0;class zw extends kw{}zw.prototype.ValueTypeName="vector";class Hw{constructor(e,t,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==r.onStart&&r.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Vw=new Hw;class Ww{constructor(e){this.manager=void 0!==e?e:Vw,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ww.DEFAULT_MATERIAL_NAME="__DEFAULT";Error;class Gw extends sb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new Mb(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const jw=new Oy,Xw=new ay,Kw=new ay;class qw{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new I_(512,512),this.map=null,this.mapPass=null,this.matrix=new Oy,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Mx,this._frameExtents=new I_(1,1),this._viewportCount=1,this._viewports=[new ey(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Xw.setFromMatrixPosition(e.matrixWorld),t.position.copy(Xw),Kw.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Kw),t.updateMatrixWorld(),jw.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jw),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(jw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Yw extends qw{constructor(){super(new zx(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Zw extends Gw{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sb.DEFAULT_UP),this.updateMatrix(),this.target=new sb,this.shadow=new Yw}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Qw extends Gw{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}const Jw="\\[\\]\\.:\\/",$w=new RegExp("["+Jw+"]","g"),eC="[^"+Jw+"]",tC="[^"+Jw.replace("\\.","")+"]",nC=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",eC)+/(WCOD+)?/.source.replace("WCOD",tC)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",eC)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",eC)+"$"),rC=["material","materials","bones","map"];class iC{constructor(e,t,n){this.path=t,this.parsedPath=n||iC.parseTrackName(t),this.node=iC.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new iC.Composite(e,t,n):new iC(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace($w,"")}static parseTrackName(e){const t=nC.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==rC.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=iC.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}iC.Composite=class{constructor(e,t,n){const r=n||iC.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},iC.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},iC.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},iC.prototype.GetterByBindingType=[iC.prototype._getValue_direct,iC.prototype._getValue_array,iC.prototype._getValue_arrayElement,iC.prototype._getValue_toArray],iC.prototype.SetterByBindingTypeAndVersioning=[[iC.prototype._setValue_direct,iC.prototype._setValue_direct_setNeedsUpdate,iC.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[iC.prototype._setValue_array,iC.prototype._setValue_array_setNeedsUpdate,iC.prototype._setValue_array_setMatrixWorldNeedsUpdate],[iC.prototype._setValue_arrayElement,iC.prototype._setValue_arrayElement_setNeedsUpdate,iC.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[iC.prototype._setValue_fromArray,iC.prototype._setValue_fromArray_setNeedsUpdate,iC.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);class oC{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Ny(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Ky,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return sC(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(aC),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=e.length;r<i;r++)sC(e[r],this,n,t);return n.sort(aC),n}}function aC(e,t){return e.distance-t.distance}function sC(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)sC(r[e],t,n,!0)}}function lC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new sw({color:r?16739125:t,linewidth:1}),o=new Vb;o.setAttribute("position",e.solidEdges);const a=new gw(o,i);n.add(a);const s=new Mw({color:r?16757632:43775,dashSize:.02,gapSize:.008,linewidth:.5}),l=new Vb;l.setAttribute("position",e.dashedEdges);const c=new gw(l,s);return c.computeLineDistances(),n.add(c),{solidLineSegments:a,dashedLineSegments:c}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qg}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qg);class cC extends Ew{constructor(e){super(e,30),this.solidEdges=void 0,this.dashedEdges=void 0,this.faces=void 0,this.solidEdges=new Db(new Float32Array(0),3),this.dashedEdges=new Db(new Float32Array(0),3),this.faces=[];const t=e.userData.camera;if(!t)return void console.warn("Geometry has no camera information");const n=e.userData.meshGroup;if(!n)return void console.warn("Geometry has no meshGroup information");const r=new JE;cC.DEBUG_SHOW_NORMALS&&n.add(r),this.faces=this.calculateFacesVisibility(e,t,n,r);const i=new Map;for(let l=0;l<e.getIndex().count;l+=3){const t=e.getIndex().getX(l),n=e.getIndex().getX(l+1),r=e.getIndex().getX(l+2),i=new ay(e.getAttribute("position").getX(t),e.getAttribute("position").getY(t),e.getAttribute("position").getZ(t)),a=new ay(e.getAttribute("position").getX(n),e.getAttribute("position").getY(n),e.getAttribute("position").getZ(n)),s=new ay(e.getAttribute("position").getX(r),e.getAttribute("position").getY(r),e.getAttribute("position").getZ(r));o(i,a,l/3),o(a,s,l/3),o(s,i,l/3)}function o(e,t,n){const r=(new ay).addVectors(e,t).multiplyScalar(.5),o="".concat(r.x.toFixed(6),"-").concat(r.y.toFixed(6),"-").concat(r.z.toFixed(6));if(i.has(o)){const e=i.get(o);e.faceIndices.includes(n)||e.faceIndices.push(n)}else i.set(o,{startPoint:e,endPoint:t,faceIndices:[n]})}const a=[],s=[];i.forEach(((e,t)=>{if(!e||0===e.faceIndices.length)return;const n=[e.startPoint.x,e.startPoint.y,e.startPoint.z,e.endPoint.x,e.endPoint.y,e.endPoint.z];if(1===e.faceIndices.length){const t=e.faceIndices[0];this.faces[t].visible?a.push(...n):s.push(...n)}else{const[t,r]=e.faceIndices,i=this.faces[t].visible,o=this.faces[r].visible,l=this.faces[t].normal,c=this.faces[r].normal,u=l.dot(c),d=Math.acos(u)>this.parameters.thresholdAngle*Math.PI/180;i&&o&&d?a.push(...n):i||o||!d?i!==o&&a.push(...n):s.push(...n)}})),this.solidEdges=new Db(new Float32Array(a),3),this.dashedEdges=new Db(new Float32Array(s),3)}calculateFacesVisibility(e,t,n,r){const i=e.getIndex(),o=e.getAttribute("normal"),a=e.getAttribute("position");if(!i||!o||!a)return console.warn("Geometry missing required attributes"),[];const s=[];for(let l=0;l<i.count/3;l++){const e=i.getX(3*l),c=new ay(o.getX(e),o.getY(e),o.getZ(e)).normalize(),u=(new k_).setFromMatrix4(n.matrixWorld),d=c.clone().applyMatrix3(u).normalize(),h=new ay(0,0,-1);t.getWorldDirection(h);const p=d.dot(h)<0;cC.DEBUG_SHOW_NORMALS&&(console.log("meshGroup.matrixWorld: ",n.matrixWorld.elements),console.log("faceIndex: ",l),console.log("faceNormal: ",c),console.log("worldFaceNormal: ",d),console.log("toCamera: ",h),console.log("isVisible: ",p));const f=new ay;for(let t=0;t<3;t++){const e=i.getX(3*l+t);f.add(new ay(a.getX(e),a.getY(e),a.getZ(e)))}if(f.divideScalar(3),cC.DEBUG_SHOW_NORMALS&&r){const e=new pw((new Vb).setFromPoints([f,f.clone().add(c.multiplyScalar(.5))]),new sw({color:this.getNormalColor(c.normalize()),linewidth:2}));r.add(e)}s.push({normal:c,visible:p,vertices:[e,e+1,e+2]})}return s}getNormalColor(e){const t=Math.abs(e.x),n=Math.abs(e.y),r=Math.abs(e.z);return t>.95?16711680:n>.95?65280:r>.95?255:t>.7?16744576:n>.7?8454016:r>.7?8421631:16777215}}cC.DEBUG_SHOW_NORMALS=!1;const uC=ei((e=>{let{width:t,height:n}=e;const i=(0,r.useRef)(null),o=(0,r.useRef)(),a=(0,r.useRef)(),s=(0,r.useRef)(),l=(0,r.useRef)(new Map),c=(0,r.useRef)(),u=(0,r.useRef)(),d=(0,r.useRef)({frustumSize:20,isMouseDown:!1,mouseX:0,mouseY:0,startMouseX:0,startMouseY:0,isDraggingObject:!1,isRotatingObject:!1,isRotatingCamera:!1,rotationAxis:null,dragStartWorldPos:null,dragStartObjectPos:null,dragStartObjectRotation:null,cameraRotationStart:null}),h=(0,r.useRef)(!1),p=(0,r.useRef)(!1),f=(e,r)=>{const i=e=>{e.preventDefault();const i=e.deltaY>0?1:-1;d.current.frustumSize+=.1*i*d.current.frustumSize,d.current.frustumSize=Math.max(1,Math.min(100,d.current.frustumSize));const o=t/n;r.left=-d.current.frustumSize*o/2,r.right=d.current.frustumSize*o/2,r.top=d.current.frustumSize/2,r.bottom=-d.current.frustumSize/2,r.updateProjectionMatrix()},o=t=>{if(d.current.isMouseDown=!0,d.current.mouseX=t.clientX,d.current.mouseY=t.clientY,d.current.startMouseX=t.clientX,d.current.startMouseY=t.clientY,d.current.isDraggingObject=!1,d.current.isRotatingObject=!1,d.current.isRotatingCamera=!1,d.current.rotationAxis=null,d.current.dragStartWorldPos=null,d.current.dragStartObjectPos=null,d.current.dragStartObjectRotation=null,d.current.cameraRotationStart=null,Am.selectedShapeId){const n=c(t);if(n&&n===Am.selectedShapeId){const n=Am.selectedShape;let r=null;if(t.altKey?r="x":t.shiftKey?r="y":t.ctrlKey&&(r="z"),r)((e,t)=>{d.current.isRotatingObject=!0,d.current.rotationAxis=e,a.current&&(a.current.domElement.style.cursor="crosshair"),t&&(d.current.dragStartObjectRotation={x:t.rotation.x,y:t.rotation.y,z:t.rotation.z})})(r,n);else{d.current.isDraggingObject=!0,e.domElement.style.cursor="grabbing";const r=s(t.clientX,t.clientY);r&&n&&(d.current.dragStartWorldPos=r.clone(),d.current.dragStartObjectPos={x:n.position.x,y:n.position.y,z:n.position.z})}}}else if(t.ctrlKey){d.current.isRotatingCamera=!0,e.domElement.style.cursor="move";const t=new ay;r.getWorldDirection(t);const n=Math.atan2(-t.x,-t.z),i=Math.asin(t.y);d.current.cameraRotationStart={azimuth:n,elevation:i}}},s=(t,n)=>{const i=e.domElement.getBoundingClientRect(),o=new I_;o.x=(t-i.left)/i.width*2-1,o.y=-(n-i.top)/i.height*2+1;const a=new oC;a.setFromCamera(o,r);const s=new ay;r.getWorldDirection(s);let l=new ay(0,0,0);Am.selectedShape&&l.set(Am.selectedShape.position.x,Am.selectedShape.position.y,Am.selectedShape.position.z);const c=new Ex;c.setFromNormalAndCoplanarPoint(s,l);const u=new ay;return a.ray.intersectPlane(c,u)?u:null},c=t=>{const n=new oC,i=new I_,o=e.domElement.getBoundingClientRect();i.x=(t.clientX-o.left)/o.width*2-1,i.y=-(t.clientY-o.top)/o.height*2+1,n.setFromCamera(i,r);const a=[],s=new Map;l.current.forEach(((e,t)=>{if(e instanceof JE){const n=e.children.find((e=>e instanceof ax));n&&(a.push(n),s.set(n,t))}}));const c=n.intersectObjects(a,!1);if(c.length>0){const e=c[0].object;return s.get(e)||null}return null},u=e=>{if(!d.current.isMouseDown)return;const i=e.clientX-d.current.mouseX,o=e.clientY-d.current.mouseY;if(d.current.isRotatingObject&&Am.selectedShapeId&&d.current.dragStartObjectRotation&&d.current.rotationAxis){const t=.01,n=(e.clientX-d.current.startMouseX)*t,r=(e.clientY-d.current.startMouseY)*t;let i;switch(d.current.rotationAxis){case"x":i=r;break;case"y":case"z":i=n;break;default:i=0}const o=Tm(Tm({},d.current.dragStartObjectRotation),{},{[d.current.rotationAxis]:d.current.dragStartObjectRotation[d.current.rotationAxis]+i});Am.updateShape(Am.selectedShapeId,{rotation:o})}else if(d.current.isRotatingCamera&&d.current.cameraRotationStart){const t=.005,n=(e.clientX-d.current.startMouseX)*t,i=(e.clientY-d.current.startMouseY)*t,o=d.current.cameraRotationStart.azimuth-n,a=Math.max(-Math.PI/2+.1,Math.min(Math.PI/2-.1,d.current.cameraRotationStart.elevation+i)),s=15,l=s*Math.sin(o)*Math.cos(a),c=s*Math.sin(a),u=s*Math.cos(o)*Math.cos(a);r.position.set(l,c,u),r.lookAt(0,0,0)}else if(d.current.isDraggingObject&&Am.selectedShapeId&&d.current.dragStartWorldPos&&d.current.dragStartObjectPos){const t=s(e.clientX,e.clientY);if(t){const e=new ay;e.subVectors(t,d.current.dragStartWorldPos),Am.updateShape(Am.selectedShapeId,{position:{x:d.current.dragStartObjectPos.x+e.x,y:d.current.dragStartObjectPos.y+e.y,z:d.current.dragStartObjectPos.z+e.z}})}}else if(!d.current.isRotatingCamera){const e=t/n,a=d.current.frustumSize*e,s=d.current.frustumSize,l=i/t*a,c=o/n*s,u=new ay,h=new ay;r.getWorldDirection(u),u.cross(r.up).normalize(),h.crossVectors(u,r.getWorldDirection(new ay)).normalize();const p=new ay;p.addScaledVector(u,-l),p.addScaledVector(h,c),r.position.add(p)}d.current.mouseX=e.clientX,d.current.mouseY=e.clientY},h=t=>{if(d.current.isMouseDown){const e=Math.abs(t.clientX-d.current.mouseX),n=Math.abs(t.clientY-d.current.mouseY);e<5&&n<5&&p(t)}d.current.isMouseDown=!1,d.current.isDraggingObject=!1,d.current.isRotatingObject=!1,d.current.isRotatingCamera=!1,d.current.rotationAxis=null,d.current.dragStartWorldPos=null,d.current.dragStartObjectPos=null,d.current.dragStartObjectRotation=null,d.current.cameraRotationStart=null;const n=c(t);n&&n===Am.selectedShapeId?e.domElement.style.cursor="grab":e.domElement.style.cursor="default"},p=t=>{const n=new oC,i=new I_,o=e.domElement.getBoundingClientRect();i.x=(t.clientX-o.left)/o.width*2-1,i.y=-(t.clientY-o.top)/o.height*2+1,n.setFromCamera(i,r),n.params.Line.threshold=.1;const a=[],s=new Map;l.current.forEach(((e,t)=>{if(e instanceof JE){const n=e.children.find((e=>e instanceof ax));n&&(a.push(n),s.set(n,t))}}));const c=n.intersectObjects(a,!1);if(console.log("\u5c04\u7ebf\u68c0\u6d4b\u7ed3\u679c:",c.length,"\u4e2a\u4ea4\u70b9"),c.forEach(((e,t)=>{console.log("\u4ea4\u70b9 ".concat(t,":"),{distance:e.distance,object:e.object,point:e.point})})),c.length>0){const e=c[0].object,t=s.get(e);if(console.log("\u9009\u4e2d\u7684\u7269\u4f53ID:",t),t){Am.selectShape(t);const e=Am.shapes.find((e=>e.id===t));e&&(u=t,d=e,console.log("[\u9009\u4e2d\u7269\u4f53] ID: ".concat(u,", \u65cb\u8f6c\u503c\uff08\u5f27\u5ea6\uff09:"),{x:d.rotation.x.toFixed(3),y:d.rotation.y.toFixed(3),z:d.rotation.z.toFixed(3)}))}}else console.log("\u6ca1\u6709\u68c0\u6d4b\u5230\u4ea4\u70b9\uff0c\u53d6\u6d88\u9009\u62e9"),Am.selectShape(null),console.log("[\u53d6\u6d88\u9009\u62e9] \u6ca1\u6709\u9009\u4e2d\u4efb\u4f55\u7269\u4f53");var u,d},f=t=>{if(d.current.isMouseDown)return;const n=c(t);n&&n===Am.selectedShapeId?e.domElement.style.cursor="grab":e.domElement.style.cursor="default"},m=e=>{e.preventDefault()};return e.domElement.addEventListener("mousedown",o),e.domElement.addEventListener("mousemove",u),e.domElement.addEventListener("mouseup",h),e.domElement.addEventListener("mouseover",f),e.domElement.addEventListener("wheel",i,{passive:!1}),e.domElement.addEventListener("contextmenu",m),()=>{e.domElement.removeEventListener("mousedown",o),e.domElement.removeEventListener("mousemove",u),e.domElement.removeEventListener("mouseup",h),e.domElement.removeEventListener("mouseover",f),e.domElement.removeEventListener("wheel",i),e.domElement.removeEventListener("contextmenu",m)}},m=e=>{e.position.set(0,0,15),e.lookAt(0,0,0),e.up.set(0,1,0),e.updateMatrix(),e.updateMatrixWorld()};(0,r.useEffect)((()=>{if(!i.current)return;const{scene:e,camera:r,renderer:l}=(()=>{const e=new aw;e.background=new Mb(16777215),o.current=e;const r=t/n;d.current.frustumSize=20;const i=new zx(-d.current.frustumSize*r/2,d.current.frustumSize*r/2,d.current.frustumSize/2,-d.current.frustumSize/2,.1,1e3);i.position.set(0,0,15),i.lookAt(0,0,0),s.current=i;const l=new ow({antialias:!0});l.setSize(t,n),l.shadowMap.enabled=!0,l.shadowMap.type=2,a.current=l;const c=new Qw(4210752,.6);e.add(c);const u=new Zw(16777215,.8);return u.position.set(10,10,5),u.castShadow=!0,e.add(u),{scene:e,camera:i,renderer:l}})();(()=>{const e=new aw;e.background=null,c.current=e;const t=2/1.8,n=new zx(-t,t,t,-t,.1,10);n.position.set(0,0,5),u.current=n;const r=new JE,i=new vw(.02,.02,1,8),o=new Rb({color:16711680}),a=new ax(i,o);a.rotation.z=-Math.PI/2,a.position.x=.5,r.add(a);const s=new _w(.05,.2,8),l=new ax(s,o);l.rotation.z=-Math.PI/2,l.position.x=1.1,r.add(l);const d=new vw(.02,.02,1,8),h=new Rb({color:65280}),p=new ax(d,h);p.position.y=.5,r.add(p);const f=new _w(.05,.2,8),m=new ax(f,h);m.position.y=1.1,r.add(m);const g=new vw(.02,.02,1,8),v=new Rb({color:255}),_=new ax(g,v);_.rotation.x=Math.PI/2,_.position.z=.5,r.add(_);const y=new _w(.05,.2,8),b=new ax(y,v);b.rotation.x=Math.PI/2,b.position.z=1.1,r.add(b),e.add(r)})(),((e,r,i)=>{const o=()=>{if(requestAnimationFrame(o),e.setViewport(0,0,t,n),e.setScissor(0,0,t,n),e.setScissorTest(!1),e.render(r,i),u.current&&i){const e=new ay;i.getWorldDirection(e);const t=new ay;i.getWorldDirection(t),t.crossVectors(i.up,e).normalize();const n=5;u.current.position.copy(e).multiplyScalar(-n),u.current.lookAt(0,0,0),u.current.up.copy(i.up),u.current.updateMatrix(),u.current.updateMatrixWorld()}const a=100;e.setViewport(5,5,a,a),e.setScissor(5,5,a,a),e.setScissorTest(!0),e.autoClear=!1,e.clear(!1,!0,!1),c.current&&u.current&&e.render(c.current,u.current),e.autoClear=!0,e.setScissorTest(!1)};o()})(l,e,r);const h=f(l,r),p=(e=>{const t=t=>{"Escape"!==t.key||Am.selectedShapeId||m(e)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)})(r);return i.current.appendChild(l.domElement),()=>{h(),p(),c.current&&c.current.traverse((e=>{e instanceof ax&&(e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach((e=>e.dispose())):e.material.dispose()))})),i.current&&l.domElement&&i.current.removeChild(l.domElement),l.dispose()}}),[t,n]);const g=(0,r.useCallback)((()=>{if(!o.current||h.current)return;h.current=!0;const e=o.current,t=l.current,n=!1;t.forEach(((n,r)=>{Am.shapes.find((e=>e.id===r))||(n instanceof JE&&(e.remove(n),n.children.forEach((e=>{(e instanceof gw||e instanceof ax)&&(e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach((e=>e.dispose())):e.material.dispose()))}))),t.delete(r),p.current=!0)})),Am.shapes.forEach((r=>{let i=t.get(r.id),o=r.hasChanged;if(i){if(o){const e=i,t=e.position,a=e.rotation,l=e.scale,c=e.visible;if(t.x!==r.position.x||t.y!==r.position.y||t.z!==r.position.z||a.x!==r.rotation.x||a.y!==r.rotation.y||a.z!==r.rotation.z||l.x!==r.scale.x||l.y!==r.scale.y||l.z!==r.scale.z||c!==r.visible){o=!0,p.current=!0,i.position.set(r.position.x,r.position.y,r.position.z),i.rotation.set(r.rotation.x,r.rotation.y,r.rotation.z),i.scale.set(r.scale.x,r.scale.y,r.scale.z),i.visible=r.visible,i.updateMatrix(),i.updateMatrixWorld(!0);const t=e.children.find((e=>e instanceof ax));if(t&&t.geometry){t.geometry.userData.camera=s.current,t.geometry.userData.meshGroup=i,t.geometry.userData.camera.updateMatrix(),t.geometry.userData.camera.updateMatrixWorld(!0);const e=new cC(t.geometry);n;const o=i;o.children.forEach((e=>{(e instanceof gw||e instanceof pw)&&(e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach((e=>e.dispose())):e.material.dispose()),o.remove(e))}));const a=Am.selectedShapeId===r.id;lC(e,r.color,i,a)}}const u=e.children.find((e=>e instanceof gw));if(u instanceof gw){const t=Am.selectedShapeId===r.id;if((u.material instanceof sw?u.material.color.getHex():0)!==(t?16739125:parseInt(r.color.replace("#",""),16))){o=!0,p.current=!0;const n=e.children.find((e=>e instanceof ax));if(n&&n.geometry){const e=new cC(n.geometry),o=i;o.children.forEach((e=>{(e instanceof gw||e instanceof pw)&&(e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach((e=>e.dispose())):e.material.dispose()),o.remove(e))})),lC(e,r.color,i,t)}}}}}else{i=new JE,i.position.set(r.position.x,r.position.y,r.position.z),i.rotation.set(r.rotation.x,r.rotation.y,r.rotation.z),i.scale.set(r.scale.x,r.scale.y,r.scale.z),i.updateMatrix(),i.updateMatrixWorld(!0);const a=(e=>{switch(e){case"sphere":return new ww(1,32,32);case"cube":default:return new lx(1,1,1);case"cylinder":return new vw(1,1,2,32);case"cone":return new _w(1,2,32);case"torus":return new Cw(1,.4,16,100)}})(r.type);a.userData.camera=s.current,a.userData.meshGroup=i,a.userData.camera.updateMatrix(),a.userData.camera.updateMatrixWorld(!0);const l=new cC(a),c=Am.selectedShapeId===r.id;lC(l,r.color,i,c);const u=new Rb({transparent:!0,opacity:0,side:2,vertexColors:!0}),d=new ax(a.clone(),u);n,i.add(d),e.add(i),t.set(r.id,i),o=!0,p.current=!0}})),h.current=!1}),[Am.shapes,Am.selectedShapeId]);return(0,r.useEffect)((()=>{p.current&&(Am.resetChangeFlags(),p.current=!1)}),[Am.shapes,Am.selectedShapeId]),g(),(0,Kg.jsx)("div",{ref:i,style:{width:t,height:n}})}));var dC=Oc((function(e){if(null==e.children)return null;e.block,e.className;var t=e.as,n=void 0===t?"span":t,r=(e.variant,e.nowrap,pi(e,["block","className","as","variant","nowrap"]));return Ic(Nc(e,{root:n}).root,hi({},zl(r,_l)))}),{displayName:"Text",styles:function(e,t){var n=e.as,r=e.className,i=e.block,o=e.nowrap,a=e.variant,s=t.fonts,l=t.semanticColors,c=s[a||"medium"];return{root:[c,{color:c.color||l.bodyText,display:i?"td"===n?"table-cell":"block":"inline",mozOsxFontSmoothing:c.MozOsxFontSmoothing,webkitFontSmoothing:c.WebkitFontSmoothing},o&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},r]}}});var hC,pC,fC,mC,gC;!function(e){e[e.disabled=0]="disabled",e[e.clickable=1]="clickable",e[e.hasDropdown=2]="hasDropdown"}(hC||(hC={})),function(e){e[e.unconstrained=0]="unconstrained",e[e.horizontalConstrained=1]="horizontalConstrained"}(pC||(pC={})),function(e){e[e.outside=0]="outside",e[e.surface=1]="surface",e[e.header=2]="header"}(fC||(fC={})),function(e){e[e.fixedColumns=0]="fixedColumns",e[e.justified=1]="justified"}(mC||(mC={})),function(e){e[e.onHover=0]="onHover",e[e.always=1]="always",e[e.hidden=2]="hidden"}(gC||(gC={}));var vC,_C=function(e){var t=e.count,n=e.indentWidth,i=void 0===n?36:n,o=e.role,a=void 0===o?"presentation":o,s=t*i;return t>0?r.createElement("span",{className:"ms-GroupSpacer",style:{display:"inline-block",width:s},role:a}):null};!function(e){e[e.hidden=0]="hidden",e[e.visible=1]="visible"}(vC||(vC={}));var yC=lu(),bC=r.forwardRef((function(e,t){var n=e.checked,i=void 0!==n&&n,o=e.className,a=e.theme,s=e.styles,l=e.useFastIcons,c=void 0===l||l,u=yC(s,{theme:a,className:o,checked:i}),d=c?Vu:ju;return r.createElement("div",{className:u.root,ref:t},r.createElement(d,{iconName:"CircleRing",className:u.circle}),r.createElement(d,{iconName:"StatusCircleCheckmark",className:u.check}))}));bC.displayName="CheckBase";var xC,SC,EC={root:"ms-Check",circle:"ms-Check-circle",check:"ms-Check-check",checkHost:"ms-Check-checkHost"},wC=nu(bC,(function(e){var t,n,r,i,o,a=e.height,s=void 0===a?e.checkBoxHeight||"18px":a,l=e.checked,c=e.className,u=e.theme,d=u.palette,h=u.semanticColors,p=u.fonts,f=Ac(u),m=ca(EC,u),g={fontSize:s,position:"absolute",left:0,top:0,width:s,height:s,textAlign:"center",display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle"};return{root:[m.root,p.medium,{lineHeight:"1",width:s,height:s,verticalAlign:"top",position:"relative",userSelect:"none",selectors:(t={":before":{content:'""',position:"absolute",top:"1px",right:"1px",bottom:"1px",left:"1px",borderRadius:"50%",opacity:1,background:h.bodyBackground}},t[".".concat(m.checkHost,":hover &, .").concat(m.checkHost,":focus &, &:hover, &:focus")]={opacity:1},t)},l&&["is-checked",{selectors:{":before":{background:d.themePrimary,opacity:1,selectors:(n={},n[ua]={background:"Window"},n)}}}],c],circle:[m.circle,g,{color:d.neutralSecondary,selectors:(r={},r[ua]={color:"WindowText"},r)},l&&{color:d.white}],check:[m.check,g,{opacity:0,color:d.neutralSecondary,fontSize:Yo.medium,left:f?"-0.5px":".5px",top:"-1px",selectors:(i={":hover":{opacity:1}},i[ua]=hi({},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),i)},l&&{opacity:1,color:d.white,fontWeight:900,selectors:(o={},o[ua]={border:"none",color:"WindowText"},o)}],checkHost:m.checkHost}}),void 0,{scope:"Check"},!0),CC={root:"ms-Link"},MC={root:"ms-DetailsRow",compact:"ms-DetailsList--Compact",cell:"ms-DetailsRow-cell",cellAnimation:"ms-DetailsRow-cellAnimation",cellCheck:"ms-DetailsRow-cellCheck",check:"ms-DetailsRow-check",cellMeasurer:"ms-DetailsRow-cellMeasurer",listCellFirstChild:"ms-List-cell:first-child",isContentUnselectable:"is-contentUnselectable",isSelected:"is-selected",isCheckVisible:"is-check-visible",isRowHeader:"is-row-header",fields:"ms-DetailsRow-fields"},TC={cellLeftPadding:12,cellRightPadding:8,cellExtraRightPadding:24},RC={rowHeight:42,compactRowHeight:32},AC=hi(hi({},RC),{rowVerticalPadding:11,compactRowVerticalPadding:6}),PC={tooltipHost:"ms-TooltipHost",root:"ms-DetailsHeader",cell:"ms-DetailsHeader-cell",cellIsCheck:"ms-DetailsHeader-cellIsCheck",collapseButton:"ms-DetailsHeader-collapseButton",isCollapsed:"is-collapsed",isAllSelected:"is-allSelected",isSelectAllHidden:"is-selectAllHidden",isResizingColumn:"is-resizingColumn",cellSizer:"ms-DetailsHeader-cellSizer",isResizing:"is-resizing",dropHintCircleStyle:"ms-DetailsHeader-dropHintCircleStyle",dropHintCaretStyle:"ms-DetailsHeader-dropHintCaretStyle",dropHintLineStyle:"ms-DetailsHeader-dropHintLineStyle",cellTitle:"ms-DetailsHeader-cellTitle",cellName:"ms-DetailsHeader-cellName",filterChevron:"ms-DetailsHeader-filterChevron",gripperBarVertical:"ms-DetailsColumn-gripperBarVertical",checkTooltip:"ms-DetailsHeader-checkTooltip",check:"ms-DetailsHeader-check"},DC=function(e){var t=e.theme,n=e.cellStyleProps,r=void 0===n?TC:n,i=t.semanticColors;return[ca(PC,t).cell,Sa(t),{color:i.bodyText,position:"relative",display:"inline-block",boxSizing:"border-box",padding:"0 ".concat(r.cellRightPadding,"px 0 ").concat(r.cellLeftPadding,"px"),lineHeight:"inherit",margin:"0",height:42,verticalAlign:"top",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left"}]},IC={root:"ms-DetailsRow-check",isDisabled:"ms-DetailsRow-check--isDisabled",isHeader:"ms-DetailsRow-check--isHeader"},kC="change";!function(e){e[e.none=0]="none",e[e.single=1]="single",e[e.multiple=2]="multiple"}(xC||(xC={})),function(e){e[e.horizontal=0]="horizontal",e[e.vertical=1]="vertical"}(SC||(SC={}));var LC=lu(),NC=r.memo((function(e){return r.createElement(wC,{theme:e.theme,checked:e.checked,className:e.className,useFastIcons:!0})}));function OC(e){return r.createElement(wC,{checked:e.checked})}function FC(e){return r.createElement(NC,{theme:e.theme,checked:e.checked})}var UC,BC=nu((function(e){var t=e.isVisible,n=void 0!==t&&t,i=e.canSelect,o=void 0!==i&&i,a=e.anySelected,s=void 0!==a&&a,l=e.selected,c=void 0!==l&&l,u=e.selectionMode,d=e.isHeader,h=void 0!==d&&d,p=e.className,f=(e.checkClassName,e.styles),m=e.theme,g=e.compact,v=e.onRenderDetailsCheckbox,_=e.useFastIcons,y=void 0===_||_,b=pi(e,["isVisible","canSelect","anySelected","selected","selectionMode","isHeader","className","checkClassName","styles","theme","compact","onRenderDetailsCheckbox","useFastIcons"]),x=y?FC:OC,S=v?cd(v,x):x,E=LC(f,{theme:m,canSelect:o,selected:c,anySelected:s,className:p,isHeader:h,isVisible:n,compact:g}),w={checked:c,theme:m},C=Vl("div",b,["aria-label","aria-labelledby","aria-describedby"]),M=u===xC.single?"radio":"checkbox";return o?r.createElement("div",hi({},b,{role:M,className:Js(E.root,E.check),"aria-checked":c,"data-selection-toggle":!0,"data-automationid":"DetailsRowCheck",tabIndex:-1}),S(w)):r.createElement("div",hi({},C,{className:Js(E.root,E.check)}))}),(function(e){var t=e.theme,n=e.className,r=e.isHeader,i=e.selected,o=e.anySelected,a=e.canSelect,s=e.compact,l=e.isVisible,c=ca(IC,t),u=r?42:s?RC.compactRowHeight:RC.rowHeight,d=l||i||o;return{root:[c.root,n],check:[!a&&c.isDisabled,r&&c.isHeader,Sa(t),t.fonts.small,EC.checkHost,{display:"flex",alignItems:"center",justifyContent:"center",cursor:"default",boxSizing:"border-box",verticalAlign:"top",background:"none",backgroundColor:"transparent",border:"none",opacity:d?1:0,height:u,width:48,padding:0,margin:0}],isDisabled:[]}}),void 0,{scope:"DetailsRowCheck"},!0),zC=function(){function e(e){this._selection=e.selection,this._dragEnterCounts={},this._activeTargets={},this._lastId=0,this._initialized=!1}return e.prototype.dispose=function(){this._events&&this._events.dispose()},e.prototype.subscribe=function(e,t,n){var r=this;if(!this._initialized){this._events=new Cu(this);var i=Za();i&&(this._events.on(i.body,"mouseup",this._onMouseUp.bind(this),!0),this._events.on(i,"mouseup",this._onDocumentMouseUp.bind(this),!0)),this._initialized=!0}var o,a,s,l,c,u,d,h,p,f,m=n.key,g=void 0===m?"".concat(++this._lastId):m,v=[];if(n&&e){var _=n.eventMap,y=n.context,b=n.updateDropState,x={root:e,options:n,key:g};if(h=this._isDraggable(x),p=this._isDroppable(x),(h||p)&&_)for(var S=0,E=_;S<E.length;S++){var w=E[S],C={callback:w.callback.bind(null,y),eventName:w.eventName};v.push(C),this._events.on(e,C.eventName,C.callback)}p&&(a=function(e){e.isHandled||(e.isHandled=!0,r._dragEnterCounts[g]--,0===r._dragEnterCounts[g]&&b(!1,e))},s=function(e){e.preventDefault(),e.isHandled||(e.isHandled=!0,r._dragEnterCounts[g]++,1===r._dragEnterCounts[g]&&b(!0,e))},l=function(e){r._dragEnterCounts[g]=0,b(!1,e)},c=function(e){r._dragEnterCounts[g]=0,b(!1,e),n.onDrop&&n.onDrop(n.context.data,e)},u=function(e){e.preventDefault(),n.onDragOver&&n.onDragOver(n.context.data,e)},this._dragEnterCounts[g]=0,t.on(e,"dragenter",s),t.on(e,"dragleave",a),t.on(e,"dragend",l),t.on(e,"drop",c),t.on(e,"dragover",u)),h&&(d=this._onMouseDown.bind(this,x),l=this._onDragEnd.bind(this,x),o=function(t){var i=n;i&&i.onDragStart&&i.onDragStart(i.context.data,i.context.index,r._selection.getSelection(),t),r._isDragging=!0,t.dataTransfer&&t.dataTransfer.setData("id",e.id)},t.on(e,"dragstart",o),t.on(e,"mousedown",d),t.on(e,"dragend",l)),f={target:x,dispose:function(){if(r._activeTargets[g]===f&&delete r._activeTargets[g],e){for(var n=0,i=v;n<i.length;n++){var m=i[n];r._events.off(e,m.eventName,m.callback)}p&&(t.off(e,"dragenter",s),t.off(e,"dragleave",a),t.off(e,"dragend",l),t.off(e,"dragover",u),t.off(e,"drop",c)),h&&(t.off(e,"dragstart",o),t.off(e,"mousedown",d),t.off(e,"dragend",l))}}},this._activeTargets[g]=f}return{key:g,dispose:function(){f&&f.dispose()}}},e.prototype.unsubscribe=function(e,t){var n=this._activeTargets[t];n&&n.dispose()},e.prototype._onDragEnd=function(e,t){var n=e.options;n.onDragEnd&&n.onDragEnd(n.context.data,t)},e.prototype._onMouseUp=function(e){if(this._isDragging=!1,this._dragData){for(var t=0,n=Object.keys(this._activeTargets);t<n.length;t++){var r=n[t],i=this._activeTargets[r];i.target.root&&(this._events.off(i.target.root,"mousemove"),this._events.off(i.target.root,"mouseleave"))}this._dragData.dropTarget&&(Cu.raise(this._dragData.dropTarget.root,"dragleave"),Cu.raise(this._dragData.dropTarget.root,"drop"))}this._dragData=null},e.prototype._onDocumentMouseUp=function(e){var t=Za();t&&e.target===t.documentElement&&this._onMouseUp(e)},e.prototype._onMouseMove=function(e,t){var n=t.buttons,r=void 0===n?1:n;if(this._dragData&&1!==r)this._onMouseUp(t);else{var i=e.root,o=e.key;this._isDragging&&this._isDroppable(e)&&this._dragData&&this._dragData.dropTarget&&this._dragData.dropTarget.key!==o&&!this._isChild(i,this._dragData.dropTarget.root)&&this._dragEnterCounts[this._dragData.dropTarget.key]>0&&(Cu.raise(this._dragData.dropTarget.root,"dragleave"),Cu.raise(i,"dragenter"),this._dragData.dropTarget=e)}},e.prototype._onMouseLeave=function(e,t){this._isDragging&&this._dragData&&this._dragData.dropTarget&&this._dragData.dropTarget.key===e.key&&(Cu.raise(e.root,"dragleave"),this._dragData.dropTarget=void 0)},e.prototype._onMouseDown=function(e,t){if(0===t.button)if(this._isDraggable(e)){this._dragData={clientX:t.clientX,clientY:t.clientY,eventTarget:t.target,dragTarget:e};for(var n=0,r=Object.keys(this._activeTargets);n<r.length;n++){var i=r[n],o=this._activeTargets[i];o.target.root&&(this._events.on(o.target.root,"mousemove",this._onMouseMove.bind(this,o.target)),this._events.on(o.target.root,"mouseleave",this._onMouseLeave.bind(this,o.target)))}}else this._dragData=null},e.prototype._isChild=function(e,t){for(;t&&t.parentElement;){if(t.parentElement===e)return!0;t=t.parentElement}return!1},e.prototype._isDraggable=function(e){var t=e.options;return!(!t.canDrag||!t.canDrag(t.context.data))},e.prototype._isDroppable=function(e){var t=e.options,n=this._dragData&&this._dragData.dragTarget?this._dragData.dragTarget.options.context:void 0;return!(!t.canDrop||!t.canDrop(t.context,n))},e}(),HC=lu(),VC=function(e){return function(t){return t?t.column.isIconOnly?r.createElement("span",{className:e.accessibleLabel},t.column.name):r.createElement(r.Fragment,null,t.column.name):null}},WC=function(e){function t(t){var n=e.call(this,t)||this;return n._root=r.createRef(),n._tooltipRef=r.createRef(),n._onRenderFilterIcon=function(e){return function(e){var t=e.columnProps,n=pi(e,["columnProps"]),i=(null===t||void 0===t?void 0:t.useFastIcons)?Vu:ju;return r.createElement(i,hi({},n))}},n._onRenderColumnHeaderTooltip=function(e){return r.createElement("span",{className:e.hostClassName},e.children)},n._onColumnClick=function(e){var t=n.props,r=t.onColumnClick,i=t.column;i.columnActionsMode!==hC.disabled&&(i.onColumnClick&&i.onColumnClick(e,i),r&&r(e,i))},n._onColumnKeyDown=function(e){var t=n.props,r=t.onColumnKeyDown,i=t.column;i.onColumnKeyDown&&i.onColumnKeyDown(e,i),r&&r(e,i)},n._onColumnBlur=function(){n._tooltipRef.current&&n._tooltipRef.current.dismiss()},n._onColumnFocus=function(){n._tooltipRef.current&&n._tooltipRef.current.show()},n._onDragStart=function(e,t,r,i){var o=n._classNames;t&&(n._updateHeaderDragInfo(t),n._root.current.classList.add(o.borderWhileDragging),n._async.setTimeout((function(){n._root.current&&n._root.current.classList.add(o.noBorderWhileDragging)}),20))},n._onDragEnd=function(e,t){var r=n._classNames;t&&n._updateHeaderDragInfo(-1,t),n._root.current.classList.remove(r.borderWhileDragging),n._root.current.classList.remove(r.noBorderWhileDragging)},n._updateHeaderDragInfo=function(e,t){n.props.setDraggedItemIndex&&n.props.setDraggedItemIndex(e),n.props.updateDragInfo&&n.props.updateDragInfo({itemIndex:e},t)},n._onColumnContextMenu=function(e){var t=n.props,r=t.onColumnContextMenu,i=t.column;i.onColumnContextMenu&&(i.onColumnContextMenu(i,e),e.preventDefault()),r&&(r(i,e),e.preventDefault())},n._onRootMouseDown=function(e){n.props.isDraggable&&0===e.button&&e.stopPropagation()},yu(n),n._async=new wu(n),n._events=new Cu(n),n}return di(t,e),t.prototype.render=function(){var e=this.props,t=e.column,n=e.parentId,i=e.isDraggable,o=e.styles,a=e.theme,s=e.cellStyleProps,l=void 0===s?TC:s,c=e.useFastIcons,u=void 0===c||c,d=this.props.onRenderColumnHeaderTooltip,h=void 0===d?this._onRenderColumnHeaderTooltip:d;this._classNames=HC(o,{theme:a,headerClassName:t.headerClassName,iconClassName:t.iconClassName,isActionable:t.columnActionsMode!==hC.disabled,isEmpty:!t.name,isIconVisible:t.isSorted||t.isGrouped||t.isFiltered,isPadded:t.isPadded,isIconOnly:t.isIconOnly,cellStyleProps:l,transitionDurationDrag:200,transitionDurationDrop:1500});var p=this._classNames,f=u?Vu:ju,m=t.onRenderFilterIcon?cd(t.onRenderFilterIcon,this._onRenderFilterIcon(this._classNames)):this._onRenderFilterIcon(this._classNames),g=t.onRenderHeader?cd(t.onRenderHeader,VC(this._classNames)):VC(this._classNames),v=t.columnActionsMode!==hC.disabled&&(void 0!==t.onColumnClick||void 0!==this.props.onColumnClick),_=this.props.onRenderColumnHeaderTooltip?!t.ariaLabel:this._hasAccessibleDescription(),y={"aria-label":t.ariaLabel?t.ariaLabel:t.isIconOnly?t.name:void 0,"aria-labelledby":t.ariaLabel||t.isIconOnly?void 0:"".concat(n,"-").concat(t.key,"-name"),"aria-describedby":_?"".concat(n,"-").concat(t.key,"-tooltip"):void 0};return r.createElement(r.Fragment,null,r.createElement("div",hi({key:t.key,ref:this._root,role:"columnheader"},!v&&y,{"aria-sort":t.isSorted?t.isSortedDescending?"descending":"ascending":"none","data-is-focusable":v||t.columnActionsMode===hC.disabled?void 0:"true",className:p.root,"data-is-draggable":i,draggable:i,style:{width:(t.calculatedWidth||0)+l.cellLeftPadding+l.cellRightPadding+(t.isPadded?l.cellExtraRightPadding:0)},"data-automationid":"ColumnsHeaderColumn","data-item-key":t.key,onBlur:this._onColumnBlur,onFocus:this._onColumnFocus}),i&&r.createElement(f,{iconName:"GripperBarVertical",className:p.gripperBarVerticalStyle}),h({hostClassName:p.cellTooltip,id:"".concat(n,"-").concat(t.key,"-tooltip"),setAriaDescribedBy:!1,column:t,componentRef:this._tooltipRef,content:t.columnActionsMode!==hC.disabled?t.ariaLabel:"",children:r.createElement("span",hi({id:"".concat(n,"-").concat(t.key),className:p.cellTitle,"data-is-focusable":v&&t.columnActionsMode!==hC.disabled?"true":void 0,role:v?"button":void 0},v&&y,{onContextMenu:this._onColumnContextMenu,onClick:this._onColumnClick,onKeyDown:this._onColumnKeyDown,"aria-haspopup":t.columnActionsMode===hC.hasDropdown?"menu":void 0,"aria-expanded":t.columnActionsMode===hC.hasDropdown?!!t.isMenuOpen:void 0}),r.createElement("span",{id:"".concat(n,"-").concat(t.key,"-name"),className:p.cellName},(t.iconName||t.iconClassName)&&r.createElement(f,{className:p.iconClassName,iconName:t.iconName}),g(this.props)),t.isFiltered&&r.createElement(f,{className:p.nearIcon,iconName:"Filter"}),(t.isSorted||t.showSortIconWhenUnsorted)&&r.createElement(f,{className:p.sortIcon,iconName:t.isSorted?t.isSortedDescending?"SortDown":"SortUp":"Sort"}),t.isGrouped&&r.createElement(f,{className:p.nearIcon,iconName:"GroupedDescending"}),t.columnActionsMode===hC.hasDropdown&&!t.isIconOnly&&m({"aria-hidden":!0,columnProps:this.props,className:p.filterChevron,iconName:"ChevronDown"}))},this._onRenderColumnHeaderTooltip)),this.props.onRenderColumnHeaderTooltip?null:this._renderAccessibleDescription())},t.prototype.componentDidMount=function(){var e=this;this.props.dragDropHelper&&this.props.isDraggable&&this._addDragDropHandling();var t=this._classNames;this.props.isDropped&&(this._root.current&&(this._root.current.classList.add(t.borderAfterDropping),this._async.setTimeout((function(){e._root.current&&e._root.current.classList.add(t.noBorderAfterDropping)}),20)),this._async.setTimeout((function(){e._root.current&&(e._root.current.classList.remove(t.borderAfterDropping),e._root.current.classList.remove(t.noBorderAfterDropping))}),1520))},t.prototype.componentWillUnmount=function(){this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this._async.dispose(),this._events.dispose()},t.prototype.componentDidUpdate=function(){!this._dragDropSubscription&&this.props.dragDropHelper&&this.props.isDraggable&&this._addDragDropHandling(),this._dragDropSubscription&&!this.props.isDraggable&&(this._dragDropSubscription.dispose(),this._events.off(this._root.current,"mousedown"),delete this._dragDropSubscription)},t.prototype._getColumnDragDropOptions=function(){var e=this,t=this.props.columnIndex;return{selectionIndex:t,context:{data:t,index:t},canDrag:function(){return e.props.isDraggable},canDrop:function(){return!1},onDragStart:this._onDragStart,updateDropState:function(){},onDrop:function(){},onDragEnd:this._onDragEnd}},t.prototype._hasAccessibleDescription=function(){var e=this.props.column;return!!(e.filterAriaLabel||e.sortAscendingAriaLabel||e.sortDescendingAriaLabel||e.groupAriaLabel||e.sortableAriaLabel)},t.prototype._renderAccessibleDescription=function(){var e=this.props,t=e.column,n=e.parentId,i=this._classNames;return this._hasAccessibleDescription()&&!this.props.onRenderColumnHeaderTooltip?r.createElement("label",{key:"".concat(t.key,"_label"),id:"".concat(n,"-").concat(t.key,"-tooltip"),className:i.accessibleLabel,hidden:!0},t.isFiltered&&t.filterAriaLabel||null,(t.isSorted||t.showSortIconWhenUnsorted)&&(t.isSorted?t.isSortedDescending?t.sortDescendingAriaLabel:t.sortAscendingAriaLabel:t.sortableAriaLabel)||null,t.isGrouped&&t.groupAriaLabel||null):null},t.prototype._addDragDropHandling=function(){this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getColumnDragDropOptions()),this._events.on(this._root.current,"mousedown",this._onRootMouseDown)},t}(r.Component),GC={isActionable:"is-actionable",cellIsCheck:"ms-DetailsHeader-cellIsCheck",collapseButton:"ms-DetailsHeader-collapseButton",isCollapsed:"is-collapsed",isAllSelected:"is-allSelected",isSelectAllHidden:"is-selectAllHidden",isResizingColumn:"is-resizingColumn",isEmpty:"is-empty",isIconVisible:"is-icon-visible",cellSizer:"ms-DetailsHeader-cellSizer",isResizing:"is-resizing",dropHintCircleStyle:"ms-DetailsHeader-dropHintCircleStyle",dropHintLineStyle:"ms-DetailsHeader-dropHintLineStyle",cellTitle:"ms-DetailsHeader-cellTitle",cellName:"ms-DetailsHeader-cellName",filterChevron:"ms-DetailsHeader-filterChevron",gripperBarVerticalStyle:"ms-DetailsColumn-gripperBar",nearIcon:"ms-DetailsColumn-nearIcon"},jC=nu(WC,(function(e){var t,n=e.theme,r=e.headerClassName,i=e.iconClassName,o=e.isActionable,a=e.isEmpty,s=e.isIconVisible,l=e.isPadded,c=e.isIconOnly,u=e.cellStyleProps,d=void 0===u?TC:u,h=e.transitionDurationDrag,p=e.transitionDurationDrop,f=n.semanticColors,m=n.palette,g=n.fonts,v=ca(GC,n),_={iconForegroundColor:f.bodySubtext,headerForegroundColor:f.bodyText,headerBackgroundColor:f.bodyBackground,dropdownChevronForegroundColor:m.neutralSecondary,resizerColor:m.neutralTertiaryAlt},y={color:_.iconForegroundColor,opacity:1,paddingLeft:8},b={outline:"1px solid ".concat(m.themePrimary)},x={outlineColor:"transparent"};return{root:[DC(e),g.small,o&&[v.isActionable,{selectors:{":hover":{color:f.bodyText,background:f.listHeaderBackgroundHovered},":active":{background:f.listHeaderBackgroundPressed}}}],a&&[v.isEmpty,{textOverflow:"clip"}],s&&v.isIconVisible,l&&{paddingRight:d.cellExtraRightPadding+d.cellRightPadding},{selectors:{':hover i[data-icon-name="GripperBarVertical"]':{display:"block"}}},r],gripperBarVerticalStyle:{display:"none",position:"absolute",textAlign:"left",color:m.neutralTertiary,left:1},nearIcon:[v.nearIcon,y],sortIcon:[y,{paddingLeft:4,position:"relative",top:1}],iconClassName:[{color:_.iconForegroundColor,opacity:1},i],filterChevron:[v.filterChevron,{color:_.dropdownChevronForegroundColor,paddingLeft:6,verticalAlign:"middle",fontSize:g.small.fontSize}],cellTitle:[v.cellTitle,Sa(n),hi({display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"stretch",boxSizing:"border-box",overflow:"hidden",padding:"0 ".concat(d.cellRightPadding,"px 0 ").concat(d.cellLeftPadding,"px")},c?{alignContent:"flex-end",maxHeight:"100%",flexWrap:"wrap-reverse"}:{})],cellName:[v.cellName,{flex:"0 1 auto",overflow:"hidden",textOverflow:"ellipsis",fontWeight:qo.semibold,fontSize:g.medium.fontSize},c&&{selectors:(t={},t[".".concat(v.nearIcon)]={paddingLeft:0},t)}],cellTooltip:{display:"block",position:"absolute",top:0,left:0,bottom:0,right:0},accessibleLabel:Qo,borderWhileDragging:b,noBorderWhileDragging:[x,{transition:"outline ".concat(h,"ms ease")}],borderAfterDropping:b,noBorderAfterDropping:[x,{transition:"outline  ".concat(p,"ms ease")}]}}),void 0,{scope:"DetailsColumn"});!function(e){e[e.none=0]="none",e[e.hidden=1]="hidden",e[e.visible=2]="visible"}(UC||(UC={}));var XC=lu(),KC=[],qC=function(e){function t(t){var n=e.call(this,t)||this;return n._rootElement=r.createRef(),n._rootComponent=r.createRef(),n._draggedColumnIndex=-1,n._dropHintDetails={},n._updateDroppingState=function(e,t){n._draggedColumnIndex>=0&&"drop"!==t.type&&!e&&n._resetDropHints()},n._onDragOver=function(e,t){n._draggedColumnIndex>=0&&(t.stopPropagation(),n._computeDropHintToBeShown(t.clientX))},n._onDrop=function(e,t){var r=n._getColumnReorderProps();if(n._draggedColumnIndex>=0&&t){var i=n._draggedColumnIndex>n._currentDropHintIndex?n._currentDropHintIndex:n._currentDropHintIndex-1,o=n._isValidCurrentDropHintIndex();if(t.stopPropagation(),o)if(n._onDropIndexInfo.sourceIndex=n._draggedColumnIndex,n._onDropIndexInfo.targetIndex=i,r.onColumnDrop){var a={draggedIndex:n._draggedColumnIndex,targetIndex:i};r.onColumnDrop(a)}else r.handleColumnReorder&&r.handleColumnReorder(n._draggedColumnIndex,i)}n._resetDropHints(),n._dropHintDetails={},n._draggedColumnIndex=-1},n._computeColumnIndexOffset=function(e){var t=1;return e&&(t+=1),n.props.groupNestingDepth&&n.props.groupNestingDepth>0&&(t+=1),t},n._updateDragInfo=function(e,t){var r=n._getColumnReorderProps(),i=e.itemIndex;if(i>=0)n._draggedColumnIndex=i-n._computeColumnIndexOffset(!n._isCheckboxColumnHidden()),n._getDropHintPositions(),r.onColumnDragStart&&r.onColumnDragStart(!0);else if(t&&n._draggedColumnIndex>=0&&(n._resetDropHints(),n._draggedColumnIndex=-1,n._dropHintDetails={},r.onColumnDragEnd)){var o=n._isEventOnHeader(t);r.onColumnDragEnd({dropLocation:o},t)}},n._getDropHintPositions=function(){for(var e,t=n.props.columns,r=void 0===t?KC:t,i=n._getColumnReorderProps(),o=0,a=0,s=i.frozenColumnCountFromStart||0,l=i.frozenColumnCountFromEnd||0,c=s;c<r.length-l+1;c++)if(n._rootElement.current){var u=n._rootElement.current.querySelectorAll("#columnDropHint_"+c)[0];if(u)if(c===s)o=u.offsetLeft,a=u.offsetLeft,e=u;else{var d=(u.offsetLeft+o)/2;n._dropHintDetails[c-1]={originX:o,startX:a,endX:d,dropHintElementRef:e},a=d,e=u,o=u.offsetLeft,c===r.length-l&&(n._dropHintDetails[c]={originX:o,startX:a,endX:u.offsetLeft,dropHintElementRef:e})}}},n._computeDropHintToBeShown=function(e){var t=Ac(n.props.theme);if(n._rootElement.current){var r=e-n._rootElement.current.getBoundingClientRect().left,i=n._currentDropHintIndex;if(n._isValidCurrentDropHintIndex()&&YC(t,r,n._dropHintDetails[i].startX,n._dropHintDetails[i].endX))return;var o=n.props.columns,a=void 0===o?KC:o,s=n._getColumnReorderProps(),l=s.frozenColumnCountFromStart||0,c=s.frozenColumnCountFromEnd||0,u=l,d=a.length-c,h=-1;if(ZC(t,r,n._dropHintDetails[u].endX)?h=u:QC(t,r,n._dropHintDetails[d].startX)?h=d:n._isValidCurrentDropHintIndex()&&(n._dropHintDetails[i+1]&&YC(t,r,n._dropHintDetails[i+1].startX,n._dropHintDetails[i+1].endX)?h=i+1:n._dropHintDetails[i-1]&&YC(t,r,n._dropHintDetails[i-1].startX,n._dropHintDetails[i-1].endX)&&(h=i-1)),-1===h)for(var p=l,f=d;p<f;){var m=Math.ceil((f+p)/2);if(YC(t,r,n._dropHintDetails[m].startX,n._dropHintDetails[m].endX)){h=m;break}ZC(t,r,n._dropHintDetails[m].originX)?f=m:QC(t,r,n._dropHintDetails[m].originX)&&(p=m)}h===n._draggedColumnIndex||h===n._draggedColumnIndex+1?n._isValidCurrentDropHintIndex()&&n._resetDropHints():i!==h&&h>=0&&(n._resetDropHints(),n._updateDropHintElement(n._dropHintDetails[h].dropHintElementRef,"inline-block"),n._currentDropHintIndex=h)}},n._renderColumnSizer=function(e){var t,i=e.columnIndex,o=n.props.columns,a=void 0===o?KC:o,s=a[i],l=n.state.columnResizeDetails,c=n._classNames;return s.isResizable?r.createElement("div",{key:"".concat(s.key,"_sizer"),"aria-hidden":!0,role:"button","data-is-focusable":!1,onClick:JC,"data-sizer-index":i,onBlur:n._onSizerBlur,className:Js(c.cellSizer,i<a.length-1?c.cellSizerStart:c.cellSizerEnd,(t={},t[c.cellIsResizing]=l&&l.columnIndex===i,t)),onDoubleClick:n._onSizerDoubleClick.bind(n,i)}):null},n._onRenderColumnHeaderTooltip=function(e){return r.createElement("span",{className:e.hostClassName},e.children)},n._onSelectAllClicked=function(){var e=n.props.selection;e&&e.toggleAllSelected()},n._onRootMouseDown=function(e){var t=e.target.getAttribute("data-sizer-index"),r=Number(t),i=n.props.columns,o=void 0===i?KC:i;null!==t&&0===e.button&&(n.setState({columnResizeDetails:{columnIndex:r,columnMinWidth:o[r].calculatedWidth,originX:e.clientX}}),e.preventDefault(),e.stopPropagation())},n._onRootMouseMove=function(e){var t=n.state,r=t.columnResizeDetails,i=t.isSizing;r&&!i&&e.clientX!==r.originX&&n.setState({isSizing:!0})},n._onRootKeyDown=function(e){var t=n.state,r=t.columnResizeDetails,i=t.isSizing,o=n.props,a=o.columns,s=void 0===a?KC:a,l=o.onColumnResized,c=e.target.getAttribute("data-sizer-index");if(c&&!i){var u=Number(c);if(r){var d=void 0;e.which===ql?(n.setState({columnResizeDetails:void 0}),e.preventDefault(),e.stopPropagation()):e.which===nc?d=Ac(n.props.theme)?1:-1:e.which===ic&&(d=Ac(n.props.theme)?-1:1),d&&(e.shiftKey||(d*=10),n.setState({columnResizeDetails:hi(hi({},r),{columnMinWidth:r.columnMinWidth+d})}),l&&l(s[u],r.columnMinWidth+d,u),e.preventDefault(),e.stopPropagation())}else e.which===ql&&(n.setState({columnResizeDetails:{columnIndex:u,columnMinWidth:s[u].calculatedWidth}}),e.preventDefault(),e.stopPropagation())}},n._onSizerMouseMove=function(e){var t=e.buttons,r=n.props,i=r.onColumnIsSizingChanged,o=r.onColumnResized,a=r.columns,s=void 0===a?KC:a,l=n.state.columnResizeDetails;if(void 0===t||1===t){if(e.clientX!==l.originX&&i&&i(s[l.columnIndex],!0),o){var c=e.clientX-l.originX;Ac(n.props.theme)&&(c=-c),o(s[l.columnIndex],l.columnMinWidth+c,l.columnIndex)}}else n._onSizerMouseUp(e)},n._onSizerBlur=function(e){n.state.columnResizeDetails&&n.setState({columnResizeDetails:void 0,isSizing:!1})},n._onSizerMouseUp=function(e){var t=n.props,r=t.columns,i=void 0===r?KC:r,o=t.onColumnIsSizingChanged,a=n.state.columnResizeDetails;n.setState({columnResizeDetails:void 0,isSizing:!1}),o&&o(i[a.columnIndex],!1)},n._onToggleCollapseAll=function(){var e=n.props.onToggleCollapseAll,t=!n.state.isAllCollapsed;n.setState({isAllCollapsed:t}),e&&e(t)},yu(n),n._events=new Cu(n),n.state={columnResizeDetails:void 0,isAllCollapsed:n.props.isAllCollapsed,isAllSelected:!!n.props.selection&&n.props.selection.isAllSelected()},n._onDropIndexInfo={sourceIndex:-1,targetIndex:-1},n._id=cl("header"),n._currentDropHintIndex=-1,n._dragDropHelper=new zC({selection:{getSelection:function(){}},minimumPixelsForDrag:n.props.minimumPixelsForDrag}),n}return di(t,e),t.prototype.componentDidMount=function(){var e=this.props.selection;this._events.on(e,kC,this._onSelectionChanged),this._rootElement.current&&(this._events.on(this._rootElement.current,"mousedown",this._onRootMouseDown),this._events.on(this._rootElement.current,"keydown",this._onRootKeyDown),this._getColumnReorderProps()&&(this._subscriptionObject=this._dragDropHelper.subscribe(this._rootElement.current,this._events,this._getHeaderDragDropOptions())))},t.prototype.componentDidUpdate=function(e){if(this._getColumnReorderProps()?!this._subscriptionObject&&this._rootElement.current&&(this._subscriptionObject=this._dragDropHelper.subscribe(this._rootElement.current,this._events,this._getHeaderDragDropOptions())):this._subscriptionObject&&(this._subscriptionObject.dispose(),delete this._subscriptionObject),this.props!==e&&this._onDropIndexInfo.sourceIndex>=0&&this._onDropIndexInfo.targetIndex>=0){var t=e.columns,n=void 0===t?KC:t,r=this.props.columns,i=void 0===r?KC:r;n[this._onDropIndexInfo.sourceIndex].key===i[this._onDropIndexInfo.targetIndex].key&&(this._onDropIndexInfo={sourceIndex:-1,targetIndex:-1})}this.props.isAllCollapsed!==e.isAllCollapsed&&this.setState({isAllCollapsed:this.props.isAllCollapsed})},t.prototype.componentWillUnmount=function(){this._subscriptionObject&&(this._subscriptionObject.dispose(),delete this._subscriptionObject),this._dragDropHelper.dispose(),this._events.dispose()},t.prototype.render=function(){var e=this,t=this.props,n=t.columns,i=void 0===n?KC:n,o=t.ariaLabel,a=t.ariaLabelForToggleAllGroupsButton,s=t.ariaLabelForSelectAllCheckbox,l=t.selectAllVisibility,c=t.ariaLabelForSelectionColumn,u=t.indentWidth,d=t.onColumnClick,h=t.onColumnContextMenu,p=t.onRenderColumnHeaderTooltip,f=void 0===p?this._onRenderColumnHeaderTooltip:p,m=t.styles,g=t.selectionMode,v=t.theme,_=t.onRenderDetailsCheckbox,y=t.groupNestingDepth,b=t.useFastIcons,x=t.checkboxVisibility,S=t.className,E=this.state,w=E.isAllSelected,C=E.columnResizeDetails,M=E.isSizing,T=E.isAllCollapsed,R=l!==UC.none,A=l===UC.hidden,P=x===gC.always,D=this._getColumnReorderProps(),I=D&&D.frozenColumnCountFromStart?D.frozenColumnCountFromStart:0,k=D&&D.frozenColumnCountFromEnd?D.frozenColumnCountFromEnd:0;this._classNames=XC(m,{theme:v,isAllSelected:w,isSelectAllHidden:l===UC.hidden,isResizingColumn:!!C&&M,isSizing:M,isAllCollapsed:T,isCheckboxHidden:A,className:S});var L=this._classNames,N=b?Vu:ju,O=y>0,F=O&&this.props.collapseAllVisibility===vC.visible,U=this._computeColumnIndexOffset(R),B=Ac(v);return r.createElement(Kd,{role:"row","aria-label":o,className:L.root,componentRef:this._rootComponent,elementRef:this._rootElement,onMouseMove:this._onRootMouseMove,"data-automationid":"DetailsHeader",direction:ud.horizontal},R?[r.createElement("div",{key:"__checkbox",className:L.cellIsCheck,"aria-labelledby":"".concat(this._id,"-checkTooltip"),onClick:A?void 0:this._onSelectAllClicked,role:"columnheader"},f({hostClassName:L.checkTooltip,id:"".concat(this._id,"-checkTooltip"),setAriaDescribedBy:!1,content:s,children:r.createElement(BC,{id:"".concat(this._id,"-check"),"aria-label":g===xC.multiple?s:c,"data-is-focusable":!A||void 0,isHeader:!0,selected:w,anySelected:!1,canSelect:!A,className:L.check,onRenderDetailsCheckbox:_,useFastIcons:b,isVisible:P})},this._onRenderColumnHeaderTooltip)),this.props.onRenderColumnHeaderTooltip?null:s&&!A?r.createElement("label",{key:"__checkboxLabel",id:"".concat(this._id,"-checkTooltip"),className:L.accessibleLabel,"aria-hidden":!0},s):c&&A?r.createElement("label",{key:"__checkboxLabel",id:"".concat(this._id,"-checkTooltip"),className:L.accessibleLabel,"aria-hidden":!0},c):null]:null,F?r.createElement("div",{className:L.cellIsGroupExpander,onClick:this._onToggleCollapseAll,"data-is-focusable":!0,"aria-label":a,"aria-expanded":!T,role:"columnheader"},r.createElement(N,{className:L.collapseButton,iconName:B?"ChevronLeftMed":"ChevronRightMed"}),r.createElement("span",{className:L.accessibleLabel},a)):O?r.createElement("div",{className:L.cellIsGroupExpander,"data-is-focusable":!1,role:"columnheader"}):null,r.createElement(_C,{indentWidth:u,role:"gridcell",count:y-1}),i.map((function(t,n){var o=!!D&&(n>=I&&n<i.length-k);return[D&&(o||n===i.length-k)&&e._renderDropHint(n),r.createElement(jC,{column:t,styles:t.styles,key:t.key,columnIndex:U+n,parentId:e._id,isDraggable:o,updateDragInfo:e._updateDragInfo,dragDropHelper:e._dragDropHelper,onColumnClick:d,onColumnContextMenu:h,onRenderColumnHeaderTooltip:e.props.onRenderColumnHeaderTooltip,isDropped:e._onDropIndexInfo.targetIndex===n,cellStyleProps:e.props.cellStyleProps,useFastIcons:b}),e._renderColumnDivider(n)]})),D&&0===k&&this._renderDropHint(i.length),M&&r.createElement(Up,null,r.createElement("div",{className:L.sizingOverlay,onMouseMove:this._onSizerMouseMove,onMouseUp:this._onSizerMouseUp})))},t.prototype.focus=function(){var e;return!!(null===(e=this._rootComponent.current)||void 0===e?void 0:e.focus())},t.prototype._getColumnReorderProps=function(){var e=this.props,t=e.columnReorderOptions;return e.columnReorderProps||t&&hi(hi({},t),{onColumnDragEnd:void 0})},t.prototype._getHeaderDragDropOptions=function(){return{selectionIndex:1,context:{data:this,index:0},canDrag:function(){return!1},canDrop:function(){return!0},onDragStart:function(){},updateDropState:this._updateDroppingState,onDrop:this._onDrop,onDragEnd:function(){},onDragOver:this._onDragOver}},t.prototype._isValidCurrentDropHintIndex=function(){return this._currentDropHintIndex>=0},t.prototype._isCheckboxColumnHidden=function(){var e=this.props,t=e.selectionMode,n=e.checkboxVisibility;return t===xC.none||n===gC.hidden},t.prototype._resetDropHints=function(){this._currentDropHintIndex>=0&&(this._updateDropHintElement(this._dropHintDetails[this._currentDropHintIndex].dropHintElementRef,"none"),this._currentDropHintIndex=-1)},t.prototype._updateDropHintElement=function(e,t){e.childNodes[1].style.display=t,e.childNodes[0].style.display=t},t.prototype._isEventOnHeader=function(e){if(this._rootElement.current){var t=this._rootElement.current.getBoundingClientRect();if(e.clientX>t.left&&e.clientX<t.right&&e.clientY>t.top&&e.clientY<t.bottom)return fC.header}},t.prototype._renderColumnDivider=function(e){var t=this.props.columns,n=(void 0===t?KC:t)[e],r=n.onRenderDivider;return r?r({column:n,columnIndex:e},this._renderColumnSizer):this._renderColumnSizer({column:n,columnIndex:e})},t.prototype._renderDropHint=function(e){var t=this._classNames,n=this.props.useFastIcons?Vu:ju;return r.createElement("div",{key:"dropHintKey",className:t.dropHintStyle,id:"columnDropHint_".concat(e),"aria-hidden":!0},r.createElement("div",{role:"presentation",key:"dropHintCircleKey",className:t.dropHintCaretStyle,"data-is-focusable":!1,"data-sizer-index":e,"aria-hidden":!0},r.createElement(n,{iconName:"CircleShapeSolid"})),r.createElement("div",{key:"dropHintLineKey","aria-hidden":!0,"data-is-focusable":!1,"data-sizer-index":e,className:t.dropHintLineStyle}))},t.prototype._onSizerDoubleClick=function(e,t){var n=this.props,r=n.onColumnAutoResized,i=n.columns;r&&r((void 0===i?KC:i)[e],e)},t.prototype._onSelectionChanged=function(){var e=!!this.props.selection&&this.props.selection.isAllSelected();this.state.isAllSelected!==e&&this.setState({isAllSelected:e})},t.defaultProps={selectAllVisibility:UC.visible,collapseAllVisibility:vC.visible,useFastIcons:!0},t}(r.Component);function YC(e,t,n,r){return e?t<=n&&t>=r:t>=n&&t<=r}function ZC(e,t,n){return e?t>=n:t<=n}function QC(e,t,n){return e?t<=n:t>=n}function JC(e){e.stopPropagation()}var $C=nu(qC,(function(e){var t,n,r,i,o=e.theme,a=e.className,s=e.isAllSelected,l=e.isResizingColumn,c=e.isSizing,u=e.isAllCollapsed,d=e.cellStyleProps,h=void 0===d?TC:d,p=o.semanticColors,f=o.palette,m=o.fonts,g=ca(PC,o),v={iconForegroundColor:p.bodySubtext,headerForegroundColor:p.bodyText,headerBackgroundColor:p.bodyBackground,resizerColor:f.neutralTertiaryAlt},_={opacity:1,transition:"opacity 0.3s linear"},y=DC(e);return{root:[g.root,m.small,{display:"inline-block",background:v.headerBackgroundColor,position:"relative",minWidth:"100%",verticalAlign:"top",height:42,lineHeight:42,whiteSpace:"nowrap",boxSizing:"content-box",paddingBottom:"1px",paddingTop:"16px",borderBottom:"1px solid ".concat(p.bodyDivider),cursor:"default",userSelect:"none",selectors:(t={},t["&:hover .".concat(g.check)]={opacity:1},t["& .".concat(g.tooltipHost," .").concat(g.checkTooltip)]={display:"block"},t)},s&&g.isAllSelected,l&&g.isResizingColumn,a],check:[g.check,{height:42},{selectors:(n={},n[".".concat(_a," &:focus, :host(.").concat(_a,") &:focus")]={opacity:1},n)}],cellWrapperPadded:{paddingRight:h.cellExtraRightPadding+h.cellRightPadding},cellIsCheck:[y,g.cellIsCheck,{position:"relative",padding:0,margin:0,display:"inline-flex",alignItems:"center",border:"none"},s&&{opacity:1}],cellIsGroupExpander:[y,{display:"inline-flex",alignItems:"center",justifyContent:"center",fontSize:m.small.fontSize,padding:0,border:"none",width:36,color:f.neutralSecondary,selectors:{":hover":{backgroundColor:f.neutralLighter},":active":{backgroundColor:f.neutralLight}}}],cellIsActionable:{selectors:{":hover":{color:p.bodyText,background:p.listHeaderBackgroundHovered},":active":{background:p.listHeaderBackgroundPressed}}},cellIsEmpty:{textOverflow:"clip"},cellSizer:[g.cellSizer,{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}},{display:"inline-block",position:"relative",cursor:"ew-resize",bottom:0,top:0,overflow:"hidden",height:"inherit",background:"transparent",zIndex:1,width:16,selectors:(r={":after":{content:'""',position:"absolute",top:0,bottom:0,width:1,background:v.resizerColor,opacity:0,left:"50%"},":focus:after":_,":hover:after":_},r["&.".concat(g.isResizing,":after")]=[_,{boxShadow:"0 0 5px 0 rgba(0, 0, 0, 0.4)"}],r)}],cellIsResizing:g.isResizing,cellSizerStart:{margin:"0 -8px"},cellSizerEnd:{margin:0,marginLeft:-16},collapseButton:[g.collapseButton,{transformOrigin:"50% 50%",transition:"transform .1s linear"},u?[g.isCollapsed,{transform:"rotate(0deg)"}]:{transform:Ac(o)?"rotate(-90deg)":"rotate(90deg)"}],checkTooltip:g.checkTooltip,sizingOverlay:c&&{position:"absolute",left:0,top:0,right:0,bottom:0,cursor:"ew-resize",background:"rgba(255, 255, 255, 0)",selectors:(i={},i[ua]=hi({background:"transparent"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),i)},accessibleLabel:Qo,dropHintCircleStyle:[g.dropHintCircleStyle,{display:"inline-block",visibility:"hidden",position:"absolute",bottom:0,height:9,width:9,borderRadius:"50%",marginLeft:-5,top:34,overflow:"visible",zIndex:10,border:"1px solid ".concat(f.themePrimary),background:f.white}],dropHintCaretStyle:[g.dropHintCaretStyle,{display:"none",position:"absolute",top:-28,left:-6.5,fontSize:m.medium.fontSize,color:f.themePrimary,overflow:"visible",zIndex:10}],dropHintLineStyle:[g.dropHintLineStyle,{display:"none",position:"absolute",bottom:0,top:0,overflow:"hidden",height:42,width:1,background:f.themePrimary,zIndex:10}],dropHintStyle:{display:"inline-block",position:"absolute"}}}),void 0,{scope:"DetailsHeader"}),eM=function(e){var t=e.columns,n=e.rowClassNames,i=e.cellStyleProps,o=void 0===i?TC:i,a=e.item,s=e.itemIndex,l=e.isSelected,c=e.onRenderItemColumn,u=e.getCellValueKey,d=e.onRenderField,h=e.cellsByColumn,p=e.enableUpdateAnimations,f=e.rowHeaderId,m=r.useRef(),g=m.current||(m.current={}),v=r.useCallback((function(e){var t=e.column,i=e.cellValueKey,a=e.className,s=e.onRender,l=e.item,c=e.itemIndex,u="undefined"===typeof t.calculatedWidth?"auto":t.calculatedWidth+o.cellLeftPadding+o.cellRightPadding+(t.isPadded?o.cellExtraRightPadding:0),d="".concat(t.key).concat(void 0!==i?"-".concat(i):"");return r.createElement("div",{key:d,id:t.isRowHeader?f:void 0,role:t.isRowHeader?"rowheader":"gridcell",className:Js(t.className,t.isMultiline&&n.isMultiline,t.isRowHeader&&n.isRowHeader,n.cell,t.isPadded?n.cellPadded:n.cellUnpadded,a),style:{width:u},"data-automationid":"DetailsRowCell","data-automation-key":t.key},s(l,c,t))}),[n,o,f]);return r.createElement("div",{className:n.fields,"data-automationid":"DetailsRowFields",role:"presentation"},t.map((function(e){var t=e.getValueKey,r=void 0===t?u:t,i=h&&e.key in h&&function(){return h[e.key]}||e.onRender||c||tM,o=v;e.onRenderField&&(o=cd(e.onRenderField,o)),d&&(o=cd(d,o));var f=g[e.key],m=p&&r?r(a,s,e):void 0,_=!1;return void 0!==m&&void 0!==f&&m!==f&&(_=!0),g[e.key]=m,o({item:a,itemIndex:s,isSelected:l,column:e,cellValueKey:m,className:_?n.cellAnimation:void 0,onRender:i})})))};function tM(e,t,n){return e&&n?function(e,t){var n=e&&t&&t.fieldName?e[t.fieldName]:"";return null!==n&&void 0!==n||(n=""),"boolean"===typeof n?n.toString():n}(e,n):null}var nM=lu(),rM=[],iM=function(e){function t(t){var n=e.call(this,t)||this;return n._root=r.createRef(),n._cellMeasurer=r.createRef(),n._focusZone=r.createRef(),n._onSelectionChanged=function(){var e=oM(n.props);Wl(e,n.state.selectionState)||n.setState({selectionState:e})},n._updateDroppingState=function(e,t){var r=n.state.isDropping,i=n.props,o=i.dragDropEvents,a=i.item;e?o.onDragEnter&&(n._droppingClassNames=o.onDragEnter(a,t)):o.onDragLeave&&o.onDragLeave(a,t),r!==e&&n.setState({isDropping:e})},yu(n),n._events=new Cu(n),n.state={selectionState:oM(t),columnMeasureInfo:void 0,isDropping:!1},n._droppingClassNames="",n}return di(t,e),t.getDerivedStateFromProps=function(e,t){return hi(hi({},t),{selectionState:oM(e)})},t.prototype.componentDidMount=function(){var e=this.props,t=e.dragDropHelper,n=e.selection,r=e.item,i=e.onDidMount;t&&this._root.current&&(this._dragDropSubscription=t.subscribe(this._root.current,this._events,this._getRowDragDropOptions())),n&&this._events.on(n,kC,this._onSelectionChanged),i&&r&&(this._onDidMountCalled=!0,i(this))},t.prototype.componentDidUpdate=function(e){var t=this.state,n=this.props,r=n.item,i=n.onDidMount,o=t.columnMeasureInfo;if(this.props.itemIndex===e.itemIndex&&this.props.item===e.item&&this.props.dragDropHelper===e.dragDropHelper||(this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&this._root.current&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getRowDragDropOptions()))),o&&o.index>=0&&this._cellMeasurer.current){var a=this._cellMeasurer.current.getBoundingClientRect().width;o.onMeasureDone(a),this.setState({columnMeasureInfo:void 0})}r&&i&&!this._onDidMountCalled&&(this._onDidMountCalled=!0,i(this))},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.item,n=e.onWillUnmount;n&&t&&n(this),this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this._events.dispose()},t.prototype.shouldComponentUpdate=function(e,t){if(this.props.useReducedRowRenderer){var n=oM(e);return this.state.selectionState.isSelected!==n.isSelected||!Wl(this.props,e)}return!0},t.prototype.render=function(){var e,t=this.props,n=t.className,i=t.columns,o=void 0===i?rM:i,a=t.dragDropEvents,s=t.item,l=t.itemIndex,c=t.id,u=t.flatIndexOffset,d=void 0===u?2:u,h=t.onRenderCheck,p=void 0===h?this._onRenderCheck:h,f=t.onRenderDetailsCheckbox,m=t.onRenderItemColumn,g=t.onRenderField,v=t.getCellValueKey,_=t.selectionMode,y=t.checkboxVisibility,b=t.getRowAriaLabel,x=t.getRowAriaDescription,S=t.getRowAriaDescribedBy,E=t.isGridRow,w=t.checkButtonAriaLabel,C=t.checkboxCellClassName,M=t.rowFieldsAs,T=t.selection,R=t.indentWidth,A=t.enableUpdateAnimations,P=t.compact,D=t.theme,I=t.styles,k=t.cellsByColumn,L=t.groupNestingDepth,N=t.useFastIcons,O=void 0===N||N,F=t.cellStyleProps,U=t.group,B=t.focusZoneProps,z=t.disabled,H=void 0!==z&&z,V=this.state,W=V.columnMeasureInfo,G=V.isDropping,j=this.state.selectionState,X=j.isSelected,K=void 0!==X&&X,q=j.isSelectionModal,Y=void 0!==q&&q,Z=a?!(!a.canDrag||!a.canDrag(s)):void 0,Q=G?this._droppingClassNames||"is-dropping":"",J=b?b(s):void 0,$=x?x(s):void 0,ee=S?S(s):void 0,te=!!T&&T.canSelectItem(s,l)&&!H,ne=_===xC.multiple,re=_!==xC.none&&y!==gC.hidden,ie=_===xC.none?void 0:K,oe=U?l-U.startIndex+1:void 0,ae=U?U.count:void 0,se=B?B.direction:ud.horizontal;this._classNames=hi(hi({},this._classNames),nM(I,{theme:D,isSelected:K,canSelect:!ne,anySelected:Y,checkboxCellClassName:C,droppingClassName:Q,className:n,compact:P,enableUpdateAnimations:A,cellStyleProps:F,disabled:H}));var le={isMultiline:this._classNames.isMultiline,isRowHeader:this._classNames.isRowHeader,cell:this._classNames.cell,cellAnimation:this._classNames.cellAnimation,cellPadded:this._classNames.cellPadded,cellUnpadded:this._classNames.cellUnpadded,fields:this._classNames.fields};Wl(this._rowClassNames||{},le)||(this._rowClassNames=le);var ce=M?$d(M,eM):eM,ue=r.createElement(ce,{rowClassNames:this._rowClassNames,rowHeaderId:"".concat(c,"-header"),cellsByColumn:k,columns:o,item:s,itemIndex:l,isSelected:K,columnStartIndex:(re?1:0)+(L?1:0),onRenderItemColumn:m,onRenderField:g,getCellValueKey:v,enableUpdateAnimations:A,cellStyleProps:F}),de=this.props.role?this.props.role:"row";this._ariaRowDescriptionId=cl("DetailsRow-description");var he=o.some((function(e){return!!e.isRowHeader})),pe="".concat(c,"-checkbox")+(he?" ".concat(c,"-header"):""),fe=E?{}:{"aria-level":L&&L+1||void 0,"aria-posinset":oe,"aria-setsize":ae};return r.createElement(Kd,hi({"data-is-focusable":!0},zl(this.props,Bl),"boolean"===typeof Z?{"data-is-draggable":Z,draggable:Z}:{},B,fe,{direction:se,elementRef:this._root,componentRef:this._focusZone,role:de,"aria-label":J,"aria-disabled":H||void 0,"aria-describedby":$?this._ariaRowDescriptionId:ee,className:this._classNames.root,"data-selection-index":l,"data-selection-touch-invoke":!0,"data-selection-disabled":null!==(e=this.props["data-selection-disabled"])&&void 0!==e?e:H||void 0,"data-item-index":l,"aria-rowindex":void 0===oe?l+d:void 0,"data-automationid":"DetailsRow","aria-selected":ie,allowFocusRoot:!0}),$?r.createElement("span",{key:"description",role:"presentation",hidden:!0,id:this._ariaRowDescriptionId},$):null,re&&r.createElement("div",{role:"gridcell","data-selection-toggle":!0,className:this._classNames.checkCell},p({id:c?"".concat(c,"-checkbox"):void 0,selected:K,selectionMode:_,anySelected:Y,"aria-label":w,"aria-labelledby":c?pe:void 0,canSelect:te,compact:P,className:this._classNames.check,theme:D,isVisible:y===gC.always,onRenderDetailsCheckbox:f,useFastIcons:O})),r.createElement(_C,{indentWidth:R,role:"gridcell",count:0===L?-1:L}),s&&ue,W&&r.createElement("span",{role:"presentation",className:Js(this._classNames.cellMeasurer,this._classNames.cell),ref:this._cellMeasurer},r.createElement(ce,{rowClassNames:this._rowClassNames,rowHeaderId:"".concat(c,"-header"),columns:[W.column],item:s,itemIndex:l,columnStartIndex:(re?1:0)+(L?1:0)+o.length,onRenderItemColumn:m,getCellValueKey:v})))},t.prototype.measureCell=function(e,t){var n=this.props.columns,r=hi({},(void 0===n?rM:n)[e]);r.minWidth=0,r.maxWidth=999999,delete r.calculatedWidth,this.setState({columnMeasureInfo:{index:e,column:r,onMeasureDone:t}})},t.prototype.focus=function(e){var t;return void 0===e&&(e=!1),!!(null===(t=this._focusZone.current)||void 0===t?void 0:t.focus(e))},t.prototype._onRenderCheck=function(e){return r.createElement(BC,hi({},e))},t.prototype._getRowDragDropOptions=function(){var e=this.props,t=e.item,n=e.itemIndex,r=e.dragDropEvents;return{eventMap:e.eventsToRegister,selectionIndex:n,context:{data:t,index:n},canDrag:r.canDrag,canDrop:r.canDrop,onDragStart:r.onDragStart,updateDropState:this._updateDroppingState,onDrop:r.onDrop,onDragEnd:r.onDragEnd,onDragOver:r.onDragOver}},t}(r.Component);function oM(e){var t,n=e.itemIndex,r=e.selection;return{isSelected:!!(null===r||void 0===r?void 0:r.isIndexSelected(n)),isSelectionModal:!!(null===(t=null===r||void 0===r?void 0:r.isModal)||void 0===t?void 0:t.call(r))}}var aM=nu(iM,(function(e){var t,n,r,i,o,a,s,l,c,u,d,h,p,f,m=e.theme,g=e.isSelected,v=e.canSelect,_=e.droppingClassName,y=e.isCheckVisible,b=e.checkboxCellClassName,x=e.compact,S=e.className,E=e.cellStyleProps,w=void 0===E?TC:E,C=e.enableUpdateAnimations,M=e.disabled,T=m.palette,R=m.fonts,A=T.neutralPrimary,P=T.white,D=T.neutralSecondary,I=T.neutralLighter,k=T.neutralLight,L=T.neutralDark,N=T.neutralQuaternaryAlt,O=m.semanticColors,F=O.focusBorder,U=O.linkHovered,B=ca(MC,m),z={defaultHeaderText:A,defaultMetaText:D,defaultBackground:P,defaultHoverHeaderText:L,defaultHoverMetaText:A,defaultHoverBackground:I,selectedHeaderText:L,selectedMetaText:A,selectedBackground:k,selectedHoverHeaderText:L,selectedHoverMetaText:A,selectedHoverBackground:N,focusHeaderText:L,focusMetaText:A,focusBackground:k,focusHoverBackground:N},H=[Sa(m,{inset:-1,borderColor:F,outlineColor:P,highContrastStyle:{top:2,right:2,bottom:2,left:2},pointerEvents:"none"}),B.isSelected,{color:z.selectedMetaText,background:z.selectedBackground,borderBottom:"1px solid ".concat(P),selectors:(t={"&:before":{position:"absolute",display:"block",top:-1,height:1,bottom:0,left:0,right:0,content:"",borderTop:"1px solid ".concat(P)}},t[".".concat(B.cell," > .").concat(CC.root)]={color:U,selectors:(n={},n[ua]={color:"HighlightText"},n)},t["&:hover"]={background:z.selectedHoverBackground,color:z.selectedHoverMetaText,selectors:(r={},r[ua]={background:"Highlight",selectors:(i={},i[".".concat(B.cell)]={color:"HighlightText"},i[".".concat(B.cell," > .").concat(CC.root)]={forcedColorAdjust:"none",color:"HighlightText"},i)},r[".".concat(B.isRowHeader)]={color:z.selectedHoverHeaderText,selectors:(o={},o[ua]={color:"HighlightText"},o)},r)},t["&:focus"]={background:z.focusBackground,selectors:(a={},a[".".concat(B.cell)]={color:z.focusMetaText,selectors:(s={},s[ua]={color:"HighlightText",selectors:{"> a":{color:"HighlightText"}}},s)},a[".".concat(B.isRowHeader)]={color:z.focusHeaderText,selectors:(l={},l[ua]={color:"HighlightText"},l)},a[ua]={background:"Highlight"},a)},t[ua]=hi(hi({background:"Highlight",color:"HighlightText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),{selectors:{a:{color:"HighlightText"}}}),t["&:focus:hover"]={background:z.focusHoverBackground},t)}],V=[B.isContentUnselectable,{userSelect:"none",cursor:"default"}],W={minHeight:AC.compactRowHeight,border:0},G={minHeight:AC.compactRowHeight,paddingTop:AC.compactRowVerticalPadding,paddingBottom:AC.compactRowVerticalPadding,paddingLeft:"".concat(w.cellLeftPadding,"px")},j=[Sa(m,{inset:-1}),B.cell,{display:"inline-block",position:"relative",boxSizing:"border-box",minHeight:AC.rowHeight,verticalAlign:"top",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingTop:AC.rowVerticalPadding,paddingBottom:AC.rowVerticalPadding,paddingLeft:"".concat(w.cellLeftPadding,"px"),selectors:(c={"& > button":{maxWidth:"100%"}},c["[data-is-focusable='true']"]=Sa(m,{inset:-1,borderColor:D,outlineColor:P}),c)},g&&{selectors:(u={},u[ua]=hi({background:"Highlight",color:"HighlightText"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),u)},x&&G,M&&{opacity:.5}];return{root:[B.root,Zo.fadeIn400,_,m.fonts.small,y&&B.isCheckVisible,Sa(m,{borderColor:F,outlineColor:P}),{borderBottom:"1px solid ".concat(I),background:z.defaultBackground,color:z.defaultMetaText,display:"inline-flex",minWidth:"100%",minHeight:AC.rowHeight,whiteSpace:"nowrap",padding:0,boxSizing:"border-box",verticalAlign:"top",textAlign:"left",selectors:(d={},d[".".concat(B.listCellFirstChild," &:before")]={display:"none"},d["&:hover"]={background:z.defaultHoverBackground,color:z.defaultHoverMetaText,selectors:(h={},h[".".concat(B.isRowHeader)]={color:z.defaultHoverHeaderText},h[".".concat(B.cell," > .").concat(CC.root)]={color:U},h)},d["&:hover .".concat(B.check)]={opacity:1},d[".".concat(_a," &:focus .").concat(B.check,", :host(.").concat(_a,") &:focus .").concat(B.check)]={opacity:1},d[".ms-GroupSpacer"]={flexShrink:0,flexGrow:0},d)},g&&H,!v&&V,x&&W,S],cellUnpadded:{paddingRight:"".concat(w.cellRightPadding,"px")},cellPadded:{paddingRight:"".concat(w.cellExtraRightPadding+w.cellRightPadding,"px"),selectors:(p={},p["&.".concat(B.cellCheck)]={paddingRight:0},p)},cell:j,cellAnimation:C&&Bo.slideLeftIn40,cellMeasurer:[B.cellMeasurer,{overflow:"visible",whiteSpace:"nowrap"}],checkCell:[j,B.cellCheck,b,{padding:0,paddingTop:1,marginTop:-1,flexShrink:0}],fields:[B.fields,{display:"flex",alignItems:"stretch"}],isRowHeader:[B.isRowHeader,{color:z.defaultHeaderText,fontSize:R.medium.fontSize},g&&{color:z.selectedHeaderText,fontWeight:qo.semibold,selectors:(f={},f[ua]={color:"HighlightText"},f)}],isMultiline:[j,{whiteSpace:"normal",wordBreak:"break-word",textOverflow:"clip"}],check:[B.check]}}),void 0,{scope:"DetailsRow"}),sM="data-selection-index",lM="data-selection-toggle",cM="data-selection-invoke",uM="data-selection-all-toggle",dM=function(e){function t(t){var n=e.call(this,t)||this;n._root=r.createRef(),n.ignoreNextFocus=function(){n._handleNextFocus(!1)},n._onSelectionChange=function(){var e=n.props.selection,t=e.isModal&&e.isModal();n.setState({isModal:t})},n._onMouseDownCapture=function(e){var t=e.target,r=ga(n._root.current),i=null===r||void 0===r?void 0:r.document;if((null===i||void 0===i?void 0:i.activeElement)===t||pd(null===i||void 0===i?void 0:i.activeElement,t)){if(pd(t,n._root.current))for(;t!==n._root.current;){if(n._hasAttribute(t,cM)){n.ignoreNextFocus();break}t=pu(t)}}else n.ignoreNextFocus()},n._onFocus=function(e){var t=e.target,r=n.props.selection,i=n._isCtrlPressed||n._isMetaPressed,o=n._getSelectionMode();if(n._shouldHandleFocus&&o!==xC.none){var a=n._hasAttribute(t,lM),s=n._findItemRoot(t);if(!a&&s){var l=n._getItemIndex(s);void 0===n._getItemSpan(s)&&(i?(r.setIndexSelected(l,r.isIndexSelected(l),!0),n.props.enterModalOnTouch&&n._isTouch&&r.setModal&&(r.setModal(!0),n._setIsTouch(!1))):n.props.isSelectedOnFocus&&n._onItemSurfaceClick("focus",l))}}n._handleNextFocus(!1)},n._onMouseDown=function(e){n._updateModifiers(e);var t=n.props.toggleWithoutModifierPressed,r=e.target,i=n._findItemRoot(r);if(!n._isSelectionDisabled(r))for(;r!==n._root.current&&!n._hasAttribute(r,uM);){if(i){if(n._hasAttribute(r,lM))break;if(n._hasAttribute(r,cM))break;if(!(r!==i&&!n._shouldAutoSelect(r)||n._isShiftPressed||n._isCtrlPressed||n._isMetaPressed||t)){n._onInvokeMouseDown(e,n._getItemIndex(i),n._getItemSpan(i));break}if(n.props.disableAutoSelectOnInputElements&&("A"===r.tagName||"BUTTON"===r.tagName||"INPUT"===r.tagName))return}r=pu(r)}},n._onTouchStartCapture=function(e){n._setIsTouch(!0)},n._onClick=function(e){var t=n.props.enableTouchInvocationTarget,r=void 0!==t&&t;n._updateModifiers(e);for(var i=e.target,o=n._findItemRoot(i),a=n._isSelectionDisabled(i);i!==n._root.current;){if(n._hasAttribute(i,uM)){a||n._onToggleAllClick(e);break}if(o){var s=n._getItemIndex(o),l=n._getItemSpan(o);if(n._hasAttribute(i,lM)){a||(n._isShiftPressed?n._onItemSurfaceClick("click",s,l):n._onToggleClick(e,s,l));break}if(n._isTouch&&r&&n._hasAttribute(i,"data-selection-touch-invoke")||n._hasAttribute(i,cM)){void 0===l&&n._onInvokeClick(e,s);break}if(i===o){a||n._onItemSurfaceClick("click",s,l);break}if("A"===i.tagName||"BUTTON"===i.tagName||"INPUT"===i.tagName)return}i=pu(i)}},n._onContextMenu=function(e){var t=e.target,r=n.props,i=r.onItemContextMenu,o=r.selection;if(i){var a=n._findItemRoot(t);if(a){var s=n._getItemIndex(a);n._onInvokeMouseDown(e,s),i(o.getItems()[s],s,e.nativeEvent)||e.preventDefault()}}},n._onDoubleClick=function(e){var t=e.target,r=n.props.onItemInvoked,i=n._findItemRoot(t);if(i&&r&&!n._isInputElement(t)){for(var o=n._getItemIndex(i);t!==n._root.current&&!n._hasAttribute(t,lM)&&!n._hasAttribute(t,cM);){if(t===i){n._onInvokeClick(e,o);break}t=pu(t)}t=pu(t)}},n._onKeyDownCapture=function(e){n._updateModifiers(e),n._handleNextFocus(!0)},n._onKeyDown=function(e){n._updateModifiers(e);var t=e.target,r=n._isSelectionDisabled(t),i=n.props,o=i.selection,a=i.selectionClearedOnEscapePress,s=e.which===ac&&(n._isCtrlPressed||n._isMetaPressed),l=e.which===Zl;if(!n._isInputElement(t)){var c=n._getSelectionMode();if(s&&c===xC.multiple&&!o.isAllSelected())return r||o.setAllSelected(!0),e.stopPropagation(),void e.preventDefault();if(a&&l&&o.getSelectedCount()>0)return r||o.setAllSelected(!1),e.stopPropagation(),void e.preventDefault();var u=n._findItemRoot(t);if(u)for(var d=n._getItemIndex(u),h=n._getItemSpan(u);t!==n._root.current&&!n._hasAttribute(t,lM);){if(n._shouldAutoSelect(t)){r||void 0!==h||n._onInvokeMouseDown(e,d,h);break}if(!(e.which!==ql&&e.which!==Ql||"BUTTON"!==t.tagName&&"A"!==t.tagName&&"INPUT"!==t.tagName&&"SUMMARY"!==t.tagName))return!1;if(t===u){if(e.which===ql)return void(void 0===h&&(n._onInvokeClick(e,d),e.preventDefault()));if(e.which===Ql)return r||n._onToggleClick(e,d,h),void e.preventDefault();break}t=pu(t)}}},n._events=new Cu(n),n._async=new wu(n),yu(n);var i=n.props.selection,o=i.isModal&&i.isModal();return n.state={isModal:o},n}return di(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.selection.isModal&&e.selection.isModal();return hi(hi({},t),{isModal:n})},t.prototype.componentDidMount=function(){var e=ga(this._root.current),t=null===e||void 0===e?void 0:e.document;this._events.on(e,"keydown, keyup",this._updateModifiers,!0),this._events.on(t,"click",this._findScrollParentAndTryClearOnEmptyClick),this._events.on(null===t||void 0===t?void 0:t.body,"touchstart",this._onTouchStartCapture,!0),this._events.on(null===t||void 0===t?void 0:t.body,"touchend",this._onTouchStartCapture,!0),this._events.on(this.props.selection,"change",this._onSelectionChange)},t.prototype.render=function(){var e=this.state.isModal;return r.createElement("div",{className:Js("ms-SelectionZone",this.props.className,{"ms-SelectionZone--modal":!!e}),ref:this._root,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onKeyDownCapture:this._onKeyDownCapture,onClick:this._onClick,role:"presentation",onDoubleClick:this._onDoubleClick,onContextMenu:this._onContextMenu,onMouseDownCapture:this._onMouseDownCapture,onFocusCapture:this._onFocus,"data-selection-is-modal":!!e||void 0},this.props.children,r.createElement(mc,null))},t.prototype.componentDidUpdate=function(e){var t=this.props.selection;t!==e.selection&&(this._events.off(e.selection),this._events.on(t,"change",this._onSelectionChange))},t.prototype.componentWillUnmount=function(){this._events.dispose(),this._async.dispose()},t.prototype._isSelectionDisabled=function(e){if(this._getSelectionMode()===xC.none)return!0;for(;e!==this._root.current;){if(this._hasAttribute(e,"data-selection-disabled"))return!0;e=pu(e)}return!1},t.prototype._onToggleAllClick=function(e){var t=this.props.selection;this._getSelectionMode()===xC.multiple&&(t.toggleAllSelected(),e.stopPropagation(),e.preventDefault())},t.prototype._onToggleClick=function(e,t,n){var r=this.props.selection,i=this._getSelectionMode();if(r.setChangeEvents(!1),this.props.enterModalOnTouch&&this._isTouch&&(void 0!==n?!r.isRangeSelected(t,n):!r.isIndexSelected(t))&&r.setModal&&(r.setModal(!0),this._setIsTouch(!1)),i===xC.multiple)void 0!==n?r.toggleRangeSelected(t,n):r.toggleIndexSelected(t);else{if(i!==xC.single)return void r.setChangeEvents(!0);if(void 0===n||1===n){var o=r.isIndexSelected(t),a=r.isModal&&r.isModal();r.setAllSelected(!1),r.setIndexSelected(t,!o,!0),a&&r.setModal&&r.setModal(!0)}}r.setChangeEvents(!0),e.stopPropagation()},t.prototype._onInvokeClick=function(e,t){var n=this.props,r=n.selection,i=n.onItemInvoked;i&&(i(r.getItems()[t],t,e.nativeEvent),e.preventDefault(),e.stopPropagation())},t.prototype._onItemSurfaceClick=function(e,t,n){var r,i=this.props,o=i.selection,a=i.toggleWithoutModifierPressed,s=this._isCtrlPressed||this._isMetaPressed,l=this._getSelectionMode();l===xC.multiple?this._isShiftPressed&&!this._isTabPressed?void 0!==n?null===(r=o.selectToRange)||void 0===r||r.call(o,t,n,!s):o.selectToIndex(t,!s):"click"===e&&(s||a)?void 0!==n?o.toggleRangeSelected(t,n):o.toggleIndexSelected(t):this._clearAndSelectIndex(t,n):l===xC.single&&this._clearAndSelectIndex(t,n)},t.prototype._onInvokeMouseDown=function(e,t,n){var r=this.props.selection;if(void 0!==n){if(r.isRangeSelected(t,n))return}else if(r.isIndexSelected(t))return;this._clearAndSelectIndex(t,n)},t.prototype._findScrollParentAndTryClearOnEmptyClick=function(e){var t=ga(this._root.current),n=null===t||void 0===t?void 0:t.document,r=Dd(this._root.current);this._events.off(n,"click",this._findScrollParentAndTryClearOnEmptyClick),this._events.on(r,"click",this._tryClearOnEmptyClick),(r&&e.target instanceof Node&&r.contains(e.target)||r===e.target)&&this._tryClearOnEmptyClick(e)},t.prototype._tryClearOnEmptyClick=function(e){!this.props.selectionPreservedOnEmptyClick&&this._isNonHandledClick(e.target)&&this.props.selection.setAllSelected(!1)},t.prototype._clearAndSelectIndex=function(e,t){var n,r=this.props,i=r.selection,o=r.selectionClearedOnSurfaceClick,a=void 0===o||o;if(!((void 0===t||1===t)&&1===i.getSelectedCount()&&i.isIndexSelected(e))&&a){var s=i.isModal&&i.isModal();i.setChangeEvents(!1),i.setAllSelected(!1),void 0!==t?null===(n=i.setRangeSelected)||void 0===n||n.call(i,e,t,!0,!0):i.setIndexSelected(e,!0,!0),(s||this.props.enterModalOnTouch&&this._isTouch)&&(i.setModal&&i.setModal(!0),this._isTouch&&this._setIsTouch(!1)),i.setChangeEvents(!0)}},t.prototype._updateModifiers=function(e){this._isShiftPressed=e.shiftKey,this._isCtrlPressed=e.ctrlKey,this._isMetaPressed=e.metaKey;var t=e.keyCode;this._isTabPressed=!!t&&t===Kl},t.prototype._findItemRoot=function(e){for(var t=this.props.selection;e!==this._root.current;){var n=e.getAttribute(sM),r=Number(n);if(null!==n&&r>=0&&r<t.getItems().length)break;e=pu(e)}if(e!==this._root.current)return e},t.prototype._getItemIndex=function(e){var t,n=parseInt(null!==(t=e.getAttribute(sM))&&void 0!==t?t:"",10);return isNaN(n)?-1:n},t.prototype._getItemSpan=function(e){var t,n=parseInt(null!==(t=e.getAttribute("data-selection-span"))&&void 0!==t?t:"",10);return isNaN(n)?void 0:n},t.prototype._shouldAutoSelect=function(e){return this._hasAttribute(e,"data-selection-select")},t.prototype._hasAttribute=function(e,t){for(var n=!1;!n&&e!==this._root.current;){var r=e.getAttribute(t);if("false"===r){n=!1;break}n="true"===r,e=pu(e)}return n},t.prototype._isInputElement=function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"true"===e.getAttribute("contenteditable")||""===e.getAttribute("contenteditable")},t.prototype._isNonHandledClick=function(e){var t=Za();if(t&&e)for(;e&&e!==t.documentElement;){if(bd(e)||e.hasAttribute("data-selection-index"))return!1;e=pu(e)}return!0},t.prototype._handleNextFocus=function(e){var t=this;this._shouldHandleFocusTimeoutId&&(this._async.clearTimeout(this._shouldHandleFocusTimeoutId),this._shouldHandleFocusTimeoutId=void 0),this._shouldHandleFocus=e,e&&this._async.setTimeout((function(){t._shouldHandleFocus=!1}),100)},t.prototype._setIsTouch=function(e){var t=this;this._isTouchTimeoutId&&(this._async.clearTimeout(this._isTouchTimeoutId),this._isTouchTimeoutId=void 0),this._isTouch=!0,e&&this._async.setTimeout((function(){t._isTouch=!1}),300)},t.prototype._getSelectionMode=function(){var e=this.props.selection,t=this.props.selectionMode;return void 0===t?e?e.mode:xC.none:t},t.defaultProps={isSelectedOnFocus:!0,toggleWithoutModifierPressed:!1,selectionMode:xC.multiple,selectionClearedOnEscapePress:!0},t}(r.Component),hM=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0]||{},r=n.onSelectionChanged,i=n.onItemsChanged,o=n.getKey,a=n.canSelectItem,s=void 0===a?function(){return!0}:a,l=n.items,c=n.selectionMode,u=void 0===c?xC.multiple:c;this.mode=u,this._getKey=o||pM,this._changeEventSuppressionCount=0,this._exemptedCount=0,this._anchoredIndex=0,this._unselectableCount=0,this._onSelectionChanged=r,this._onItemsChanged=i,this._canSelectItem=s,this._keyToIndexMap={},this._isModal=!1,this.setItems(l||[],!0),this.count=this.getSelectedCount()}return e.prototype.canSelectItem=function(e,t){return!("number"===typeof t&&t<0)&&this._canSelectItem(e,t)},e.prototype.getKey=function(e,t){var n=this._getKey(e,t);return"number"===typeof n||n?"".concat(n):""},e.prototype.setChangeEvents=function(e,t){this._changeEventSuppressionCount+=e?-1:1,0===this._changeEventSuppressionCount&&this._hasChanged&&(this._hasChanged=!1,t||this._change())},e.prototype.isModal=function(){return this._isModal},e.prototype.setModal=function(e){this._isModal!==e&&(this.setChangeEvents(!1),this._isModal=e,e||this.setAllSelected(!1),this._change(),this.setChangeEvents(!0))},e.prototype.setItems=function(e,t){void 0===t&&(t=!0);var n={},r={},i=!1;this.setChangeEvents(!1),this._unselectableCount=0;for(var o=!1,a=0;a<e.length;a++){if(u=e[a])(g=this.getKey(u,a))&&(o||g in this._keyToIndexMap&&this._keyToIndexMap[g]===a||(o=!0),n[g]=a);r[a]=u&&!this.canSelectItem(u),r[a]&&this._unselectableCount++}(t||0===e.length)&&this._setAllSelected(!1,!0);var s={},l=0;for(var c in this._exemptedIndices)if(this._exemptedIndices.hasOwnProperty(c)){var u,d=Number(c),h=(u=this._items[d])?this.getKey(u,Number(d)):void 0,p=h?n[h]:d;void 0===p?i=!0:(s[p]=!0,l++,i=i||p!==d)}if(this._items&&0===this._exemptedCount&&e.length!==this._items.length&&this._isAllSelected&&(i=!0),!o)for(var f=0,m=Object.keys(this._keyToIndexMap);f<m.length;f++){var g;if(!((g=m[f])in n)){o=!0;break}}this._exemptedIndices=s,this._exemptedCount=l,this._keyToIndexMap=n,this._unselectableIndices=r,this._items=e,this._selectedItems=null,i&&this._updateCount(),o&&(Cu.raise(this,"items-change"),this._onItemsChanged&&this._onItemsChanged()),i&&this._change(),this.setChangeEvents(!0)},e.prototype.getItems=function(){return this._items},e.prototype.getSelection=function(){if(!this._selectedItems){this._selectedItems=[];var e=this._items;if(e)for(var t=0;t<e.length;t++)this.isIndexSelected(t)&&this._selectedItems.push(e[t])}return this._selectedItems},e.prototype.getSelectedCount=function(){return this._isAllSelected?this._items.length-this._exemptedCount-this._unselectableCount:this._exemptedCount},e.prototype.getSelectedIndices=function(){if(!this._selectedIndices){this._selectedIndices=[];var e=this._items;if(e)for(var t=0;t<e.length;t++)this.isIndexSelected(t)&&this._selectedIndices.push(t)}return this._selectedIndices},e.prototype.getItemIndex=function(e){var t=this._keyToIndexMap[e];return null!==t&&void 0!==t?t:-1},e.prototype.isRangeSelected=function(e,t){if(0===t)return!1;for(var n=e+t,r=e;r<n;r++)if(!this.isIndexSelected(r))return!1;return!0},e.prototype.isAllSelected=function(){var e=this._items.length-this._unselectableCount;return this.mode===xC.single&&(e=Math.min(e,1)),this.count>0&&this._isAllSelected&&0===this._exemptedCount||!this._isAllSelected&&this._exemptedCount===e&&e>0},e.prototype.isKeySelected=function(e){var t=this._keyToIndexMap[e];return this.isIndexSelected(t)},e.prototype.isIndexSelected=function(e){return!!(this.count>0&&this._isAllSelected&&!this._exemptedIndices[e]&&!this._unselectableIndices[e]||!this._isAllSelected&&this._exemptedIndices[e])},e.prototype.setAllSelected=function(e){if(!e||this.mode===xC.multiple){var t=this._items?this._items.length-this._unselectableCount:0;this.setChangeEvents(!1),t>0&&(this._exemptedCount>0||e!==this._isAllSelected)&&(this._exemptedIndices={},(e!==this._isAllSelected||this._exemptedCount>0)&&(this._exemptedCount=0,this._isAllSelected=e,this._change()),this._updateCount()),this.setChangeEvents(!0)}},e.prototype.setKeySelected=function(e,t,n){var r=this._keyToIndexMap[e];r>=0&&this.setIndexSelected(r,t,n)},e.prototype.setIndexSelected=function(e,t,n){if(this.mode!==xC.none&&!((e=Math.min(Math.max(0,e),this._items.length-1))<0||e>=this._items.length)){this.setChangeEvents(!1);var r=this._exemptedIndices[e];!this._unselectableIndices[e]&&(t&&this.mode===xC.single&&this._setAllSelected(!1,!0),r&&(t&&this._isAllSelected||!t&&!this._isAllSelected)&&(delete this._exemptedIndices[e],this._exemptedCount--),!r&&(t&&!this._isAllSelected||!t&&this._isAllSelected)&&(this._exemptedIndices[e]=!0,this._exemptedCount++),n&&(this._anchoredIndex=e)),this._updateCount(),this.setChangeEvents(!0)}},e.prototype.setRangeSelected=function(e,t,n,r){if(this.mode!==xC.none&&(e=Math.min(Math.max(0,e),this._items.length-1),t=Math.min(Math.max(0,t),this._items.length-e),!(e<0||e>=this._items.length||0===t))){this.setChangeEvents(!1);for(var i=e,o=e+t-1,a=(this._anchoredIndex||0)>=o?i:o;i<=o;i++)this.setIndexSelected(i,n,!!r&&i===a);this.setChangeEvents(!0)}},e.prototype.selectToKey=function(e,t){this.selectToIndex(this._keyToIndexMap[e],t)},e.prototype.selectToRange=function(e,t,n){if(this.mode!==xC.none)if(this.mode!==xC.single){var r=this._anchoredIndex||0,i=Math.min(e,r),o=Math.max(e+t-1,r);for(this.setChangeEvents(!1),n&&this._setAllSelected(!1,!0);i<=o;i++)this.setIndexSelected(i,!0,!1);this.setChangeEvents(!0)}else 1===t&&this.setIndexSelected(e,!0,!0)},e.prototype.selectToIndex=function(e,t){if(this.mode!==xC.none)if(this.mode!==xC.single){var n=this._anchoredIndex||0,r=Math.min(e,n),i=Math.max(e,n);for(this.setChangeEvents(!1),t&&this._setAllSelected(!1,!0);r<=i;r++)this.setIndexSelected(r,!0,!1);this.setChangeEvents(!0)}else this.setIndexSelected(e,!0,!0)},e.prototype.toggleAllSelected=function(){this.setAllSelected(!this.isAllSelected())},e.prototype.toggleKeySelected=function(e){this.setKeySelected(e,!this.isKeySelected(e),!0)},e.prototype.toggleIndexSelected=function(e){this.setIndexSelected(e,!this.isIndexSelected(e),!0)},e.prototype.toggleRangeSelected=function(e,t){if(this.mode!==xC.none){var n=this.isRangeSelected(e,t),r=e+t;if(!(this.mode===xC.single&&t>1)){this.setChangeEvents(!1);for(var i=e;i<r;i++)this.setIndexSelected(i,!n,!1);this.setChangeEvents(!0)}}},e.prototype._updateCount=function(e){void 0===e&&(e=!1);var t=this.getSelectedCount();t!==this.count&&(this.count=t,this._change()),this.count||e||this.setModal(!1)},e.prototype._setAllSelected=function(e,t){if(void 0===t&&(t=!1),!e||this.mode===xC.multiple){var n=this._items?this._items.length-this._unselectableCount:0;this.setChangeEvents(!1),n>0&&(this._exemptedCount>0||e!==this._isAllSelected)&&(this._exemptedIndices={},(e!==this._isAllSelected||this._exemptedCount>0)&&(this._exemptedCount=0,this._isAllSelected=e,this._change()),this._updateCount(t)),this.setChangeEvents(!0)}},e.prototype._change=function(){0===this._changeEventSuppressionCount?(this._selectedItems=null,this._selectedIndices=void 0,Cu.raise(this,kC),this._onSelectionChanged&&this._onSelectionChanged()):this._hasChanged=!0},e}();function pM(e,t){var n=(e||{}).key;return void 0===n?"".concat(t):n}var fM,mM,gM={root:"ms-GroupedList",compact:"ms-GroupedList--Compact",group:"ms-GroupedList-group",link:"ms-Link",listCell:"ms-List-cell"},vM="cubic-bezier(0.445, 0.050, 0.550, 0.950)",_M={root:"ms-GroupHeader",compact:"ms-GroupHeader--compact",check:"ms-GroupHeader-check",dropIcon:"ms-GroupHeader-dropIcon",expand:"ms-GroupHeader-expand",isCollapsed:"is-collapsed",title:"ms-GroupHeader-title",isSelected:"is-selected",iconTag:"ms-Icon--Tag",group:"ms-GroupedList-group",isDropping:"is-dropping"},yM="cubic-bezier(0.075, 0.820, 0.165, 1.000)",bM="cubic-bezier(0.390, 0.575, 0.565, 1.000)",xM="cubic-bezier(0.600, -0.280, 0.735, 0.045)";!function(e){e[e.xSmall=0]="xSmall",e[e.small=1]="small",e[e.medium=2]="medium",e[e.large=3]="large"}(fM||(fM={})),function(e){e[e.normal=0]="normal",e[e.large=1]="large"}(mM||(mM={}));var SM=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isRendered:void 0===ga()},n}return di(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.delay;this._timeoutId=window.setTimeout((function(){e.setState({isRendered:!0})}),t)},t.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},t.prototype.render=function(){return this.state.isRendered?r.Children.only(this.props.children):null},t.defaultProps={delay:0},t}(r.Component),EM=lu(),wM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return di(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.size,i=e.ariaLabel,o=e.ariaLive,a=e.styles,s=e.label,l=e.theme,c=e.className,u=e.labelPosition,d=i,h=zl(this.props,Bl,["size"]),p=n;void 0===p&&void 0!==t&&(p=t===mM.large?fM.large:fM.medium);var f=EM(a,{theme:l,size:p,className:c,labelPosition:u});return r.createElement("div",hi({},h,{className:f.root}),r.createElement("div",{className:f.circle}),s&&r.createElement("div",{className:f.label},s),d&&r.createElement("div",{role:"status","aria-live":o},r.createElement(SM,null,r.createElement("div",{className:f.screenReaderText},d))))},t.defaultProps={size:fM.medium,ariaLive:"polite",labelPosition:"bottom"},t}(r.Component),CM={root:"ms-Spinner",circle:"ms-Spinner-circle",label:"ms-Spinner-label"},MM=ia((function(){return qi({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}})})),TM=nu(wM,(function(e){var t,n=e.theme,r=e.size,i=e.className,o=e.labelPosition,a=n.palette,s=ca(CM,n);return{root:[s.root,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"top"===o&&{flexDirection:"column-reverse"},"right"===o&&{flexDirection:"row"},"left"===o&&{flexDirection:"row-reverse"},i],circle:[s.circle,{boxSizing:"border-box",borderRadius:"50%",borderWidth:"1.5px",borderStyle:"solid",borderTopColor:a.themePrimary,borderRightColor:a.themeLight,borderBottomColor:a.themeLight,borderLeftColor:a.themeLight,animationName:MM(),animationDuration:"1.3s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.53,.21,.29,.67)",selectors:(t={},t[ua]=hi({borderTopColor:"Highlight"},{forcedColorAdjust:"none",MsHighContrastAdjust:"none"}),t)},r===fM.xSmall&&["ms-Spinner--xSmall",{width:12,height:12}],r===fM.small&&["ms-Spinner--small",{width:16,height:16}],r===fM.medium&&["ms-Spinner--medium",{width:20,height:20}],r===fM.large&&["ms-Spinner--large",{width:28,height:28}]],label:[s.label,n.fonts.small,{color:a.themePrimary,margin:"8px 0 0",textAlign:"center"},"top"===o&&{margin:"0 0 8px"},"right"===o&&{margin:"0 0 0 8px"},"left"===o&&{margin:"0 8px 0 0"}],screenReaderText:Qo}}),void 0,{scope:"Spinner"}),RM=lu(),AM=function(e){function t(t){var n=e.call(this,t)||this;return n._toggleCollapse=function(){var e=n.props,t=e.group,r=e.onToggleCollapse,i=e.isGroupLoading,o=!n.state.isCollapsed,a=!o&&i&&i(t);n.setState({isCollapsed:o,isLoadingVisible:a}),r&&r(t)},n._onKeyUp=function(e){var t=n.props,r=t.group,i=t.onGroupHeaderKeyUp;if(i&&i(e,r),!e.defaultPrevented){var o=n.state.isCollapsed&&e.which===Pc(ic,n.props.theme);(!n.state.isCollapsed&&e.which===Pc(nc,n.props.theme)||o)&&(n._toggleCollapse(),e.stopPropagation(),e.preventDefault())}},n._onToggleClick=function(e){n._toggleCollapse(),e.stopPropagation(),e.preventDefault()},n._onHeaderClick=function(){var e=n.props,t=e.group,r=e.onGroupHeaderClick;r&&r(t)},n._onRenderTitle=function(e){if(!e.group)return null;var t=e.onRenderName?cd(e.onRenderName,n._onRenderName):n._onRenderName;return r.createElement("div",{className:n._classNames.title,id:n._id,onClick:n._onHeaderClick,role:"gridcell","aria-colspan":n.props.ariaColSpan,"data-selection-invoke":!0},t(e))},n._onRenderName=function(e){var t=e.group;return t?r.createElement(r.Fragment,null,r.createElement("span",null,t.name),r.createElement("span",{className:n._classNames.headerCount},"(",t.count,t.hasMoreData&&"+",")")):null},n._id=cl("GroupHeader"),n.state={isCollapsed:n.props.group&&n.props.group.isCollapsed,isLoadingVisible:!1},n}return di(t,e),t.getDerivedStateFromProps=function(e,t){if(e.group){var n=e.group.isCollapsed,r=e.isGroupLoading,i=!n&&r&&r(e.group);return hi(hi({},t),{isCollapsed:n||!1,isLoadingVisible:i||!1})}return t},t.prototype.render=function(){var e=this.props,t=e.group,n=e.groupLevel,i=void 0===n?0:n,o=e.viewport,a=e.selectionMode,s=e.loadingText,l=e.isSelected,c=void 0!==l&&l,u=e.selected,d=void 0!==u&&u,h=e.indentWidth,p=e.onRenderGroupHeaderCheckbox,f=e.isCollapsedGroupSelectVisible,m=void 0===f||f,g=e.expandButtonProps,v=e.expandButtonIcon,_=e.selectAllButtonProps,y=e.theme,b=e.styles,x=e.className,S=e.compact,E=e.ariaLevel,w=e.ariaPosInSet,C=e.ariaSetSize,M=e.ariaRowIndex,T=e.useFastIcons,R=this.props.onRenderTitle?cd(this.props.onRenderTitle,this._onRenderTitle):this._onRenderTitle,A=T?this._fastDefaultCheckboxRender:this._defaultCheckboxRender,P=p?cd(p,A):A,D=this.state,I=D.isCollapsed,k=D.isLoadingVisible,L=a===xC.multiple,N=L&&(m||!(t&&t.isCollapsed)),O=d||c,F=Ac(y);return this._classNames=RM(b,{theme:y,className:x,selected:O,isCollapsed:I,compact:S}),t?r.createElement("div",{className:this._classNames.root,style:o?{minWidth:o.width}:{},role:"row","aria-level":E,"aria-setsize":C,"aria-posinset":w,"aria-rowindex":M,"data-is-focusable":!0,onKeyUp:this._onKeyUp,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabel?void 0:this._id,"aria-expanded":!this.state.isCollapsed,"aria-selected":L?O:void 0,"data-selection-index":t.startIndex,"data-selection-span":t.count},r.createElement("div",{className:this._classNames.groupHeaderContainer,role:"presentation"},N?r.createElement("div",{role:"gridcell"},r.createElement("button",hi({"data-is-focusable":!1,type:"button",className:this._classNames.check,role:"checkbox",id:"".concat(this._id,"-check"),"aria-checked":O,"aria-labelledby":"".concat(this._id,"-check ").concat(this._id),"data-selection-toggle":!0},_),P({checked:O,theme:y},P))):a!==xC.none&&r.createElement(_C,{indentWidth:48,count:1}),r.createElement(_C,{indentWidth:h,count:i}),r.createElement("div",{className:this._classNames.dropIcon,role:"presentation"},r.createElement(ju,{iconName:"Tag"})),r.createElement("div",{role:"gridcell"},r.createElement("button",hi({"data-is-focusable":!1,"data-selection-disabled":!0,type:"button",className:this._classNames.expand,onClick:this._onToggleClick,"aria-expanded":!this.state.isCollapsed},g),r.createElement(ju,{className:this._classNames.expandIsCollapsed,iconName:v||(F?"ChevronLeftMed":"ChevronRightMed")}))),R(this.props),k&&r.createElement(TM,{label:s}))):null},t.prototype._defaultCheckboxRender=function(e){return r.createElement(wC,{checked:e.checked})},t.prototype._fastDefaultCheckboxRender=function(e){return r.createElement(PM,{theme:e.theme,checked:e.checked})},t.defaultProps={expandButtonProps:{"aria-label":"expand collapse group"}},t}(r.Component),PM=r.memo((function(e){return r.createElement(wC,{theme:e.theme,checked:e.checked,className:e.className,useFastIcons:!0})})),DM=nu(AM,(function(e){var t,n,r,i,o,a=e.theme,s=e.className,l=e.selected,c=e.isCollapsed,u=e.compact,d=TC.cellLeftPadding,h=u?40:48,p=a.semanticColors,f=a.palette,m=a.fonts,g=ca(_M,a),v=[Sa(a),{cursor:"default",background:"none",backgroundColor:"transparent",border:"none",padding:0}];return{root:[g.root,Sa(a),a.fonts.medium,{borderBottom:"1px solid ".concat(p.listBackground),cursor:"default",userSelect:"none",selectors:(t={":hover":{background:p.listItemBackgroundHovered,color:p.actionLinkHovered}},t["&:hover .".concat(g.check)]={opacity:1},t[".".concat(_a," &:focus .").concat(g.check,", :host(.").concat(_a,") &:focus .").concat(g.check)]={opacity:1},t[":global(.".concat(g.group,".").concat(g.isDropping,")")]={selectors:(n={},n["& > .".concat(g.root," .").concat(g.dropIcon)]={transition:"transform ".concat(Uo," ").concat(yM," ")+"opacity ".concat(No," ").concat(bM),transitionDelay:Fo,opacity:1,transform:"rotate(0.2deg) scale(1);"},n[".".concat(g.check)]={opacity:0},n)},t)},l&&[g.isSelected,{background:p.listItemBackgroundChecked,selectors:(r={":hover":{background:p.listItemBackgroundCheckedHovered}},r["".concat(g.check)]={opacity:1},r)}],u&&[g.compact,{border:"none"}],s],groupHeaderContainer:[{display:"flex",alignItems:"center",height:h}],headerCount:[{padding:"0px 4px"}],check:[g.check,v,{display:"flex",alignItems:"center",justifyContent:"center",paddingTop:1,marginTop:-1,opacity:0,width:48,height:h,selectors:(i={},i[".".concat(_a," &:focus, :host(.").concat(_a,") &:focus")]={opacity:1},i)}],expand:[g.expand,v,{display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",fontSize:m.small.fontSize,width:36,height:h,color:l?f.neutralPrimary:f.neutralSecondary,selectors:{":hover":{backgroundColor:l?f.neutralQuaternary:f.neutralLight},":active":{backgroundColor:l?f.neutralTertiaryAlt:f.neutralQuaternaryAlt}}}],expandIsCollapsed:[c?[g.isCollapsed,{transform:"rotate(0deg)",transformOrigin:"50% 50%",transition:"transform .1s linear"}]:{transform:Ac(a)?"rotate(-90deg)":"rotate(90deg)",transformOrigin:"50% 50%",transition:"transform .1s linear"}],title:[g.title,{paddingLeft:d,fontSize:u?m.medium.fontSize:m.mediumPlus.fontSize,fontWeight:c?qo.regular:qo.semibold,cursor:"pointer",outline:0,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}],dropIcon:[g.dropIcon,{position:"absolute",left:-26,fontSize:Yo.large,color:f.neutralSecondary,transition:"transform ".concat(Oo," ").concat(xM,", ")+"opacity ".concat(Uo," ").concat(bM),opacity:0,transform:"rotate(0.2deg) scale(0.65)",transformOrigin:"10px 10px",selectors:(o={},o[":global(.".concat(g.iconTag,")")]={position:"absolute"},o)}]}}),void 0,{scope:"GroupHeader"}),IM={root:"ms-GroupShowAll",link:"ms-Link"},kM=lu(),LM=function(e,t){r.useImperativeHandle(e.componentRef,(function(){return{focus:function(){t.current&&t.current.focus()}}}),[t])},NM=function(e,t){t.as;var n=t.disabled,r=t.target,i=t.href,o=(t.theme,t.getStyles,t.styles,t.componentRef,t.underline,pi(t,["as","disabled","target","href","theme","getStyles","styles","componentRef","underline"]));return"string"===typeof e?"a"===e?hi({target:r,href:n?void 0:i},o):"button"===e?hi({type:"button",disabled:n},o):hi(hi({},o),{disabled:n}):hi({target:r,href:i,disabled:n},o)},OM=r.forwardRef((function(e,t){var n=function(e,t){var n=e.as,i=e.className,o=e.disabled,a=e.href,s=e.onClick,l=e.styles,c=e.theme,u=e.underline,d=r.useRef(null),h=Cc(d,t);LM(e,d),fc(d);var p=kM(l,{className:i,isButton:!a,isDisabled:o,isUnderlined:u,theme:c}),f=n||(a?"a":"button");return{state:{},slots:{root:f},slotProps:{root:hi(hi({},NM(f,e)),{"aria-disabled":o,className:p.root,onClick:function(e){o?e.preventDefault():s&&s(e)},ref:h})}}}(e,t),i=n.slots,o=n.slotProps;return r.createElement(i.root,hi({},o.root))}));OM.displayName="LinkBase";var FM=nu(OM,(function(e){var t,n,r,i,o,a,s,l=e.className,c=e.isButton,u=e.isDisabled,d=e.isUnderlined,h=e.theme,p=h.semanticColors,f=p.link,m=p.linkHovered,g=p.disabledText,v=p.focusBorder,_=ca(CC,h);return{root:[_.root,h.fonts.medium,{color:f,outline:"none",fontSize:"inherit",fontWeight:"inherit",textDecoration:d?"underline":"none",selectors:(t={},t[".".concat(_a," &:focus, :host(.").concat(_a,") &:focus")]={boxShadow:"0 0 0 1px ".concat(v," inset"),outline:"1px auto ".concat(v),selectors:(n={},n[ua]={outline:"1px solid WindowText"},n)},t[ua]={borderBottom:"none"},t)},c&&{background:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",display:"inline",margin:0,overflow:"inherit",padding:0,textAlign:"left",textOverflow:"inherit",userSelect:"text",borderBottom:"1px solid transparent",selectors:(r={},r[ua]={color:"LinkText",forcedColorAdjust:"none"},r)},!c&&{selectors:(i={},i[ua]={MsHighContrastAdjust:"auto",forcedColorAdjust:"auto"},i)},u&&["is-disabled",{color:g,cursor:"default"},{selectors:(o={"&:link, &:visited":{pointerEvents:"none"}},o[ua]={color:"GrayText"},o)}],!u&&{selectors:{"&:active, &:hover, &:active:hover":{color:m,textDecoration:"underline",selectors:(a={},a[ua]={color:"LinkText"},a)},"&:focus":{color:f,selectors:(s={},s[ua]={color:"LinkText"},s)}}},_.root,l]}}),void 0,{scope:"Link"}),UM=lu(),BM=nu((function(e){var t=e.group,n=e.groupLevel,i=e.showAllLinkText,o=void 0===i?"Show All":i,a=e.styles,s=e.theme,l=e.onToggleSummarize,c=UM(a,{theme:s}),u=r.useCallback((function(e){l(t),e.stopPropagation(),e.preventDefault()}),[l,t]);return t?r.createElement("div",{className:c.root},r.createElement(_C,{count:n}),r.createElement(FM,{onClick:u},o)):null}),(function(e){var t,n=e.theme,r=n.fonts,i=ca(IM,n);return{root:[i.root,{position:"relative",padding:"10px 84px",cursor:"pointer",selectors:(t={},t[".".concat(i.link)]={fontSize:r.small.fontSize},t)}]}}),void 0,{scope:"GroupShowAll"}),zM={root:"ms-groupFooter"},HM=lu(),VM=nu((function(e){var t=e.group,n=e.groupLevel,i=e.footerText,o=e.indentWidth,a=e.styles,s=e.theme,l=HM(a,{theme:s});return t&&i?r.createElement("div",{className:l.root},r.createElement(_C,{indentWidth:o,count:n}),i):null}),(function(e){var t=e.theme,n=e.className,r=ca(zM,t);return{root:[t.fonts.medium,r.root,{position:"relative",padding:"5px 38px"},n]}}),void 0,{scope:"GroupFooter"}),WM=0,GM=1,jM=2,XM=3,KM=function(e){if(void 0===e)return 0;var t=0;return"scrollTop"in e?t=e.scrollTop:"scrollY"in e&&(t=e.scrollY),Math.ceil(t)},qM=function(e,t){"scrollTop"in e?e.scrollTop=t:"scrollY"in e&&e.scrollTo(e.scrollX,t)},YM="spacer-",ZM=1/3,QM={top:-1,bottom:-1,left:-1,right:-1,width:0,height:0},JM=function(e){return e.getBoundingClientRect()},$M=JM,eT=JM,tT=function(e){function t(t){var n=e.call(this,t)||this;return n._root=r.createRef(),n._surface=r.createRef(),n._pageRefs={},n._getDerivedStateFromProps=function(e,t){return e.items!==n.props.items||e.renderCount!==n.props.renderCount||e.startIndex!==n.props.startIndex||e.version!==n.props.version||!t.hasMounted&&n.props.renderEarly&&fa()?(n._resetRequiredWindows(),n._requiredRect=null,n._measureVersion++,n._invalidatePageCache(),n._updatePages(e,t)):t},n._onRenderRoot=function(e){var t=e.rootRef,n=e.surfaceElement,i=e.divProps;return r.createElement("div",hi({ref:t},i),n)},n._onRenderSurface=function(e){var t=e.surfaceRef,n=e.pageElements,i=e.divProps;return r.createElement("div",hi({ref:t},i),n)},n._onRenderPage=function(e,t){for(var i,o=n.props,a=o.onRenderCell,s=o.onRenderCellConditional,l=o.role,c=e.page,u=c.items,d=void 0===u?[]:u,h=c.startIndex,p=pi(e,["page"]),f=void 0===l?"listitem":"presentation",m=[],g=0;g<d.length;g++){var v=h+g,_=d[g],y=n.props.getKey?n.props.getKey(_,v):_&&_.key;null!==y&&void 0!==y||(y=v);var b=null!==s&&void 0!==s?s:a,x=null!==(i=null===b||void 0===b?void 0:b(_,v,n.props.ignoreScrollingState?void 0:n.state.isScrolling))&&void 0!==i?i:null;s&&!x||m.push(r.createElement("div",{role:f,className:"ms-List-cell",key:y,"data-list-index":v,"data-automationid":"ListCell"},x))}return r.createElement("div",hi({},p),m)},yu(n),n.state={pages:[],isScrolling:!1,getDerivedStateFromProps:n._getDerivedStateFromProps,hasMounted:!1},n._estimatedPageHeight=0,n._totalEstimates=0,n._requiredWindowsAhead=0,n._requiredWindowsBehind=0,n._measureVersion=0,n._cachedPageHeights={},n._estimatedPageHeight=0,n._focusedIndex=-1,n._pageCache={},n}return di(t,e),t.getDerivedStateFromProps=function(e,t){return t.getDerivedStateFromProps(e,t)},Object.defineProperty(t.prototype,"pageRefs",{get:function(){return this._pageRefs},enumerable:!1,configurable:!0}),t.prototype.scrollToIndex=function(e,t,n){void 0===n&&(n=WM);for(var r=this.props.startIndex,i=r+this._getRenderCount(),o=this._allowedRect,a=0,s=1,l=r;l<i;l+=s){var c=this._getPageSpecification(this.props,l,o),u=c.height;if(s=c.itemCount,l<=e&&l+s>e){if(t&&this._scrollElement){for(var d=eT(this._scrollElement),h=KM(this._scrollElement),p={top:h,bottom:h+d.height},f=e-l,m=0;m<f;++m)a+=t(l+m);var g=a+t(e);switch(n){case GM:return void qM(this._scrollElement,a);case jM:return void qM(this._scrollElement,g-d.height);case XM:return void qM(this._scrollElement,(a+g-d.height)/2)}if(a>=p.top&&g<=p.bottom)return;a<p.top||g>p.bottom&&(a=g-d.height)}return void(this._scrollElement&&qM(this._scrollElement,a))}a+=u}},t.prototype.getStartItemIndexInView=function(e){for(var t=0,n=this.state.pages||[];t<n.length;t++){var r=n[t];if(!r.isSpacer&&(this._scrollTop||0)>=r.top&&(this._scrollTop||0)<=r.top+r.height){if(!e){var i=Math.floor(r.height/r.itemCount);return r.startIndex+Math.floor((this._scrollTop-r.top)/i)}for(var o=0,a=r.startIndex;a<r.startIndex+r.itemCount;a++){i=e(a);if(r.top+o<=this._scrollTop&&this._scrollTop<r.top+o+i)return a;o+=i}}}return 0},t.prototype.componentDidMount=function(){this._async=new wu(this),this._events=new Cu(this),this._onAsyncScrollDebounced=this._async.debounce(this._onAsyncScroll,100,{leading:!1,maxWait:500}),this._onAsyncIdleDebounced=this._async.debounce(this._onAsyncIdle,200,{leading:!1}),this._onAsyncResizeDebounced=this._async.debounce(this._onAsyncResize,16,{leading:!1}),this._onScrollingDoneDebounced=this._async.debounce(this._onScrollingDone,500,{leading:!1}),this._scrollElement=Dd(this._root.current),this._scrollTop=0,this.setState(hi(hi({},this._updatePages(this.props,this.state)),{hasMounted:!0})),this._measureVersion++;var e=ep(this.context);this._events.on(e,"resize",this._onAsyncResizeDebounced),this._root.current&&this._events.on(this._root.current,"focus",this._onFocus,!0),this._scrollElement&&(this._events.on(this._scrollElement,"scroll",this._onScroll),this._events.on(this._scrollElement,"scroll",this._onAsyncScrollDebounced))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=this.state;if(this.state.pagesVersion!==t.pagesVersion){if(n.getPageHeight)this._onAsyncIdleDebounced();else this._updatePageMeasurements(r.pages)?(this._materializedRect=null,this._hasCompletedFirstRender?this._onAsyncScrollDebounced():(this._hasCompletedFirstRender=!0,this.setState(this._updatePages(n,r)))):this._onAsyncIdleDebounced();n.onPagesUpdated&&n.onPagesUpdated(r.pages)}},t.prototype.componentWillUnmount=function(){var e,t;null===(e=this._async)||void 0===e||e.dispose(),null===(t=this._events)||void 0===t||t.dispose(),delete this._scrollElement},t.prototype.shouldComponentUpdate=function(e,t){var n=this.state.pages,r=t.pages,i=!1;if(!t.isScrolling&&this.state.isScrolling)return!0;if(e.version!==this.props.version)return!0;if(e.className!==this.props.className)return!0;if(e.items===this.props.items&&n.length===r.length)for(var o=0;o<n.length;o++){var a=n[o],s=r[o];if(a.key!==s.key||a.itemCount!==s.itemCount){i=!0;break}}else i=!0;return i},t.prototype.forceUpdate=function(){this._invalidatePageCache(),this._updateRenderRects(this.props,this.state,!0),this.setState(this._updatePages(this.props,this.state)),this._measureVersion++,e.prototype.forceUpdate.call(this)},t.prototype.getTotalListHeight=function(){return this._surfaceRect.height},t.prototype.render=function(){for(var e=this.props,t=e.className,n=e.role,r=void 0===n?"list":n,i=e.onRenderSurface,o=e.onRenderRoot,a=this.state.pages,s=void 0===a?[]:a,l=[],c=zl(this.props,Bl),u=0,d=s;u<d.length;u++){var h=d[u];l.push(this._renderPage(h))}var p=i?cd(i,this._onRenderSurface):this._onRenderSurface;return(o?cd(o,this._onRenderRoot):this._onRenderRoot)({rootRef:this._root,pages:s,surfaceElement:p({surfaceRef:this._surface,pages:s,pageElements:l,divProps:{role:"presentation",className:"ms-List-surface"}}),divProps:hi(hi({},c),{className:Js("ms-List",t),role:l.length>0?r:void 0,"aria-label":l.length>0?c["aria-label"]:void 0})})},t.prototype._shouldVirtualize=function(e){void 0===e&&(e=this.props);var t=e.onShouldVirtualize;return!t||t(e)},t.prototype._invalidatePageCache=function(){this._pageCache={}},t.prototype._renderPage=function(e){var t,n=this,r=this.props.usePageCache;if(r&&(t=this._pageCache[e.key])&&t.pageElement)return t.pageElement;var i=this._getPageStyle(e),o=this.props.onRenderPage,a=(void 0===o?this._onRenderPage:o)({page:e,className:"ms-List-page",key:e.key,ref:function(t){n._pageRefs[e.key]=t},style:i,role:"presentation"},this._onRenderPage);return r&&0===e.startIndex&&(this._pageCache[e.key]={page:e,pageElement:a}),a},t.prototype._getPageStyle=function(e){var t=this.props.getPageStyle;return hi(hi({},t?t(e):{}),e.items?{}:{height:e.height})},t.prototype._onFocus=function(e){for(var t=e.target;t!==this._surface.current;){var n=t.getAttribute("data-list-index");if(n){this._focusedIndex=Number(n);break}t=pu(t)}},t.prototype._onScroll=function(){this.state.isScrolling||this.props.ignoreScrollingState||this.setState({isScrolling:!0}),this._resetRequiredWindows(),this._onScrollingDoneDebounced()},t.prototype._resetRequiredWindows=function(){this._requiredWindowsAhead=0,this._requiredWindowsBehind=0},t.prototype._onAsyncScroll=function(){var e,t;this._updateRenderRects(this.props,this.state),this._materializedRect&&(e=this._requiredRect,t=this._materializedRect,e.top>=t.top&&e.left>=t.left&&e.bottom<=t.bottom&&e.right<=t.right)||this.setState(this._updatePages(this.props,this.state))},t.prototype._onAsyncIdle=function(){var e=this.props,t=e.renderedWindowsAhead,n=e.renderedWindowsBehind,r=this._requiredWindowsAhead,i=this._requiredWindowsBehind,o=Math.min(t,r+1),a=Math.min(n,i+1);o===r&&a===i||(this._requiredWindowsAhead=o,this._requiredWindowsBehind=a,this._updateRenderRects(this.props,this.state),this.setState(this._updatePages(this.props,this.state))),(t>o||n>a)&&this._onAsyncIdleDebounced()},t.prototype._onScrollingDone=function(){this.props.ignoreScrollingState||(this.setState({isScrolling:!1}),this._onAsyncIdle())},t.prototype._onAsyncResize=function(){this.forceUpdate()},t.prototype._updatePages=function(e,t){this._requiredRect||this._updateRenderRects(e,t);var n=this._buildPages(e,t),r=t.pages;return this._notifyPageChanges(r,n.pages,this.props),hi(hi(hi({},t),n),{pagesVersion:{}})},t.prototype._notifyPageChanges=function(e,t,n){var r=n.onPageAdded,i=n.onPageRemoved;if(r||i){for(var o={},a=0,s=e;a<s.length;a++){(u=s[a]).items&&(o[u.startIndex]=u)}for(var l=0,c=t;l<c.length;l++){var u;(u=c[l]).items&&(o[u.startIndex]?delete o[u.startIndex]:this._onPageAdded(u))}for(var d in o)o.hasOwnProperty(d)&&this._onPageRemoved(o[d])}},t.prototype._updatePageMeasurements=function(e){var t=!1;if(!this._shouldVirtualize())return t;for(var n=0;n<e.length;n++){var r=e[n];r.items&&(t=this._measurePage(r)||t)}return t},t.prototype._measurePage=function(e){var t=!1,n=this._pageRefs[e.key],r=this._cachedPageHeights[e.startIndex];if(n&&this._shouldVirtualize()&&(!r||r.measureVersion!==this._measureVersion)){var i={width:n.clientWidth,height:n.clientHeight};(i.height||i.width)&&(t=e.height!==i.height,e.height=i.height,this._cachedPageHeights[e.startIndex]={height:i.height,measureVersion:this._measureVersion},this._estimatedPageHeight=Math.round((this._estimatedPageHeight*this._totalEstimates+i.height)/(this._totalEstimates+1)),this._totalEstimates++)}return t},t.prototype._onPageAdded=function(e){var t=this.props.onPageAdded;t&&t(e)},t.prototype._onPageRemoved=function(e){var t=this.props.onPageRemoved;t&&t(e)},t.prototype._buildPages=function(e,t){var n=e.renderCount,r=e.items,i=e.startIndex,o=e.getPageHeight;n=this._getRenderCount(e);for(var a=hi({},QM),s=[],l=1,c=0,u=null,d=this._focusedIndex,h=i+n,p=this._shouldVirtualize(e),f=0===this._estimatedPageHeight&&!o,m=this._allowedRect,g=function(n){var o=v._getPageSpecification(e,n,m),g=o.height,_=o.data,y=o.key;l=o.itemCount;var b,x,S=c+g-1,E=du(t.pages,(function(e){return!!e.items&&e.startIndex===n}))>-1,w=!m||S>=m.top&&c<=m.bottom,C=!v._requiredRect||S>=v._requiredRect.top&&c<=v._requiredRect.bottom;if(!f&&(C||w&&E)||!p||d>=n&&d<n+l||n===i){u&&(s.push(u),u=null);var M=Math.min(l,h-n),T=v._createPage(y,r.slice(n,n+M),n,void 0,void 0,_);T.top=c,T.height=g,v._visibleRect&&v._visibleRect.bottom&&(T.isVisible=S>=v._visibleRect.top&&c<=v._visibleRect.bottom),s.push(T),C&&v._allowedRect&&(b=a,x={top:c,bottom:S,height:g,left:m.left,right:m.right,width:m.width},b.top=x.top<b.top||-1===b.top?x.top:b.top,b.left=x.left<b.left||-1===b.left?x.left:b.left,b.bottom=x.bottom>b.bottom||-1===b.bottom?x.bottom:b.bottom,b.right=x.right>b.right||-1===b.right?x.right:b.right,b.width=b.right-b.left+1,b.height=b.bottom-b.top+1)}else u||(u=v._createPage(YM+n,void 0,n,0,void 0,_,!0)),u.height=(u.height||0)+(S-c)+1,u.itemCount+=l;if(c+=S-c+1,f&&p)return"break"},v=this,_=i;_<h;_+=l){if("break"===g(_))break}return u&&(u.key=YM+"end",s.push(u)),this._materializedRect=a,hi(hi({},t),{pages:s,measureVersion:this._measureVersion})},t.prototype._getPageSpecification=function(e,t,n){var r=e.getPageSpecification;if(r){var i=r(t,n,e.items),o=i.itemCount,a=void 0===o?this._getItemCountForPage(t,n):o,s=i.height;return{itemCount:a,height:void 0===s?this._getPageHeight(t,n,a):s,data:i.data,key:i.key}}return{itemCount:a=this._getItemCountForPage(t,n),height:this._getPageHeight(t,n,a)}},t.prototype._getPageHeight=function(e,t,n){if(this.props.getPageHeight)return this.props.getPageHeight(e,t,n,this.props.items);var r=this._cachedPageHeights[e];return r?r.height:this._estimatedPageHeight||30},t.prototype._getItemCountForPage=function(e,t){var n=this.props.getItemCountForPage?this.props.getItemCountForPage(e,t):10;return n||10},t.prototype._createPage=function(e,t,n,r,i,o,a){void 0===n&&(n=-1),void 0===r&&(r=t?t.length:0),void 0===i&&(i={}),e=e||"page-"+n;var s=this._pageCache[e];return s&&s.page?s.page:{key:e,startIndex:n,itemCount:r,items:t,style:i,top:0,height:0,data:o,isSpacer:a||!1}},t.prototype._getRenderCount=function(e){var t=e||this.props,n=t.items,r=t.startIndex,i=t.renderCount;return void 0===i?n?n.length-r:0:i},t.prototype._updateRenderRects=function(e,t,n){var r=e.renderedWindowsAhead,i=e.renderedWindowsBehind,o=t.pages;if(this._shouldVirtualize(e)){var a=this._surfaceRect||hi({},QM),s=function(e){if(void 0===e)return 0;var t=0;return"scrollHeight"in e?t=e.scrollHeight:"document"in e&&(t=e.document.documentElement.scrollHeight),t}(this._scrollElement),l=KM(this._scrollElement);this._surface.current&&(n||!o||!this._surfaceRect||!s||s!==this._scrollHeight||Math.abs(this._scrollTop-l)>this._estimatedPageHeight*ZM)&&(a=this._surfaceRect=$M(this._surface.current),this._scrollTop=l),!n&&s&&s===this._scrollHeight||this._measureVersion++,this._scrollHeight=s||0;var c=Math.max(0,-a.top),u=ga(this._root.current),d={top:c,left:a.left,bottom:c+u.innerHeight,right:a.right,width:a.width,height:u.innerHeight};this._requiredRect=nT(d,this._requiredWindowsBehind,this._requiredWindowsAhead),this._allowedRect=nT(d,i,r),this._visibleRect=d}},t.defaultProps={startIndex:0,onRenderCell:function(e,t,n){return r.createElement(r.Fragment,null,e&&e.name||"")},onRenderCellConditional:void 0,renderedWindowsAhead:2,renderedWindowsBehind:2},t.contextType=$s,t}(r.Component);function nT(e,t,n){var r=e.top-t*e.height,i=e.height+(t+n)*e.height;return{top:r,bottom:r+i,height:i,left:e.left,right:e.right,width:e.width}}var rT=function(e){function t(n){var i=e.call(this,n)||this;i._root=r.createRef(),i._list=r.createRef(),i._subGroupRefs={},i._droppingClassName="",i._onRenderGroupHeader=function(e){return r.createElement(DM,hi({},e))},i._onRenderGroupShowAll=function(e){return r.createElement(BM,hi({},e))},i._onRenderGroupFooter=function(e){return r.createElement(VM,hi({},e))},i._renderSubGroup=function(e,n){var o=i.props,a=o.dragDropEvents,s=o.dragDropHelper,l=o.eventsToRegister,c=o.getGroupItemLimit,u=o.groupNestingDepth,d=o.groupProps,h=o.items,p=o.headerProps,f=o.showAllProps,m=o.footerProps,g=o.listProps,v=o.onRenderCell,_=o.selection,y=o.selectionMode,b=o.viewport,x=o.onRenderGroupHeader,S=o.onRenderGroupShowAll,E=o.onRenderGroupFooter,w=o.onShouldVirtualize,C=o.group,M=o.compact,T=e.level?e.level+1:u;return!e||e.count>0||d&&d.showEmptyGroups?r.createElement(t,{ref:function(e){return i._subGroupRefs["subGroup_"+n]=e},key:i._getGroupKey(e,n),dragDropEvents:a,dragDropHelper:s,eventsToRegister:l,footerProps:m,getGroupItemLimit:c,group:e,groupIndex:n,groupNestingDepth:T,groupProps:d,headerProps:p,items:h,listProps:g,onRenderCell:v,selection:_,selectionMode:y,showAllProps:f,viewport:b,onRenderGroupHeader:x,onRenderGroupShowAll:S,onRenderGroupFooter:E,onShouldVirtualize:w,groups:C?C.children:[],compact:M}):null},i._getGroupDragDropOptions=function(){var e=i.props,t=e.group,n=e.groupIndex,r=e.dragDropEvents;return{eventMap:e.eventsToRegister,selectionIndex:-1,context:{data:t,index:n,isGroup:!0},updateDropState:i._updateDroppingState,canDrag:r.canDrag,canDrop:r.canDrop,onDrop:r.onDrop,onDragStart:r.onDragStart,onDragEnter:r.onDragEnter,onDragLeave:r.onDragLeave,onDragEnd:r.onDragEnd,onDragOver:r.onDragOver}},i._updateDroppingState=function(e,t){var n=i.state.isDropping,r=i.props,o=r.dragDropEvents,a=r.group;n!==e&&(n?o&&o.onDragLeave&&o.onDragLeave(a,t):o&&o.onDragEnter&&(i._droppingClassName=o.onDragEnter(a,t)),i.setState({isDropping:e}))};var o=n.selection,a=n.group;return yu(i),i._id=cl("GroupedListSection"),i.state={isDropping:!1,isSelected:!(!o||!a)&&o.isRangeSelected(a.startIndex,a.count)},i._events=new Cu(i),i}return di(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.dragDropHelper,n=e.selection;t&&this._root.current&&(this._dragDropSubscription=t.subscribe(this._root.current,this._events,this._getGroupDragDropOptions())),n&&this._events.on(n,kC,this._onSelectionChange)},t.prototype.componentWillUnmount=function(){this._events.dispose(),this._dragDropSubscription&&this._dragDropSubscription.dispose()},t.prototype.componentDidUpdate=function(e){this.props.group===e.group&&this.props.groupIndex===e.groupIndex&&this.props.dragDropHelper===e.dragDropHelper||(this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&this._root.current&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getGroupDragDropOptions())))},t.prototype.render=function(){var e=this.props,t=e.getGroupItemLimit,n=e.group,i=e.groupIndex,o=e.headerProps,a=e.showAllProps,s=e.footerProps,l=e.viewport,c=e.selectionMode,u=e.onRenderGroupHeader,d=void 0===u?this._onRenderGroupHeader:u,h=e.onRenderGroupShowAll,p=void 0===h?this._onRenderGroupShowAll:h,f=e.onRenderGroupFooter,m=void 0===f?this._onRenderGroupFooter:f,g=e.onShouldVirtualize,v=e.groupedListClassNames,_=e.groups,y=e.compact,b=e.listProps,x=void 0===b?{}:b,S=this.state.isSelected,E=n&&t?t(n):1/0,w=n&&!n.children&&!n.isCollapsed&&!n.isShowingAll&&(n.count>E||n.hasMoreData),C=n&&n.children&&n.children.length>0,M=x.version,T={group:n,groupIndex:i,groupLevel:n?n.level:0,isSelected:S,selected:S,viewport:l,selectionMode:c,groups:_,compact:y},R={groupedListId:this._id,ariaLevel:(null===n||void 0===n?void 0:n.level)?n.level+1:1,ariaSetSize:_?_.length:void 0,ariaPosInSet:void 0!==i?i+1:void 0},A=hi(hi(hi({},o),T),R),P=hi(hi({},a),T),D=hi(hi({},s),T),I=!!this.props.dragDropHelper&&this._getGroupDragDropOptions().canDrag(n)&&!!this.props.dragDropEvents.canDragGroups;return r.createElement("div",hi({ref:this._root},I&&{draggable:!0},{className:Js(v&&v.group,this._getDroppingClassName()),role:"presentation"}),d(A,this._onRenderGroupHeader),n&&n.isCollapsed?null:C?r.createElement(tT,{role:"presentation",ref:this._list,items:n?n.children:[],onRenderCell:this._renderSubGroup,getItemCountForPage:this._returnOne,onShouldVirtualize:g,version:M,id:this._id}):this._onRenderGroup(E),n&&n.isCollapsed?null:w&&p(P,this._onRenderGroupShowAll),m(D,this._onRenderGroupFooter))},t.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this.forceListUpdate()},t.prototype.forceListUpdate=function(){var e=this.props.group;if(this._list.current){if(this._list.current.forceUpdate(),e&&e.children&&e.children.length>0)for(var t=e.children.length,n=0;n<t;n++){var r;(r=this._list.current.pageRefs["subGroup_"+String(n)])&&r.forceListUpdate()}}else(r=this._subGroupRefs["subGroup_"+String(0)])&&r.forceListUpdate()},t.prototype._onSelectionChange=function(){var e=this.props,t=e.group,n=e.selection;if(n&&t){var r=n.isRangeSelected(t.startIndex,t.count);r!==this.state.isSelected&&this.setState({isSelected:r})}},t.prototype._onRenderGroupCell=function(e,t,n){return function(r,i){return e(t,r,i,n)}},t.prototype._onRenderGroup=function(e){var t=this.props,n=t.group,i=t.items,o=t.onRenderCell,a=t.listProps,s=t.groupNestingDepth,l=t.onShouldVirtualize,c=t.groupProps,u=n&&!n.isShowingAll?n.count:i.length,d=n?n.startIndex:0;return r.createElement(tT,hi({role:c&&c.role?c.role:"rowgroup","aria-label":null===n||void 0===n?void 0:n.name,items:i,onRenderCell:this._onRenderGroupCell(o,s,n),ref:this._list,renderCount:Math.min(u,e),startIndex:d,onShouldVirtualize:l,id:this._id},a))},t.prototype._returnOne=function(){return 1},t.prototype._getGroupKey=function(e,t){return"group-"+(e&&e.key?e.key:String(e.level)+String(t))},t.prototype._getDroppingClassName=function(){var e=this.state.isDropping,t=this.props,n=t.group,r=t.groupedListClassNames;return Js((e=!(!n||!e))&&this._droppingClassName,e&&"is-dropping",e&&r&&r.groupIsDropping)},t}(r.Component),iT=lu(),oT=RC.rowHeight,aT=RC.compactRowHeight,sT=function(e){function t(t){var n=e.call(this,t)||this;n._list=r.createRef(),n._renderGroup=function(e,t){var i=n.props,o=i.dragDropEvents,a=i.dragDropHelper,s=i.eventsToRegister,l=i.groupProps,c=i.items,u=i.listProps,d=i.onRenderCell,h=i.selectionMode,p=i.selection,f=i.viewport,m=i.onShouldVirtualize,g=i.groups,v=i.compact,_={onToggleSelectGroup:n._onToggleSelectGroup,onToggleCollapse:n._onToggleCollapse,onToggleSummarize:n._onToggleSummarize},y=hi(hi({},l.headerProps),_),b=hi(hi({},l.showAllProps),_),x=hi(hi({},l.footerProps),_),S=n._getGroupNestingDepth();if(!l.showEmptyGroups&&e&&0===e.count)return null;var E=hi(hi({},u||{}),{version:n.state.version});return r.createElement(rT,{key:n._getGroupKey(e,t),dragDropEvents:o,dragDropHelper:a,eventsToRegister:s,footerProps:x,getGroupItemLimit:l&&l.getGroupItemLimit,group:e,groupIndex:t,groupNestingDepth:S,groupProps:l,headerProps:y,listProps:E,items:c,onRenderCell:d,onRenderGroupHeader:l.onRenderHeader,onRenderGroupShowAll:l.onRenderShowAll,onRenderGroupFooter:l.onRenderFooter,selectionMode:h,selection:p,showAllProps:b,viewport:f,onShouldVirtualize:m,groupedListClassNames:n._classNames,groups:g,compact:v})},n._getDefaultGroupItemLimit=function(e){return e.children&&e.children.length>0?e.children.length:e.count},n._getGroupItemLimit=function(e){var t=n.props.groupProps;return(t&&t.getGroupItemLimit?t.getGroupItemLimit:n._getDefaultGroupItemLimit)(e)},n._getGroupHeight=function(e){var t=n.props.compact?aT:oT;return t+(e.isCollapsed?0:t*n._getGroupItemLimit(e))},n._getPageHeight=function(e){var t=n.state.groups,r=n.props.getGroupHeight,i=void 0===r?n._getGroupHeight:r,o=t&&t[e];return o?i(o,e):0},n._onToggleCollapse=function(e){var t=n.props.groupProps,r=t&&t.headerProps&&t.headerProps.onToggleCollapse;e&&(r&&r(e),e.isCollapsed=!e.isCollapsed,n._updateIsSomeGroupExpanded(),n.forceUpdate())},n._onToggleSelectGroup=function(e){var t=n.props,r=t.selection,i=t.selectionMode;e&&r&&i===xC.multiple&&r.toggleRangeSelected(e.startIndex,e.count)},n._isInnerZoneKeystroke=function(e){return e.which===Pc(ic)},n._onToggleSummarize=function(e){var t=n.props.groupProps,r=t&&t.showAllProps&&t.showAllProps.onToggleSummarize;r?r(e):(e&&(e.isShowingAll=!e.isShowingAll),n.forceUpdate())},n._getPageSpecification=function(e){var t=n.state.groups,r=t&&t[e];return{key:r&&r.key}},yu(n),n._isSomeGroupExpanded=n._computeIsSomeGroupExpanded(t.groups);var i=t.listProps,o=(void 0===i?{}:i).version,a=void 0===o?{}:o;return n.state={groups:t.groups,items:t.items,listProps:t.listProps,version:a},n}return di(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.groups,r=e.selectionMode,i=e.compact,o=e.items,a=e.listProps,s=a&&a.version,l=hi(hi({},t),{selectionMode:r,compact:i,groups:n,listProps:a,items:o}),c=!1;return s===(t.listProps&&t.listProps.version)&&o===t.items&&n===t.groups&&r===t.selectionMode&&i===t.compact||(c=!0),c&&(l=hi(hi({},l),{version:{}})),l},t.prototype.scrollToIndex=function(e,t,n){this._list.current&&this._list.current.scrollToIndex(e,t,n)},t.prototype.getStartItemIndexInView=function(){return this._list.current.getStartItemIndexInView()||0},t.prototype.componentDidMount=function(){var e=this.props,t=e.groupProps,n=e.groups,r=void 0===n?[]:n;t&&t.isAllGroupsCollapsed&&this._setGroupsCollapsedState(r,t.isAllGroupsCollapsed)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.usePageCache,i=e.onShouldVirtualize,o=e.theme,a=e.role,s=void 0===a?"treegrid":a,l=e.styles,c=e.compact,u=e.focusZoneProps,d=void 0===u?{}:u,h=e.rootListProps,p=void 0===h?{}:h,f=this.state,m=f.groups,g=f.version;this._classNames=iT(l,{theme:o,className:t,compact:c});var v=d.shouldEnterInnerZone,_=void 0===v?this._isInnerZoneKeystroke:v;return r.createElement(Kd,hi({direction:ud.vertical,"data-automationid":"GroupedList","data-is-scrollable":"false",role:"presentation"},d,{shouldEnterInnerZone:_,className:Js(this._classNames.root,d.className)}),r.createElement(mc,null),m?r.createElement(tT,hi({ref:this._list,role:s,items:m,onRenderCell:this._renderGroup,getItemCountForPage:this._returnOne,getPageHeight:this._getPageHeight,getPageSpecification:this._getPageSpecification,usePageCache:n,onShouldVirtualize:i,version:g},p)):this._renderGroup(void 0,0))},t.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this._forceListUpdates()},t.prototype.toggleCollapseAll=function(e){var t=this.state.groups,n=void 0===t?[]:t,r=this.props.groupProps,i=r&&r.onToggleCollapseAll;n.length>0&&(i&&i(e),this._setGroupsCollapsedState(n,e),this._updateIsSomeGroupExpanded(),this.forceUpdate())},t.prototype._setGroupsCollapsedState=function(e,t){for(var n=0;n<e.length;n++)e[n].isCollapsed=t},t.prototype._returnOne=function(){return 1},t.prototype._getGroupKey=function(e,t){return"group-"+(e&&e.key?e.key:String(t))},t.prototype._getGroupNestingDepth=function(){for(var e=0,t=this.state.groups;t&&t.length>0;)e++,t=t[0].children;return e},t.prototype._forceListUpdates=function(e){this.setState({version:{}})},t.prototype._computeIsSomeGroupExpanded=function(e){var t=this;return!(!e||!e.some((function(e){return e.children?t._computeIsSomeGroupExpanded(e.children):!e.isCollapsed})))},t.prototype._updateIsSomeGroupExpanded=function(){var e=this.state.groups,t=this.props.onGroupExpandStateChanged,n=this._computeIsSomeGroupExpanded(e);this._isSomeGroupExpanded!==n&&(t&&t(n),this._isSomeGroupExpanded=n)},t.defaultProps={selectionMode:xC.multiple,isHeaderVisible:!0,groupProps:{},compact:!1},t}(r.Component),lT=nu(sT,(function(e){var t,n,r=e.theme,i=e.className,o=e.compact,a=r.palette,s=ca(gM,r);return{root:[s.root,r.fonts.small,{position:"relative",selectors:(t={},t[".".concat(s.listCell)]={minHeight:38},t)},o&&[s.compact,{selectors:(n={},n[".".concat(s.listCell)]={minHeight:32},n)}],i],group:[s.group,{transition:"background-color ".concat(Oo," ").concat(vM)}],groupIsDropping:{backgroundColor:a.neutralLight}}}),void 0,{scope:"GroupedList"}),cT=["setState","render","componentWillMount","UNSAFE_componentWillMount","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount"];var uT=function(e){function t(t){var n=e.call(this,t)||this;return n._updateComposedComponentRef=n._updateComposedComponentRef.bind(n),n}return di(t,e),t.prototype._updateComposedComponentRef=function(e){var t;this._composedComponentInstance=e,e?this._hoisted=function(e,t,n){void 0===n&&(n=cT);var r=[],i=function(i){"function"!==typeof t[i]||void 0!==e[i]||n&&-1!==n.indexOf(i)||(r.push(i),e[i]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t[i].apply(t,e)})};for(var o in t)i(o);return r}(this,e):this._hoisted&&(t=this,this._hoisted.forEach((function(e){return delete t[e]})))},t}(r.Component);function dT(e,t){var n,r=(null!==t&&void 0!==t?t:!e||e&&e.hasOwnProperty("devicePixelRatio"))?ga():ga(e);return e&&(e===r?n={left:0,top:0,width:r.innerWidth,height:r.innerHeight,right:r.innerWidth,bottom:r.innerHeight}:e.getBoundingClientRect&&(n=e.getBoundingClientRect())),n}function hT(e){return function(t){function n(e){var n=t.call(this,e)||this;return n._root=r.createRef(),n._registerResizeObserver=function(){var e=ga(n._root.current);n._viewportResizeObserver=new e.ResizeObserver(n._onAsyncResize),n._viewportResizeObserver.observe(n._root.current)},n._unregisterResizeObserver=function(){n._viewportResizeObserver&&(n._viewportResizeObserver.disconnect(),delete n._viewportResizeObserver)},n._updateViewport=function(e){var t=n.state.viewport,r=n._root.current,i=ga(r),o=dT(Dd(r),i),a=dT(r,i);((a&&a.width)!==t.width||(o&&o.height)!==t.height)&&n._resizeAttempts<3&&a&&o?(n._resizeAttempts++,n.setState({viewport:{width:a.width,height:o.height}},(function(){n._updateViewport(e)}))):(n._resizeAttempts=0,e&&n._composedComponentInstance&&n._composedComponentInstance.forceUpdate())},n._async=new wu(n),n._events=new Cu(n),n._resizeAttempts=0,n.state={viewport:{width:0,height:0}},n}return di(n,t),n.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.delayFirstMeasure,r=t.disableResizeObserver,i=t.skipViewportMeasures,o=ga(this._root.current);this._onAsyncResize=this._async.debounce(this._onAsyncResize,500,{leading:!1}),i||(!r&&this._isResizeObserverAvailable()?this._registerResizeObserver():this._events.on(o,"resize",this._onAsyncResize),n?this._async.setTimeout((function(){e._updateViewport()}),500):this._updateViewport())},n.prototype.componentDidUpdate=function(e){var t=e.skipViewportMeasures,n=this.props,r=n.disableResizeObserver,i=n.skipViewportMeasures,o=ga(this._root.current);i!==t&&(i?(this._unregisterResizeObserver(),this._events.off(o,"resize",this._onAsyncResize)):(!r&&this._isResizeObserverAvailable()?this._viewportResizeObserver||this._registerResizeObserver():this._events.on(o,"resize",this._onAsyncResize),this._updateViewport()))},n.prototype.componentWillUnmount=function(){this._events.dispose(),this._async.dispose(),this._unregisterResizeObserver()},n.prototype.render=function(){var t=this.state.viewport,n=t.width>0&&t.height>0?t:void 0;return r.createElement("div",{className:"ms-Viewport",ref:this._root,style:{minWidth:1,minHeight:1}},r.createElement(e,hi({ref:this._updateComposedComponentRef,viewport:n},this.props)))},n.prototype.forceUpdate=function(){this._updateViewport(!0)},n.prototype._onAsyncResize=function(){this._updateViewport()},n.prototype._isResizeObserverAvailable=function(){var e=ga(this._root.current);return e&&e.ResizeObserver},n}(uT)}var pT=lu(),fT=100,mT={tabIndex:0},gT={},vT=function(e){var t=e.selection,n=e.ariaLabelForListHeader,i=e.ariaLabelForSelectAllCheckbox,o=e.ariaLabelForSelectionColumn,a=e.className,s=e.checkboxVisibility,l=e.compact,c=e.constrainMode,u=e.dragDropEvents,d=e.groups,h=e.groupProps,p=e.indentWidth,f=e.items,m=e.isPlaceholderData,g=e.isHeaderVisible,v=e.layoutMode,_=e.onItemInvoked,y=e.onItemContextMenu,b=e.onColumnHeaderClick,x=e.onColumnHeaderContextMenu,S=e.selectionMode,E=void 0===S?t.mode:S,w=e.selectionPreservedOnEmptyClick,C=e.selectionZoneProps,M=e.ariaLabel,T=e.ariaLabelForGrid,R=e.rowElementEventMap,A=e.shouldApplyApplicationRole,P=void 0!==A&&A,D=e.getKey,I=e.listProps,k=e.usePageCache,L=e.onShouldVirtualize,N=e.viewport,O=e.minimumPixelsForDrag,F=e.getGroupHeight,U=e.styles,B=e.theme,z=e.cellStyleProps,H=void 0===z?TC:z,V=e.onRenderCheckbox,W=e.useFastIcons,G=e.dragDropHelper,j=e.adjustedColumns,X=e.isCollapsed,K=e.isSizing,q=e.isSomeGroupExpanded,Y=e.version,Z=e.rootRef,Q=e.listRef,J=e.focusZoneRef,$=e.columnReorderOptions,ee=e.groupedListRef,te=e.headerRef,ne=e.onGroupExpandStateChanged,re=e.onColumnIsSizingChanged,ie=e.onRowDidMount,oe=e.onRowWillUnmount,ae=e.disableSelectionZone,se=e.isSelectedOnFocus,le=void 0===se||se,ce=e.onColumnResized,ue=e.onColumnAutoResized,de=e.onToggleCollapse,he=e.onActiveRowChanged,pe=e.onBlur,fe=e.rowElementEventMap,me=e.onRenderMissingItem,ge=e.onRenderItemColumn,ve=e.onRenderField,_e=e.getCellValueKey,ye=e.getRowAriaLabel,be=e.getRowAriaDescribedBy,xe=e.checkButtonAriaLabel,Se=e.checkButtonGroupAriaLabel,Ee=e.checkboxCellClassName,we=e.useReducedRowRenderer,Ce=e.enableUpdateAnimations,Me=e.enterModalSelectionOnTouch,Te=e.onRenderDefaultRow,Re=e.selectionZoneRef,Ae=e.focusZoneProps,Pe="grid",De=e.role?e.role:Pe,Ie=cl("row"),ke=function(e){var t=0,n=e;for(;n&&n.length>0;)t++,n=n[0].children;return t}(d),Le=function(e){return r.useMemo((function(){var t={};if(e)for(var n=1,r=1,i=0,o=e;i<o.length;i++){var a=o[i];t[a.key]={numOfGroupHeadersBeforeItem:r,totalRowCount:n},r++,n+=a.count+1}return t}),[e])}(d),Ne=r.useMemo((function(){return hi({renderedWindowsAhead:K?0:2,renderedWindowsBehind:K?0:2,getKey:D,version:Y},I)}),[K,D,Y,I]),Oe=UC.none;if(E===xC.single&&(Oe=UC.hidden),E===xC.multiple){var Fe=h&&h.headerProps&&h.headerProps.isCollapsedGroupSelectVisible;void 0===Fe&&(Fe=!0),Oe=Fe||!d||q?UC.visible:UC.hidden}s===gC.hidden&&(Oe=UC.none);var Ue=r.useCallback((function(e){return r.createElement($C,hi({},e))}),[]),Be=r.useCallback((function(){return null}),[]),ze=e.onRenderDetailsHeader,He=r.useMemo((function(){return ze?cd(ze,Ue):Ue}),[ze,Ue]),Ve=e.onRenderDetailsFooter,We=r.useMemo((function(){return Ve?cd(Ve,Be):Be}),[Ve,Be]),Ge=r.useMemo((function(){return{columns:j,groupNestingDepth:ke,selection:t,selectionMode:E,viewport:N,checkboxVisibility:s,indentWidth:p,cellStyleProps:H}}),[j,ke,t,E,N,s,p,H]),je=$&&$.onDragEnd,Xe=r.useCallback((function(e,t){var n=e.dropLocation,r=fC.outside;if(je){if(n&&n!==fC.header)r=n;else if(Z.current){var i=Z.current.getBoundingClientRect();t.clientX>i.left&&t.clientX<i.right&&t.clientY>i.top&&t.clientY<i.bottom&&(r=fC.surface)}je(r)}}),[je,Z]),Ke=r.useMemo((function(){if($)return hi(hi({},$),{onColumnDragEnd:Xe})}),[$,Xe]),qe=(g?1:0)+(e.onRenderDetailsFooter?1:0)+function(e){var t=0;if(e)for(var n=mi([],e,!0),r=void 0;n&&n.length>0;)++t,(r=n.pop())&&r.children&&n.push.apply(n,r.children);return t}(d)+(f?f.length:0),Ye=(Oe!==UC.none?1:0)+(j?j.length:0)+(d?1:0),Ze=r.useMemo((function(){return pT(U,{theme:B,compact:l,isFixed:v===mC.fixedColumns,isHorizontalConstrained:c===pC.horizontalConstrained,className:a})}),[U,B,l,v,c,a]),Qe=h&&h.onRenderFooter,Je=r.useMemo((function(){return Qe?function(e,n){return Qe(hi(hi({},e),{columns:j,groupNestingDepth:ke,indentWidth:p,selection:t,selectionMode:E,viewport:N,checkboxVisibility:s,cellStyleProps:H}),n)}:void 0}),[Qe,j,ke,p,t,E,N,s,H]),$e=h&&h.onRenderHeader,et=r.useMemo((function(){return $e?function(e,n){var r,i,o=e.groupIndex,a=void 0!==o?null===(i=null===(r=e.groups)||void 0===r?void 0:r[o])||void 0===i?void 0:i.key:void 0,l=void 0!==a&&Le[a]?Le[a].totalRowCount:0;return $e(hi(hi({},e),{columns:j,groupNestingDepth:ke,indentWidth:p,selection:t,selectionMode:s!==gC.hidden?E:xC.none,viewport:N,checkboxVisibility:s,cellStyleProps:H,ariaColSpan:j.length,ariaLevel:void 0,ariaPosInSet:void 0,ariaSetSize:void 0,ariaRowCount:void 0,ariaRowIndex:void 0!==o?l+(g?1:0):void 0}),n)}:function(e,t){var n,r,i=e.groupIndex,o=void 0!==i?null===(r=null===(n=e.groups)||void 0===n?void 0:n[i])||void 0===r?void 0:r.key:void 0,a=void 0!==o&&Le[o]?Le[o].totalRowCount:0;return t(hi(hi({},e),{ariaColSpan:j.length,ariaLevel:void 0,ariaPosInSet:void 0,ariaSetSize:void 0,ariaRowCount:void 0,ariaRowIndex:void 0!==i?a+(g?1:0):void 0}))}}),[$e,j,ke,p,g,t,E,N,s,H,Le]),tt=r.useMemo((function(){var e;return hi(hi({},h),{role:De===Pe?"rowgroup":"presentation",onRenderFooter:Je,onRenderHeader:et,headerProps:hi(hi({},null===h||void 0===h?void 0:h.headerProps),{selectAllButtonProps:hi({"aria-label":Se},null===(e=null===h||void 0===h?void 0:h.headerProps)||void 0===e?void 0:e.selectAllButtonProps)})})}),[h,Je,et,Se,De]),nt=ru((function(){return ia((function(e){var t=0;return e.forEach((function(e){return t+=e.calculatedWidth||e.minWidth})),t}))})),rt=h&&h.collapseAllVisibility,it=r.useMemo((function(){return nt(j)}),[j,nt]),ot=r.useCallback((function(n,r,i,o){var a=e.onRenderRow?cd(e.onRenderRow,Te):Te,c=o?o.key:void 0,d=c&&Le[c]?Le[c].numOfGroupHeadersBeforeItem:0,h=De===Pe?void 0:"presentation",f=i>0?gT:mT,m={item:r,itemIndex:i,flatIndexOffset:(g?2:1)+d,compact:l,columns:j,groupNestingDepth:n,id:"".concat(Ie,"-").concat(i),selectionMode:E,selection:t,onDidMount:ie,onWillUnmount:oe,onRenderItemColumn:ge,onRenderField:ve,getCellValueKey:_e,eventsToRegister:fe,dragDropEvents:u,dragDropHelper:G,viewport:N,checkboxVisibility:s,collapseAllVisibility:rt,getRowAriaLabel:ye,getRowAriaDescribedBy:be,checkButtonAriaLabel:xe,checkboxCellClassName:Ee,useReducedRowRenderer:we,indentWidth:p,cellStyleProps:H,onRenderDetailsCheckbox:V,enableUpdateAnimations:Ce,rowWidth:it,useFastIcons:W,role:h,isGridRow:!0,focusZoneProps:f};return r?a(m):me?me(i,m):null}),[l,j,E,t,Ie,ie,oe,ge,ve,_e,fe,u,G,N,s,rt,ye,be,g,xe,Ee,we,p,H,V,Ce,W,Te,me,e.onRenderRow,it,De,Le]),at=r.useCallback((function(e){return function(t,n){return ot(e,t,n)}}),[ot]),st=r.useCallback((function(e){return e.which===Pc(ic,B)}),[B]),lt=hi(hi({},Ae),{componentRef:Ae&&Ae.componentRef?Ae.componentRef:J,className:Ae&&Ae.className?Js(Ze.focusZone,Ae.className):Ze.focusZone,direction:Ae?Ae.direction:ud.vertical,shouldEnterInnerZone:Ae&&Ae.shouldEnterInnerZone?Ae.shouldEnterInnerZone:st,onActiveElementChanged:Ae&&Ae.onActiveElementChanged?Ae.onActiveElementChanged:he,shouldRaiseClicksOnEnter:!1,onBlur:Ae&&Ae.onBlur?Ae.onBlur:pe}),ct=d&&(null===h||void 0===h?void 0:h.groupedListAs)?$d(h.groupedListAs,lT):lT,ut=d?r.createElement(ct,{focusZoneProps:lt,componentRef:ee,groups:d,groupProps:tt,items:f,onRenderCell:ot,role:"presentation",selection:t,selectionMode:s!==gC.hidden?E:xC.none,dragDropEvents:u,dragDropHelper:G,eventsToRegister:R,listProps:Ne,onGroupExpandStateChanged:ne,usePageCache:k,onShouldVirtualize:L,getGroupHeight:F,compact:l}):r.createElement(Kd,hi({},lt),r.createElement(tT,hi({ref:Q,role:"presentation",items:f,onRenderCell:at(0),usePageCache:k,onShouldVirtualize:L},Ne))),dt=r.useCallback((function(e){e.which===oc&&J.current&&J.current.focus()&&(le&&0===t.getSelectedIndices().length&&t.setIndexSelected(0,!0,!1),e.preventDefault(),e.stopPropagation())}),[t,J,le]),ht=r.useCallback((function(e){e.which!==rc||e.altKey||te.current&&te.current.focus()&&(e.preventDefault(),e.stopPropagation())}),[te]);return r.createElement("div",hi({ref:Z,className:Ze.root,"data-automationid":"DetailsList","data-is-scrollable":"false"},P?{role:"application"}:{}),r.createElement(mc,null),r.createElement("div",{role:De,"aria-label":T||M,"aria-rowcount":m?0:qe,"aria-colcount":Ye,"aria-busy":m},r.createElement("div",{onKeyDown:dt,role:"presentation",className:Ze.headerWrapper},g&&He({componentRef:te,selectionMode:E,layoutMode:v,selection:t,columns:j,onColumnClick:b,onColumnContextMenu:x,onColumnResized:ce,onColumnIsSizingChanged:re,onColumnAutoResized:ue,groupNestingDepth:ke,isAllCollapsed:X,onToggleCollapseAll:de,ariaLabel:n,ariaLabelForSelectAllCheckbox:i,ariaLabelForSelectionColumn:o,selectAllVisibility:Oe,collapseAllVisibility:h&&h.collapseAllVisibility,viewport:N,columnReorderProps:Ke,minimumPixelsForDrag:O,cellStyleProps:H,checkboxVisibility:s,indentWidth:p,onRenderDetailsCheckbox:V,rowWidth:nt(j),useFastIcons:W},He)),r.createElement("div",{onKeyDown:ht,role:"presentation",className:Ze.contentWrapper},ae?ut:r.createElement(dM,hi({ref:Re,selection:t,selectionPreservedOnEmptyClick:w,selectionMode:E,isSelectedOnFocus:le,selectionClearedOnEscapePress:le,toggleWithoutModifierPressed:!le,onItemInvoked:_,onItemContextMenu:y,enterModalOnTouch:Me},C||{}),ut)),We(hi({},Ge))))},_T=function(e){function t(t){var n=e.call(this,t)||this;return n._root=r.createRef(),n._header=r.createRef(),n._groupedList=r.createRef(),n._list=r.createRef(),n._focusZone=r.createRef(),n._selectionZone=r.createRef(),n._onRenderRow=function(e,t){return r.createElement(aM,hi({},e))},n._getDerivedStateFromProps=function(e,t){var r=n.props,i=r.checkboxVisibility,o=r.items,a=r.setKey,s=r.selectionMode,l=void 0===s?n._selection.mode:s,c=r.columns,u=r.viewport,d=r.compact,h=r.dragDropEvents,p=(n.props.groupProps||{}).isAllGroupsCollapsed,f=void 0===p?void 0:p,m=e.viewport&&e.viewport.width||0,g=u&&u.width||0,v=e.setKey!==a||void 0===e.setKey,_=!1;e.layoutMode!==n.props.layoutMode&&(_=!0);var y=t;return v&&(n._initialFocusedIndex=e.initialFocusedIndex,y=hi(hi({},y),{focusedItemIndex:void 0!==n._initialFocusedIndex?n._initialFocusedIndex:-1})),n.props.disableSelectionZone||e.items===o||n._selection.setItems(e.items,v),e.checkboxVisibility===i&&e.columns===c&&m===g&&e.compact===d||(_=!0),y=hi(hi({},y),n._adjustColumns(e,y,!0)),e.selectionMode!==l&&(_=!0),void 0===f&&e.groupProps&&void 0!==e.groupProps.isAllGroupsCollapsed&&(y=hi(hi({},y),{isCollapsed:e.groupProps.isAllGroupsCollapsed,isSomeGroupExpanded:!e.groupProps.isAllGroupsCollapsed})),e.dragDropEvents!==h&&(n._dragDropHelper&&n._dragDropHelper.dispose(),n._dragDropHelper=e.dragDropEvents?new zC({selection:n._selection,minimumPixelsForDrag:e.minimumPixelsForDrag}):void 0,_=!0),_&&(y=hi(hi({},y),{version:{}})),y},n._onGroupExpandStateChanged=function(e){n.setState({isSomeGroupExpanded:e})},n._onColumnIsSizingChanged=function(e,t){n.setState({isSizing:t})},n._onRowDidMount=function(e){var t=e.props,r=t.item,i=t.itemIndex,o=n._getItemKey(r,i);n._activeRows[o]=e,n._setFocusToRowIfPending(e);var a=n.props.onRowDidMount;a&&a(r,i)},n._onRowWillUnmount=function(e){var t=n.props.onRowWillUnmount,r=e.props,i=r.item,o=r.itemIndex,a=n._getItemKey(i,o);delete n._activeRows[a],t&&t(i,o)},n._onToggleCollapse=function(e){n.setState({isCollapsed:e}),n._groupedList.current&&n._groupedList.current.toggleCollapseAll(e)},n._onColumnResized=function(e,t,r){var i=Math.max(e.minWidth||fT,t);n.props.onColumnResize&&n.props.onColumnResize(e,i,r),n._rememberCalculatedWidth(e,i),n.setState(hi(hi({},n._adjustColumns(n.props,n.state,!0,r)),{version:{}}))},n._onColumnAutoResized=function(e,t){var r=0,i=0,o=Object.keys(n._activeRows).length;for(var a in n._activeRows){if(n._activeRows.hasOwnProperty(a))n._activeRows[a].measureCell(t,(function(a){r=Math.max(r,a),++i===o&&n._onColumnResized(e,r,t)}))}},n._onActiveRowChanged=function(e,t){var r=n.props,i=r.items,o=r.onActiveItemChanged;if(e&&e.getAttribute("data-item-index")){var a=Number(e.getAttribute("data-item-index"));a>=0&&(o&&o(i[a],a,t),n.setState({focusedItemIndex:a}))}},n._onBlur=function(e){n.setState({focusedItemIndex:-1})},yu(n),n._async=new wu(n),n._activeRows={},n._columnOverrides={},n.state={focusedItemIndex:-1,lastWidth:0,adjustedColumns:n._getAdjustedColumns(t,void 0),isSizing:!1,isCollapsed:t.groupProps&&t.groupProps.isAllGroupsCollapsed,isSomeGroupExpanded:t.groupProps&&!t.groupProps.isAllGroupsCollapsed,version:{},getDerivedStateFromProps:n._getDerivedStateFromProps},n._selection=t.selection||new hM({onSelectionChanged:void 0,getKey:t.getKey,selectionMode:t.selectionMode}),n.props.disableSelectionZone||n._selection.setItems(t.items,!1),n._dragDropHelper=t.dragDropEvents?new zC({selection:n._selection,minimumPixelsForDrag:t.minimumPixelsForDrag}):void 0,n._initialFocusedIndex=t.initialFocusedIndex,n}return di(t,e),t.getDerivedStateFromProps=function(e,t){return t.getDerivedStateFromProps(e,t)},t.prototype.scrollToIndex=function(e,t,n){this._list.current&&this._list.current.scrollToIndex(e,t,n),this._groupedList.current&&this._groupedList.current.scrollToIndex(e,t,n)},t.prototype.focusIndex=function(e,t,n,r){void 0===t&&(t=!1);var i=this.props.items[e];if(i){this.scrollToIndex(e,n,r);var o=this._getItemKey(i,e),a=this._activeRows[o];a&&this._setFocusToRow(a,t)}},t.prototype.getStartItemIndexInView=function(){return this._list&&this._list.current?this._list.current.getStartItemIndexInView():this._groupedList&&this._groupedList.current?this._groupedList.current.getStartItemIndexInView():0},t.prototype.updateColumn=function(e,t){var n,r,i=this.props,o=i.columns,a=void 0===o?[]:o,s=i.selectionMode,l=i.checkboxVisibility,c=i.columnReorderOptions,u=t.width,d=t.newColumnIndex,h=a.findIndex((function(t){return t.key===e.key}));if(u&&this._onColumnResized(e,u,h),void 0!==d&&c){var p=s===xC.none||l===gC.hidden,f=(l!==gC.hidden?2:1)+h,m=p?f-1:f-2,g=p?d-1:d-2,v=null!==(n=c.frozenColumnCountFromStart)&&void 0!==n?n:0,_=null!==(r=c.frozenColumnCountFromEnd)&&void 0!==r?r:0;if(g>=v&&g<a.length-_)if(c.onColumnDrop){var y={draggedIndex:m,targetIndex:g};c.onColumnDrop(y)}else c.handleColumnReorder&&c.handleColumnReorder(m,g)}},t.prototype.componentWillUnmount=function(){this._dragDropHelper&&this._dragDropHelper.dispose(),this._async.dispose()},t.prototype.componentDidUpdate=function(e,t){this._notifyColumnsResized();var n=$h(this.context);if(void 0!==this._initialFocusedIndex&&(a=this.props.items[this._initialFocusedIndex])){var r=this._getItemKey(a,this._initialFocusedIndex);(i=this._activeRows[r])&&this._setFocusToRowIfPending(i)}if(this.props.items!==e.items&&this.props.items.length>0&&-1!==this.state.focusedItemIndex&&!pd(this._root.current,null===n||void 0===n?void 0:n.activeElement,!1)){var i,o=this.state.focusedItemIndex<this.props.items.length?this.state.focusedItemIndex:this.props.items.length-1,a=this.props.items[o];r=this._getItemKey(a,this.state.focusedItemIndex);(i=this._activeRows[r])?this._setFocusToRow(i):this._initialFocusedIndex=o}this.props.onDidUpdate&&this.props.onDidUpdate(this)},t.prototype.render=function(){return r.createElement(vT,hi({},this.props,this.state,{selection:this._selection,dragDropHelper:this._dragDropHelper,rootRef:this._root,listRef:this._list,groupedListRef:this._groupedList,focusZoneRef:this._focusZone,headerRef:this._header,selectionZoneRef:this._selectionZone,onGroupExpandStateChanged:this._onGroupExpandStateChanged,onColumnIsSizingChanged:this._onColumnIsSizingChanged,onRowDidMount:this._onRowDidMount,onRowWillUnmount:this._onRowWillUnmount,onColumnResized:this._onColumnResized,onColumnAutoResized:this._onColumnAutoResized,onToggleCollapse:this._onToggleCollapse,onActiveRowChanged:this._onActiveRowChanged,onBlur:this._onBlur,onRenderDefaultRow:this._onRenderRow}))},t.prototype.forceUpdate=function(){e.prototype.forceUpdate.call(this),this._forceListUpdates()},t.prototype._getGroupNestingDepth=function(){for(var e=0,t=this.props.groups;t&&t.length>0;)e++,t=t[0].children;return e},t.prototype._setFocusToRowIfPending=function(e){var t=e.props.itemIndex;void 0!==this._initialFocusedIndex&&t===this._initialFocusedIndex&&(this._setFocusToRow(e),delete this._initialFocusedIndex)},t.prototype._setFocusToRow=function(e,t){void 0===t&&(t=!1),this._selectionZone.current&&this._selectionZone.current.ignoreNextFocus(),this._async.setTimeout((function(){e.focus(t)}),0)},t.prototype._forceListUpdates=function(){this._groupedList.current&&this._groupedList.current.forceUpdate(),this._list.current&&this._list.current.forceUpdate()},t.prototype._notifyColumnsResized=function(){this.state.adjustedColumns.forEach((function(e){e.onColumnResize&&e.onColumnResize(e.currentWidth)}))},t.prototype._adjustColumns=function(e,t,n,r){var i=this._getAdjustedColumns(e,t,n,r),o=this.props.viewport,a=o&&o.width?o.width:0;return hi(hi({},t),{adjustedColumns:i,lastWidth:a})},t.prototype._getAdjustedColumns=function(e,t,n,r){var i,o=this,a=e.items,s=e.layoutMode,l=e.selectionMode,c=e.viewport,u=c&&c.width?c.width:0,d=e.columns,h=this.props?this.props.columns:[],p=t?t.lastWidth:-1,f=t?t.lastSelectionMode:void 0;return n||p!==u||f!==l||h&&d!==h?(d=d||function(e,t,n,r,i,o,a,s){var l=[];if(e&&e.length){var c=e[0];for(var u in c)c.hasOwnProperty(u)&&l.push({key:u,name:u,fieldName:u,minWidth:fT,maxWidth:300,isCollapsible:!!l.length,isMultiline:void 0!==a&&a,isSorted:r===u,isSortedDescending:!!i,isRowHeader:!1,columnActionsMode:null!==s&&void 0!==s?s:hC.clickable,isResizable:t,onColumnClick:n,isGrouped:o===u})}return l}(a,!0),s===mC.fixedColumns?(i=this._getFixedColumns(d,u,e)).forEach((function(e){o._rememberCalculatedWidth(e,e.calculatedWidth)})):(i=this._getJustifiedColumns(d,u,e)).forEach((function(e){o._getColumnOverride(e.key).currentWidth=e.calculatedWidth})),i):d||[]},t.prototype._getFixedColumns=function(e,t,n){var r=this,i=this.props,o=i.selectionMode,a=void 0===o?this._selection.mode:o,s=i.checkboxVisibility,l=i.flexMargin,c=i.skipViewportMeasures,u=t-(l||0),d=0;e.forEach((function(e){c||!e.flexGrow?u-=e.maxWidth||e.minWidth||fT:(u-=e.minWidth||fT,d+=e.flexGrow),u-=yT(e,n,!0)}));var h=a!==xC.none&&s!==gC.hidden?48:0,p=36*this._getGroupNestingDepth(),f=(u-=h+p)/d;return c||e.forEach((function(e){var t=hi(hi({},e),r._columnOverrides[e.key]);if(t.flexGrow&&t.maxWidth){var n=t.flexGrow*f+t.minWidth,i=n-t.maxWidth;i>0&&(u+=i,d-=i/(n-t.minWidth)*t.flexGrow)}})),f=u>0?u/d:0,e.map((function(e){var n=hi(hi({},e),r._columnOverrides[e.key]);return!c&&n.flexGrow&&u<=0&&0===t||n.calculatedWidth||(!c&&n.flexGrow?(n.calculatedWidth=n.minWidth+n.flexGrow*f,n.calculatedWidth=Math.min(n.calculatedWidth,n.maxWidth||Number.MAX_VALUE)):n.calculatedWidth=n.maxWidth||n.minWidth||fT),n}))},t.prototype._getJustifiedColumns=function(e,t,n){var r=this,i=n.selectionMode,o=void 0===i?this._selection.mode:i,a=n.checkboxVisibility,s=n.skipViewportMeasures,l=o!==xC.none&&a!==gC.hidden?48:0,c=36*this._getGroupNestingDepth(),u=0,d=0,h=t-(l+c),p=e.map((function(e,t){var i=hi(hi({},e),{calculatedWidth:e.minWidth||fT}),o=hi(hi({},i),r._columnOverrides[e.key]);return i.isCollapsible||i.isCollapsable||(d+=yT(i,n)),u+=yT(o,n),o}));if(s)return p;for(var f=p.length-1;f>=0&&u>h;){var m=(y=p[f]).minWidth||fT,g=u-h;if(y.calculatedWidth-m>=g||!y.isCollapsible&&!y.isCollapsable){var v=y.calculatedWidth;d<h&&(y.calculatedWidth=Math.max(y.calculatedWidth-g,m)),u-=v-y.calculatedWidth}else u-=yT(y,n),p.splice(f,1);f--}for(var _=0;_<p.length&&u<h;_++){var y=p[_],b=_===p.length-1,x=this._columnOverrides[y.key];if(!x||!x.calculatedWidth||b){var S=h-u,E=void 0;if(b)E=S;else{var w=y.maxWidth;m=y.minWidth||w||fT;E=w?Math.min(S,w-m):S}y.calculatedWidth=y.calculatedWidth+E,u+=E}}return p},t.prototype._rememberCalculatedWidth=function(e,t){var n=this._getColumnOverride(e.key);n.calculatedWidth=t,n.currentWidth=t},t.prototype._getColumnOverride=function(e){return this._columnOverrides[e]=this._columnOverrides[e]||{}},t.prototype._getItemKey=function(e,t){var n=this.props.getKey,r=void 0;return e&&(r=e.key),n&&(r=n(e,t)),r||(r=t),r},t.defaultProps={layoutMode:mC.justified,selectionMode:xC.multiple,constrainMode:pC.horizontalConstrained,checkboxVisibility:gC.onHover,isHeaderVisible:!0,compact:!1,useFastIcons:!0},t.contextType=$s,t=fi([hT],t)}(r.Component);function yT(e,t,n){var r=t.cellStyleProps,i=void 0===r?TC:r;return(n?0:e.calculatedWidth)+i.cellLeftPadding+i.cellRightPadding+(e.isPadded?i.cellExtraRightPadding:0)}var bT={root:"ms-DetailsList",compact:"ms-DetailsList--Compact",contentWrapper:"ms-DetailsList-contentWrapper",headerWrapper:"ms-DetailsList-headerWrapper",isFixed:"is-fixed",isHorizontalConstrained:"is-horizontalConstrained",listCell:"ms-List-cell"},xT=nu(_T,(function(e){var t,n,r=e.theme,i=e.className,o=e.isHorizontalConstrained,a=e.compact,s=e.isFixed,l=r.semanticColors,c=ca(bT,r);return{root:[c.root,r.fonts.small,{position:"relative",color:l.listText,selectors:(t={},t["& .".concat(c.listCell)]={minHeight:38,wordBreak:"break-word"},t)},s&&c.isFixed,a&&[c.compact,{selectors:(n={},n[".".concat(c.listCell)]={minHeight:32},n)}],o&&[c.isHorizontalConstrained,{overflowX:"auto",overflowY:"visible",WebkitOverflowScrolling:"touch"}],i],focusZone:[{display:"inline-block",minWidth:"100%",minHeight:1}],headerWrapper:c.headerWrapper,contentWrapper:c.contentWrapper}}),void 0,{scope:"DetailsList"});const ST={iconName:"Delete"},ET={iconName:"View"},wT={iconName:"Hide"},CT=ei((()=>{const e=[{key:"type",name:Dm.t.type,fieldName:"type",minWidth:60,maxWidth:80,onRender:e=>{const t={sphere:Dm.t.sphere,cube:Dm.t.cube,cylinder:Dm.t.cylinder,cone:Dm.t.cone,torus:Dm.t.torus};return(0,Kg.jsx)(dC,{children:t[e.type]||e.type})}},{key:"id",name:"ID",fieldName:"id",minWidth:40,maxWidth:60,onRender:e=>(0,Kg.jsx)(dC,{children:e.id})},{key:"actions",name:Dm.t.actions,minWidth:80,maxWidth:100,onRender:e=>(0,Kg.jsxs)(qc,{horizontal:!0,tokens:{childrenGap:3},children:[(0,Kg.jsx)(Um,{iconProps:e.visible?ET:wT,title:e.visible?Dm.t.hide:Dm.t.show,onClick:()=>Am.updateShape(e.id,{visible:!e.visible}),styles:{root:{width:28,height:28}}}),(0,Kg.jsx)(Um,{iconProps:ST,title:Dm.t.delete,onClick:()=>Am.removeShape(e.id),styles:{root:{width:28,height:28}}})]})}];return(0,Kg.jsxs)(qc,{styles:{root:{height:"100%",overflow:"hidden"}},children:[(0,Kg.jsx)(qc,{styles:{root:{padding:"10px 10px",backgroundColor:"#faf9f8",borderBottom:"1px solid #e1dfdd"}},children:(0,Kg.jsxs)(dC,{variant:"mediumPlus",styles:{root:{fontWeight:600}},children:[Dm.t.shapeList," (",Am.shapes.length,")"]})}),(0,Kg.jsx)(qc,{styles:{root:{flex:1,overflow:"hidden"}},children:0===Am.shapes.length?(0,Kg.jsx)(qc,{styles:{root:{padding:10,textAlign:"center",color:"#666"}},children:(0,Kg.jsx)(dC,{children:Dm.t.noShapes})}):(0,Kg.jsx)(xT,{items:Am.shapes,columns:e,setKey:"list-".concat(Am.selectedShapeId||"none"),selectionMode:xC.none,onItemInvoked:e=>{Am.selectedShapeId===e.id?Am.selectShape(null):Am.selectShape(e.id)},styles:{root:{overflow:"visible","& .ms-DetailsRow":{cursor:"pointer"},"& .ms-DetailsRow:hover":{backgroundColor:"#f3f2f1"}}},onRenderRow:(e,t)=>{if(!e||!t)return null;const n=e.item.id===Am.selectedShapeId;return t(Tm(Tm({},e),{},{styles:{root:{backgroundColor:n?"#e3f2fd":"transparent",border:n?"1px solid #1976d2":"1px solid transparent",borderRadius:"4px",margin:"1px 4px",padding:"0px",transition:"all 0.2s ease",":hover":{backgroundColor:n?"#e3f2fd":"#f5f5f5"}},cell:{color:n?"#1565c0":"inherit",fontWeight:n?"600":"normal"}}}))},getKey:e=>e.id})})]})})),MT=ei((()=>(0,Kg.jsx)("div",{className:"status-bar",style:{height:"32px",backgroundColor:"#f3f2f1",borderTop:"1px solid #e1dfdd",display:"flex",alignItems:"center",padding:"0 16px",fontSize:"12px",color:"#666"},children:(0,Kg.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[(0,Kg.jsx)("div",{children:(0,Kg.jsxs)(dC,{styles:{root:{fontSize:"12px",color:"#666"}},children:[Dm.t.appName," ",Dm.t.version]})}),(0,Kg.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto"},children:Am.selectedShapeId&&(0,Kg.jsxs)(qc,{horizontal:!0,tokens:{childrenGap:6},children:[(0,Kg.jsxs)(dC,{styles:{root:{fontSize:"12px",color:"#666"}},children:[Dm.t.selectedShape,":"]}),(0,Kg.jsx)(dC,{styles:{root:{fontSize:"12px",fontWeight:600,color:"#0078d4"}},children:Am.selectedShape?Dm.t[Am.selectedShape.type]||Am.selectedShape.type:Dm.t.unknown})]})}),(0,Kg.jsx)("div",{style:{marginLeft:"auto"},children:(0,Kg.jsxs)(qc,{horizontal:!0,tokens:{childrenGap:6},children:[(0,Kg.jsxs)(dC,{styles:{root:{fontSize:"12px",color:"#666"}},children:[Dm.t.totalShapes,":"]}),(0,Kg.jsx)(dC,{styles:{root:{fontSize:"12px",fontWeight:600,color:"#0078d4"}},children:Am.shapes.length})]})})]})})));!function(e,t){var n,r;void 0===e&&(e=(null===(n=null===Qs||void 0===Qs?void 0:Qs.FabricConfig)||void 0===n?void 0:n.iconBaseUrl)||(null===(r=null===Qs||void 0===Qs?void 0:Qs.FabricConfig)||void 0===r?void 0:r.fontBaseUrl)||Zs),[Ps,Ds,Is,ks,Ls,Ns,Os,Fs,Us,Bs,zs,Hs,Vs,Ws,Gs,js,Xs,Ks,qs].forEach((function(n){return n(e,t)})),Ys()}();const TT=ls({palette:{themePrimary:"#0078d4",themeLighterAlt:"#eff6fc",themeLighter:"#deecf9",themeLight:"#c7e0f4",themeTertiary:"#71afe5",themeSecondary:"#2b88d8",themeDarkAlt:"#106ebe",themeDark:"#005a9e",themeDarker:"#004578"}}),RT=ei((()=>{const[e,t]=(0,r.useState)({width:800,height:600});return(0,r.useEffect)((()=>{const e=()=>{const e=document.getElementById("sidebar"),n=document.getElementById("toolbar"),r=document.querySelector(".status-bar");if(e&&n){const i=e.offsetWidth,o=n.offsetHeight,a=r?r.offsetHeight:32,s=window.innerWidth-i-4,l=window.innerHeight-o-a-4;t({width:Math.max(400,s),height:Math.max(300,l)})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,Kg.jsx)(Mc,{theme:TT,children:(0,Kg.jsx)("div",{className:"app",children:(0,Kg.jsxs)(qc,{styles:{root:{height:"100vh"}},children:[(0,Kg.jsx)("div",{id:"toolbar",children:(0,Kg.jsx)(Zg,{})}),(0,Kg.jsxs)(qc,{horizontal:!0,styles:{root:{flex:1,overflow:"hidden"}},children:[(0,Kg.jsx)("div",{id:"sidebar",className:"sidebar",children:(0,Kg.jsx)(CT,{})}),(0,Kg.jsx)(qc,{styles:{root:{flex:1,padding:"1px",backgroundColor:"#f5f5f5",alignItems:"center",justifyContent:"center"}},children:(0,Kg.jsx)(qc,{tokens:{childrenGap:1},horizontalAlign:"center",children:(0,Kg.jsx)("div",{style:{border:"2px solid #ccc",borderRadius:8,backgroundColor:"white",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:(0,Kg.jsx)(uC,{width:e.width,height:e.height})})})})]}),(0,Kg.jsx)(MT,{})]})})})}));o.createRoot(document.getElementById("root")).render((0,Kg.jsx)(r.StrictMode,{children:(0,Kg.jsx)(RT,{})}))})();
//# sourceMappingURL=main.5ad4c2c3.js.map